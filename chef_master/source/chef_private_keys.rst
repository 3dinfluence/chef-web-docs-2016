=====================================================
Public and Private Keys
=====================================================

.. include:: ../../includes_chef/includes_chef.rst

How Keys are Used?
=====================================================
.. include:: ../../includes_chef_auth/includes_chef_auth_authentication.rst

|chef client|
-----------------------------------------------------
.. include:: ../../includes_security/includes_security_key_pairs_chef_client.rst

Knife
-----------------------------------------------------
.. include:: ../../includes_security/includes_security_key_pairs_knife.rst

|knife| can also use the |subcommand knife exec| subcommand to make specific, authenticated requests to the |chef server|. |knife| plugins can also make authenticated requests to the |chef server| by leveraging the |subcommand knife exec| subcommand.

|chef validator|
-----------------------------------------------------
.. include:: ../../includes_security/includes_security_chef_validator.rst


Where are Keys Stored?
=====================================================
Keys are stored in different locations, depending on if the location is a node or a workstation.

Nodes
-----------------------------------------------------
Each node stores its private key locally. This private key is generated as part of the bootstrap process that initially installs the |chef client| on the node. The first time |chef client| runs on that node, it uses the |chef validator| to authenticate, but then on each subsequent run it uses the private key generated for that client by the |chef server|.

Workstations
-----------------------------------------------------
Each workstation stores its private key in the |chef repo|. This private key is generated by the |chef server| and must be download from the server and copied to the ``.chef`` directory in the |chef repo|. If a new private key is required, simply regenerate it from the |chef server| and re-copy it to the |chef repo|.

.. include:: ../../includes_repository/includes_repository.rst

.. include:: ../../includes_repository/includes_repository_directory_chef.rst


Generating Keys
=====================================================
The |chef server| generates two types of private keys: one for nodes and workstations (typically referred to as a "client key") and the other for the organization. If (for any reason) a new key is required, the |chef server| can re-generate these keys.
