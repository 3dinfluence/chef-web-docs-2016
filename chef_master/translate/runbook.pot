# SOME DESCRIPTIVE TITLE.
# Copyright (C) This work is licensed under a Creative Commons Attribution 3.0 Unported License.
# This file is distributed under the same license as the Chef Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Chef Docs \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2015-01-28 12:43-0800\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/runbook.rst:8
# f77fbb053b9947c999c78c5898a0152b
msgid "Runbook"
msgstr ""

#: ../../includes_chef_server/includes_chef_server.rst:4
# 1d9cfdf356504a4dbddc81360b798e77
msgid "The |chef server| acts as a hub for configuration data. The |chef server| stores cookbooks, the policies that are applied to nodes, and metadata that describes each registered node that is being managed by the |chef client|. Nodes use the |chef client| to ask the |chef server| for configuration details, such as recipes, templates, and file distributions. The |chef client| then does as much of the configuration work as possible on the nodes themselves (and not on the |chef server|). This scalable approach distributes the configuration effort throughout the organization."
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_erchef_background.rst:4
# 587f189685a744228de1e5bfb1ec56af
msgid "Starting with the release of |chef server| 11, the front-end for the |chef server| is written using `Erlang <http://www.erlang.org/>`_, which is a programming language that `first appeared in 1986 <http://en.wikipedia.org/wiki/Erlang_%28programming_language%29>`_, was open sourced in 1998, and is excellent with critical enterprise concerns like concurrency, fault-tolerance, and distributed environments. The |chef server| can scale to the size of any enterprise and is sometimes referred to as |erchef|."
msgstr ""

#: ../source/runbook.rst:14
# 8167b55d2aac4ff896d9f66382410b60
msgid "The following diagram shows the various components that are part of a |chef server| deployment and how they relate to one another."
msgstr ""

#: ../source/runbook.rst:22
# 3197ff6bf3bb4599aae6b296357e3edf
msgid "Component"
msgstr ""

#: ../source/runbook.rst:23
#: ../../includes_server_logs/includes_server_logs_nginx.rst:11
#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:38
#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:11
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:11
#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:11
#: ../../includes_server_tuning/includes_server_tuning_general.rst:11
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:11
#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:11
#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:11
#: ../../includes_server_tuning/includes_server_tuning_expander.rst:11
#: ../../includes_server_tuning/includes_server_tuning_solr.rst:11
#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:15
#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:11
#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:11
# 1ae960506c474766abea6ce44c2751f6
# 7fc2bf37b7104c1893b079f240dccae1
# dd4177d4c7b648848cfacc89abb04692
# f4acfe2a596845dd879d286c3303a103
# 4504b111b0c140bfaa2d23a01db9b446
# 3925d89a91e64b4283032a2197b75b7b
# 724239fd99434580ac3d23f609a48ba7
# b05cacb4cbf1471d87b92c1eb6b117ed
# 1496cdaa243947c8a5ba63b5547fc5e7
# ede73b431988450fb9ea4c39ff8ba38a
# 7191b3d64f8645c8b274c31b52317922
# c5aa9eeec94742dbbdbbbb21474f2782
# 0b6c383a284f477081c79bb4554e69b7
# 82687d919f1847578c56302788d9c3ac
# 804eaa05d6954999b6f11836101b4a6f
msgid "Description"
msgstr ""

#: ../source/runbook.rst:24
# 946f1acd338e4cf1a803f8dc3f926328
msgid "Bookshelf"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_bookshelf.rst:4
# 91d1a4840b974ff8ba154c124b9ff851
msgid "|chef bookshelf| is used to store cookbook content---files, templates, and so on---that have been uploaded to the |chef server| as part of a cookbook version. Cookbook content is stored by content checksum. If two different cookbooks or different versions of the same cookbook include the same file or template, |chef bookshelf| will store that file only once. The cookbook content managed by |chef bookshelf| is stored in flat files and is separated from the |chef server| and search index repositories."
msgstr ""

#: ../source/runbook.rst:27
# ad60560313654b758a6b6791ed687b19
msgid "All cookbooks are stored in a dedicated repository."
msgstr ""

#: ../source/runbook.rst:28
# d50f01d4320647da9be7be1522ab5c2c
msgid "WebUI"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_webui.rst:4
# db3a07b1e5fd450b95eed9bfcdc59c05
msgid "|chef server webui| is a |ruby on rails| 3.0 application that hosts the web interface for the |chef server|."
msgstr ""

#: ../source/runbook.rst:30
# 4a38249991434464a838b4e28d3e800a
msgid "Erchef"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_erchef.rst:4
# fbc8ccf7968241de8c591fafd92ae808
msgid "|erchef| is a complete rewrite of the core API for the |chef server|, which allows it to be faster and more scalable than previous versions. The API itself is still compatible with the original |ruby|-based |chef server|, which means that cookbooks and recipes that were authored for the |ruby|-based |chef server| will continue to work on the |erlang|-based |chef server|. The |chef client| is still written in |ruby|."
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_erchef.rst:6
# 4a622edf0a22458e8d245258803a4fd9
msgid "Even though the |chef server| is authored in |erlang|, writing code in |erlang| is NOT a requirement for using |chef|."
msgstr ""

#: ../source/runbook.rst:32
# 4249d55a88ed404a94c9782bc104c869
msgid "Message Queues"
msgstr ""

#: ../source/runbook.rst:33
# 14dd5569aaeb4d24b7fc5844da7801cc
msgid "Messages are sent to the Search Index using the following components:"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_rabbitmq.rst:4
# 844f3b1c10a1440eaf36009b59454edb
msgid "|rabbitmq| is used as the message queue for the |chef server|. All items that will be added to the search index repository are first added to a queue."
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_expander.rst:4
# a0da75d31ab843d9b92927b64b8a90dd
msgid "|chef expander| is used to pull messages from the |rabbitmq| queue, process them into the required format, and then post them to |chef solr| for indexing."
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_solr.rst:4
# f9e7ec189a964595924f5bb7b0ffda53
msgid "|chef solr| wraps |apache solr| and exposes its REST API for indexing and search."
msgstr ""

#: ../source/runbook.rst:39
# 3a3b03bc5ea2494bb3037f6ea01970e7
msgid "All messages are added to a dedicated search index repository."
msgstr ""

#: ../source/runbook.rst:40
# 5606bea224534920958f8faf1377c6ad
msgid "Nginx"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_nginx.rst:4
# 37ced543a0434d17ab5d25178db25b6e
msgid "|nginx| is an open-source HTTP and reverse proxy server that is used as the front-end load balancer for the |chef server|. All requests to the |api chef server| are routed through |nginx|."
msgstr ""

#: ../source/runbook.rst:42
# 408105623ff14a34be54f12efb15cb4a
msgid "PostgreSQL"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_postgresql.rst:4
# 15772b7260114eedadb4bdd47ed1a0e3
msgid "|postgresql| is the data storage repository for the |chef server|."
msgstr ""

#: ../source/runbook.rst:45
# 71c319ef2c1449c7a0e0c418e2933e2a
msgid "The following sections detail how to monitor the server, manage log files, manage services, manage firewalls and ports, configure SSL, tune server configuration settings, and backup and restore data."
msgstr ""

#: ../source/runbook.rst:49
# 839eae3a73404a4ba0b9a7a44f68cdb0
msgid "Monitoring"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor.rst:4
# 440d2dd408c24f84ab9ebe77707cf310
msgid "Monitoring the |chef server| involves two types of checks: application and system. In addition monitoring the HTTP requests that workstations and nodes are making to the |chef server| and per-disk data storage volumes is recommended."
msgstr ""

#: ../source/runbook.rst:53
# f38a2da7d0564fa2b99a820a9d1011b0
msgid "Application Checks"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application.rst:4
# 9b9d365714224a31a61c70b3965d6c85
msgid "Application-level checks should be done periodically to ensure that there is enough disk space, enough memory, and that the front-end and back-end services are communicating."
msgstr ""

#: ../source/runbook.rst:57
# 958519158dd34afab658960d0327d265
msgid "|drbd|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_drbd.rst:5
# 7be37c8ea2b5437bac4ebef4d0c1865c
msgid "|drbdadm| is the management tool for |drbd|. It can be used to obtain status information and to alter the state of the |drbd| cluster. For more information about |drbdadm|, see http://www.drbd.org/users-guide/re-drbdadm.html."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_drbd.rst:7
# 427bbf07cc7746039e865419ae582972
msgid "``/proc/drbd`` is a virtual file that displays real-time status information about all currently-configured |drbd| resources. Use the following command to view the contents of this virtual file:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_drbd.rst:13
# 63a778a25d3b4ff097ab1e2c1ffaa402
msgid "Use ``chef-server-ctl ha-status`` along with ``/proc/drbd`` to help evaluate the current state of the cluster. Follow the split-brain recovery procedures for |drbd| if the cluster becomes two unconnected pieces."
msgstr ""

#: ../source/runbook.rst:61
# c84f08d749f6445cb615cf5571d35231
msgid "|erlang|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:5
# 5136c4a405af495697cfdd6deac10311
msgid "Many components of the |chef server| are written using |erlang| and run on the |beam| virtual machine. One feature of |erlang| and |beam| is the ability to interact with the running service using a command shell. For example:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:13
# 2c6a0e001d7d439cb76da12deb6bf031
msgid "where ``service_name`` is ``bifrost`` or ``erchef``. This command will then open a shell that is connected to the |erchef| processes:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:19
# 3a15a0d46d2845f5a436a2bb7c698ab5
msgid "Connecting to the |erlang| processes should only be done when directed by |company_name| support services."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:21
# 9ebc692669074f8ea3a4fa96f1d600cb
msgid "To connect to the |service bifrost| service, use the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:27
# 48122ea12c584f63b9e9e9b0533e413e
msgid "To connect to the |service erchef| service, use the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:33
#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:29
# 5fc07b2ec70841c4a28e56827dc123c5
# 07028921f01f42a69c9533d148d86725
msgid "To disconnect from the shell, use the following key sequence ``CTRL-g``, ``q``, and then ``ENTER``."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:35
#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:31
# d1cd49c7a6be45be980a3011a99f02e8
# e0c314af209747118133c7cc6aa78e30
msgid "The output from the shell after the ``CTRL-g`` looks similar to:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:42
#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:38
# 325a93044b854d09aa9e767cc3f1f7c2
# c6a3f64f46994a5cb6d703987332eda7
msgid "then enter ``q``, and then hit ``ENTER`` to exit the shell."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:44
# f6033a78547b4f0cb3a8ef61478837e7
msgid "Some commands should not be entered when interacting with a running service while using the command shell, including:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:46
# 25d2b739ccad4676a8ab3a00cc9e9b79
msgid "``q()`` kills the |erlang| node"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:47
# 74d3d5738335486b8a01553b9d64abbb
msgid "``init:stop()``"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:48
# 7d15336455524a19a2e1e400086a587a
msgid "``exit`` or ``exit()`` does nothing"
msgstr ""

#: ../source/runbook.rst:65
# 6afd2f07d5cc438699edbb28d3b876ba
msgid "``eper`` tools"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:4
# 70be2dce4da94de4950aa8e104d13071
msgid "As root on the |chef server|, point to the bundled ``eper`` package of debugging tools. Replace the 2nd and 5th path entries and the ``X.XX.X`` value in the following path with the items that occur on the system."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:10
# 3acbcc574cc74ba0a3d2204a2173136a
msgid "Open an |erlang| command shell to begin diagnosing service issues on the |chef server|:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:17
# c761011cc9cb4ca5924d1107b84f9c9f
msgid "The ``dtop`` tool presents a view on the |erlang| virtual machine that is similar to the ``linuxdagnostic`` command. The period at the end of the dtop command is required for the command to take effect."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:23
# be3fcded9b904e36935bd8c94360c870
msgid "To stop the ``dtop`` command, run:"
msgstr ""

#: ../source/runbook.rst:69
# c56564f53e674f7f80f49eb125d7719f
msgid "|nginx|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_nginx.rst:5
# 0314e84fa2aa4e7c8c56cc0167d15444
msgid "Use |nginx| to monitor for services that may be returning 504 errors. Use the following command on a front-end machine:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_nginx.rst:11
# c6a4c4dcd27d4caea1af1c62a7c6fc8f
msgid "and then extract the URLs and sort them by ``uniq`` count:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_nginx.rst:17
# 3dc08a2bfa384932a238e38f5358604b
msgid "In a large installation, restricting these results to a subset of results may be necessary:"
msgstr ""

#: ../source/runbook.rst:73
# fff8f5f02b47474693a8d04f9652f864
msgid "|postgresql|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_postgresql.rst:5
# 1c9c0ae7c56a411cabe10b3b4eb0ebbb
msgid "|postgresql ctl| is the management tool for |postgresql|. It can be used to obtain information about data stored in |postgresql|. For more information about |postgresql ctl|, see http://www.postgresql.org/docs/manuals/, and then the doc set appropriate for the version of |postgresql| being used."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_postgresql.rst:7
# 0ee515205689494db971ebda88e41f05
msgid "To connect to the |postgresql| database, run the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_postgresql.rst:15
# 5fe31a089e6e462da30d72b70c093526
msgid "Connecting to the |postgresql| database should only be done when directed by |company_name| support services."
msgstr ""

#: ../source/runbook.rst:77
# 9cf86290797f4503ac361c215379b709
msgid "|rabbitmq|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_rabbitmq.rst:5
# ec3ca6fe95fb4dd18f258c8f2bd4929e
msgid "|rabbitmq ctl| is the management tool for |rabbitmq|. It can be used to obtain status information and to ensure that message queuing is running properly. For more information about |rabbitmq ctl|, see https://www.rabbitmq.com/man/rabbitmqctl.1.man.html."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_rabbitmq.rst:7
# fcd0601c225949ce84918ae74d892329
msgid "To obtain status information for message queues, run the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_rabbitmq.rst:15
#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_example.rst:13
# 3b1105534f394713bb74c2b863711f41
# ba3c1462d98e4d82bc4b095c991ffe9a
msgid "to return something similar to:"
msgstr ""

#: ../source/runbook.rst:81
# 3cc563abad7a45c8b0ec0174ce3b8704
msgid "|redis|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_redis.rst:5
# 2c7295c7d9714daba8fd021e1f81fb60
msgid "|redis cli| is the management tool for |redis|. It can be used to obtain information about keys that are being used with the |chef server|. For more information about |redis cli|, see http://redis.io/commands."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_redis.rst:7
# 084a832655cd4b60b87def312cf4813d
msgid "To verify that the connection to |redis| is alive, run the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_redis.rst:15
# fba658e991284104bdeba57e11cd555d
msgid "to return:"
msgstr ""

#: ../source/runbook.rst:85
# e1cfba0db7f04ddcb418041b19233941
msgid "System Checks"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system.rst:4
# c3b9476b3dae4c098240b4b51e1cdc3f
msgid "System-level checks should be done for the following components: ports, services (|service erchef| and |service expander|), and high availability status."
msgstr ""

#: ../source/runbook.rst:89
# 174936a23f4b4084b9b62ab26260628a
msgid "ha-status"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:6
# 627a661eafab472687fb7f34eef60064
# 769be55ba2bf405eb4af7b20b75fc69e
msgid "On back-end servers in a |ha| topology, |keepalived| is used by the clustering service to determine whether a service should be running. If the ``status`` subcommand is run against any of these nodes, a few things change:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:8
# 346bcece67c94bb3b3081b3764bfb825
# 3a6d7b22993546679f4e7b657403dc58
msgid "On the back-end node that is currently the backup server, it is normal to see only one running process: |keepalived|"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:9
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:9
# 56f55f8f3417473c86e2504ecf2e6ea2
# d50cb4b0f507483f955d3f735b97aacf
msgid "On the back-end node that is currently the master server, it is normal to see all services running. It is also normal to see some services in a down state if the server, on reboot, did not attempt to start the services because |keepalived| determines which services are restarted based on the state of the cluster"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:11
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:11
# 35b29afc0a4b405db3837b0a7f37aa10
# d834a66b540e4c05b9c22c23884bb43b
msgid "A sample status line for a service that is running on the master server in a |ha| topology:"
msgstr ""

#: ../source/runbook.rst:93
# 307742e56fcd40e38e1f814ed8532d6b
msgid "opscode-authz"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_authz.rst:5
# ea286de610c545b089ce871a3c09a584
msgid "The authz API provides a high-level view of the health of the |service authz| service with a simple endpoint: ``_ping``. This endpoint can be accessed using |curl| and |gnu wget|. For example:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_authz.rst:11
# 606680904e414858a9c7f037307fc561
msgid "This command typically prints a lot of information. Use |python| to use pretty-print output:"
msgstr ""

#: ../source/runbook.rst:97
#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:11
#: ../source/runbook.rst:323
# 5d8548b2cecb421f9ed1f2ec0a94eec4
# 4e80ff4ac5084d63b7e4348bafcac36c
# a21cbbe6e8f24402a2f1ca29343b4c7e
msgid "opscode-erchef"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:5
# 673f59291a4b4a51a684ef2bd6eb1c08
msgid "The status API provides a high-level view of the health of the system with a simple endpoint: ``_status``. This endpoint can be accessed using |curl| and |gnu wget|. For example:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:11
# f5afe31a495e4277a78097b261ba8bf7
msgid "which will return something similar to:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:20
# 6c1e652e55f84b8fba73b3ea6e347008
msgid "For each of the upstream services, ``pong`` or ``fail`` is returned. The possible upstream names are:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:22
# 98ba48f1fc7f4197bd75916118cc1303
msgid "``chef_solr`` (for the |service solr| service)"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:23
# 99453564fd554e269bbffcc79dc8f668
msgid "``chef_sql`` (for the |service postgresql| service)"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:24
# ccd1eb63f9f84e8ba30aadb1d860463f
msgid "``oc_chef_authz`` (for the |service authz| service)"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:26
# e0f43dc915e74bddbc2a3f1620672cf5
msgid "If any of the status values return ``fail``, this typically means the |chef server| is unavailable for that service."
msgstr ""

#: ../source/runbook.rst:101
#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:12
#: ../source/runbook.rst:327
# 8fdaa5dfb92c4691b617e0ef12aaaf83
# 533a6c4af59347b68c84b511d834a14c
# 0e96dfd930824ec1bf4655033318a162
msgid "opscode-expander"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander.rst:4
# b0662c8a7a864e898330e5337d075b83
msgid "As the queue depth increases it may take longer for updates posted to the |chef server| by each |chef client| to be added to the search indexes on the |chef server|. The depth of this queue should be monitored using the following command:"
msgstr ""

#: ../source/runbook.rst:104
# 914302308ea745488c7784a9e6865a62
msgid "**Search Indexes**"
msgstr ""

#: ../../includes_search/includes_search.rst:4
# f38de791e1f1423cbab284fdc516ea96
msgid "Search indexes allow queries to be made for any type of data that is indexed by the |chef server|, including data bags (and data bag items), environments, nodes, and roles. A defined query syntax is used to support search patterns like exact, wildcard, range, and fuzzy. A search is a full-text query that can be done from several locations, including from within a recipe, by using the ``search`` subcommand in |knife|, the ``search`` method in the |dsl recipe|, and by using the ``/search`` or ``/search/INDEX`` endpoints in the |api chef server|. The search engine is based on |apache solr| and is run from the |chef server|."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:5
# 6793a11f5a9848728dc7299a666d5a35
msgid "If the search indexes are not being updated properly, first ensure that the |service expander| service is running on the backend machine:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:11
# ac0f5d032e5d45348b0075590e4d035e
msgid "and then (if it is not running), start the service:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:17
# 70c695af36f04297975457e315b655d9
msgid "If the |service expander| does not start correctly, then take a look at the ``/var/log/opscode/opscode-expander/current`` log file for error messages."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:19
# 474731501fad490ebb0c30fe2d329be7
msgid "If the |service expander| is running, check the queue length:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:25
# e6d4a1b08f8546bd8bf6931082734f97
msgid "If the number of total messages continues to increase, increase the number of workers available to the |service expander| service."
msgstr ""

#: ../source/runbook.rst:110
# a0bf76472f6346adac19fe5c6d7e4881
msgid "**opscode-expanderctl**"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander.rst:5
# e847792dc1c94153b98d037c4590f181
msgid "The |opscode expander ctl| executable can be used to generate status information for the |service expander| service. The |opscode expander ctl| executable is run as a command-line tool from the master backend machine."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:6
# dcbfc6aec3f8419ba306b69aa0f7c9ea
msgid "This tool has the following syntax::"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:10
# 793e09f7274d4c998212e61f99760ecd
msgid "This tool has the following options:"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:13
# 8ed47e1a96694dc49eb2ca3e585746a2
msgid "``log-level``"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:13
# 8a452244d0a04b17bf98fbcb49200bd4
msgid "Use to show the log level for all nodes in the cluster."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:16
# b11bafc926d44dc29236b0bb8f3e9320
msgid "``node-status``"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:16
# 73b7db12777743cb98448a9950b79de6
msgid "Use to show the status for all nodes in the cluster."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:19
# 62a7360ca2c84154b3dfca02d70d620f
msgid "``queue-depth``"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:19
# b04e2384155c45bb930201929aa2996b
msgid "Use to display the aggregate queue backlog."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:23
# 33008adb16164143ba04e97a395ae38d
msgid "``queue-status``"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:22
# d59086cf8971478191b22d59e033d57b
msgid "Use to show the backlog and consumer counts for each vnode queue."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_example.rst:5
# 13e04f02e5cd4bd798b5a1a532f16589
msgid "For example, to view the aggregate queue backlog, enter the following:"
msgstr ""

#: ../source/runbook.rst:119
# f8d5ce369edc4ea4baca317488d65e34
msgid "Nodes, Workstations"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_client.rst:5
# 9b4c9d974b834e6fbd9e42a90e520ebf
msgid "If a client makes an HTTP request to the server that returns a non-specific error message, this is typically an issue with the |service chef| or |service erchef| services. View the full error message for these services in their respective log files. The error is most often a stacktrace from the application error. In some cases, the error message will clearly indicate a problem with another service, which can then be investigated further. For non-obvious errors, please contact |company_name| support services."
msgstr ""

#: ../source/runbook.rst:123
# 2288a428bb7d4462bc4b19f2a3b0a57d
msgid "Disks"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:5
# 74a1301aa5804985b0e1dfca7e53a4f7
msgid "Over time, and with enough data, disks will fill up or exceed the per-disk quotas that may have been set for them and they will not be able to write data. A disk that is not able to write data will not be able to support certain components of the |chef server|, such as |postgresql|, |rabbitmq|, service log files, and deleted file handles. Monitoring disk usage is the best way to ensure that disks don't fill up or exceed their quota."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:7
# c17407d9ebe14dd696021f13bb8f847f
msgid "The following components should be monitored for signs that disks may be rapidly filling up:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:9
# 29cfad28a936448e8b6e2eb266fcc915
msgid "**PostgreSQL** |postgresql| is the data store for the |chef server|."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:10
# 82f125c81bdc42e6b3c03e081cc1782c
msgid "**RabbitMQ** The |rabbitmq| data folder can fill up if the |service expander| service is not able to keep up with the data being moved into the search database by |rabbitmq|. When the |service expander| service falls behind, |rabbitmq| will start storing the individual messages on-disk while it waits for the |service expander| service to catch up. If the |rabbitmq| disk fills up completely, |rabbitmq| will need to be restarted to free up the disk space and any data that was stored on-disk will be lost."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:11
# 616243980bcd44269610a008d58c961f
msgid "**Log files** If ``/var/log/opscode`` is taking up a lot of disk space, ensure that the |chef server| log rotation cron job is running without errors. These errors can be found in ``/var/log/messages``, ``/var/log/syslog`` and/or the root user's local mail."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:12
# d0d6b6709f58405a85a501d91900ffc7
msgid "**Deleted file handles** Running processes with file handles associated with one (or more) deleted files will prevent the disk space being used by the deleted files from being reclaimed. Use the ``sudo lsof | grep '(deleted)'`` command to find all deleted file handles."
msgstr ""

#: ../source/runbook.rst:132
#: ../source/runbook.rst:247
# bb051f4e65744a208ab15d06ad647754
# 7f92248ad2fd45a789f65e0c40e550c0
msgid "Log Files"
msgstr ""

#: ../../includes_server_logs/includes_server_logs.rst:4
# 67df412ca1d947779d5421ab91b6e4f7
msgid "All logs generated by the |chef server| can be found in ``/var/log/chef-server``. Each service enabled on the system also has a sub-directory in which service-specific logs are located, typically found in ``/var/log/chef-server/service_name``."
msgstr ""

#: ../source/runbook.rst:137
# 0819f93fa2cd42c78a74a7abc1fac0ce
msgid "View Log Files"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_view.rst:4
# 7f29c61d4ea34d35b1c384e5137f0454
msgid "The |chef server| has built-in support for easily tailing the logs that are generated. To view all the logs being generated on the |chef server|, enter the following command:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_view.rst:10
# 7180d0b6240945809b4ea645e1c7316d
msgid "To view logs for a specific service:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_view.rst:16
# 961221a4e32c49388282aa22bd48679f
msgid "where ``SERVICENAME`` should be replaced with name of the service for which log files will be viewed."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_view.rst:18
# a6e637362f4d47dbb5ab3e9940dfe660
msgid "Another way to view log files is to use the system utility tail:"
msgstr ""

#: ../source/runbook.rst:141
# 16a69f29032a4c559828b0147ea3ef40
msgid "tail Log Files"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:6
# 6905ca67864048998e600d88d5f3c488
# ba11a603a79045159dfb1b60efb3948e
msgid "The ``tail`` subcommand is used to follow all of the |chef server| logs for all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_hup.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_int.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_kill.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_once.rst:10
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_restart.rst:10
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_service_list.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_start.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_term.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_delete_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_show_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_user_add_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_user_remove_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_delete_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_edit_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show_syntax.rst:6
# 03a7903484d14dd281a0d72cbe28d43b
# 890c3cdd9d104e0191e80c06dab2adb3
# 9a6e1fcf3d67473799f00ae526781729
# ede56cbf67a04175a7363499d4e8d960
# 92329012c1794fd985e6b2efd9d7dd85
# 241ea6e3f2354e7fa0c6038433767d69
# 23c66fc32db5405bbe33bcbe843e6462
# 8a08e3bd784042c5a35d96c291a2b6e5
# 434540effbfc4f9990b945423428e6cf
# f339e687d6614ba6a470eeeda441695a
# ce89ed9f57554ce1b5e2aaa15e196e3b
# 5ccc9436e2044e1f85345d089ebd7284
# ebc3fefff510419b9f650b51ab109a8c
# d30f49cc4302462b90a7a32fd6c69319
# a826af8dfccd4158bd8311e8227b546b
# 2593a2a6db434170be63f2fd6f0f3dfa
# b17d262a0d3d485492a515a4320fac44
# 3fc73d7e0d4d4a66a2bb1b54389f3514
# 1fc040158abf4624be8b6d0e2ef04db2
# 0d83df16bb1b41ce945dffd6180e5296
# c7126bfef78a46ccabb84e0744ea646d
# 97f4af23328e457995f97497776823fc
msgid "This subcommand has the following syntax:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_hup.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_int.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_kill.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_once.rst:16
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:18
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_term.rst:14
# 145802e30063432dba32df8684784e7c
# e124d1cd1e7c46619dd83284db242326
# e62c95173a834f20a3faaae0d353660e
# 2cfca1722df143a2a8dfb1022f024ed8
# 072bfa8accd142abba2b503a834bbb0f
# 8c4527b08fe44fd4b29fe69259ed2734
# 8c3a06528f004595a8d530b745160437
# 824a002ce17f4252bfa6cd76778d3db9
msgid "where ``name_of_service`` represents the name of any service that is listed after running the ``service-list`` subcommand."
msgstr ""

#: ../../step_server_services/step_server_services_general_tail.rst:4
# a5cf9251db054050b9bc5a5bfd7f69f2
msgid "Another common approach to tailing the log files for a service is to use the system utility ``tail``. For example:"
msgstr ""

#: ../source/runbook.rst:147
# 99bcf049f11f4645a52135e34783acdb
msgid "Supervisor"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:4
# 7968a0d29909463c8a866615320fb16c
msgid "Supervisor logs are created and managed directly by the service supervisor, and are automatically rotated when a the current log file reaches 1,000,000 bytes. 10 log files are kept. The latest supervisor log is always located in ``/var/log/chef-server/service_name/current`` and rotated logs have a filename starting with ``@`` followed by a precise ``tai64n`` timestamp based on when the file was rotated."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:6
# 197c84a7e4344046a62204fee26dbee9
msgid "Supervisor logs are available for the following services:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:8
# 444a56c763ee4593bbcd5096a9a48a76
msgid "bifrost"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:9
#: ../source/runbook.rst:319
# 29364c674a4144ae8bcb7d4e6d984541
# 30b8ee28a9534fd69af1907fb9c07967
msgid "bookshelf"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:10
#: ../source/runbook.rst:167
# f885e74b8f034a289669c063c366434d
# a2639a7b334542718c003e29e2661804
msgid "nginx"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:13
# 4578774f58e042b9ae6547691120fa00
msgid "opscode-expander-reindexer"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:14
# ec51366cba9e42308818b9fb5a7bec80
msgid "opscode-solr4"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:15
#: ../source/runbook.rst:339
# cfbac2aaacfb48c085455ee679ca99da
# ae81d25314db4cc8a35630da31ab5151
msgid "postgresql"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:16
#: ../source/runbook.rst:343
# 758caebd12224c29bf59e5350f162c3a
# 3c421194dd42481883ed9863dd34dbbd
msgid "rabbitmq"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:17
# 1d8186e347a44c0ea6fe1a1c40654554
msgid "redis"
msgstr ""

#: ../source/runbook.rst:151
# df1b2664316145cd9f84463cf527b2c7
msgid "nginx, access"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:4
# 3b800c5f8b54436b89ea8b40ab09ab1c
msgid "|nginx| is an important entry point for data on the |chef server|, which means that debugging efforts frequently start with analyzing the |service nginx| service's ``access.log`` file. This log contains every HTTP request made to the front-end machine and can be very useful when investigating request rates and usage patterns. The following is an example log entry:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:15
#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:16
# aca4e476046c45b1a233e14554dac2c9
# 1a67ce8b0397405eac6add83040e6cfc
msgid "where important fields in this log include:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:17
# 86fb0eb258ae42539c7b4aef04889e9f
msgid "The HTTP status code (``200``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:18
# e58a9cd7137745cb81b484b684c24bd5
msgid "The IP address of the requesting client (``175.185.9.6``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:19
# f6029744753e4ae9b945721e459511aa
msgid "The timestamp (``[12/Jul/2013:15:56:54 +0000]``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:20
# 2ebcfebe7e2344839ba4bb6b53476fc9
msgid "The total request time (``\"0.850\"``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:21
# a5993d68151a4beca10f68424caac652
msgid "The request method (``GET``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:22
# 78ac6845c3cd468985189221b04ceba1
msgid "The request URL (``/organizations/exampleorg/data/firewall/nova_api``)"
msgstr ""

#: ../source/runbook.rst:155
# e6decfd728834629a78acfabdc21297c
msgid "opscode-erchef, current"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_current.rst:4
# b8d8b4ad8f244e318f1a44205aea7d5e
msgid "The |service erchef| service's ``current.log`` file contains a history of stack traces from major application crashes."
msgstr ""

#: ../source/runbook.rst:159
# e6303d814bd6456a853a370a4c817a1b
msgid "opscode-erchef, erchef"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:4
# 880a431c815046d0b2a1a05ede44096d
msgid "The |service erchef| service's ``erchef.log`` file contains a history of API requests that have been processed by |erchef|. These logs can be rotated quickly, therefore it is generally best to sort them by date, and then find the most recently updated log file:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:10
# 45acae1cdda34cf5a9945f9c112a25c9
msgid "The following is an example log entry:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:18
# 9680270294a74195af2a96aba88d0f3d
msgid "The HTTP method (``POST``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:19
# 5bed370aa92f422f944514068c33fd07
msgid "The HTTP path (``/organizations/srwjedoqqoypgmvafmoi/environments``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:20
# d85c974161534f8d80faff4c586c5a0d
msgid "The message (``{created,<<”_default”>>}``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:21
# ad40c3605f2649c89269c6df9d5ed7f9
msgid "The organization name (``org_name=srwjedoqqoypgmvafmoi``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:22
# 262911d3c59d4a498a83b0823569eeda
msgid "The timestamp (``2013-08-06T08:54:32Z``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:23
# 7c65c553a7844e2fa77099695f94afdb
msgid "The name of the user and/or |chef client| which made the request (``pivotal``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:25
# 72581b46b7214f828f21a0b1acae9c22
msgid "In addition, the log file may contain additional entries that detail the amounts of time spent interacting with other services:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:27
# 12c761a52e1945b3945f9b3a4da8a434
msgid "``rdbms_time`` (the time spent talking to the |service postgresql| service)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:28
# 8d1a25d7ec91470fb5b6a60f08083b3f
msgid "``req_time`` (the request time)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:29
# d30755a8f17845d68264e1c6f13ca690
msgid "``solr_time`` (the time spent talking to the |service solr| service)"
msgstr ""

#: ../source/runbook.rst:163
# 864f3326cc364708ba7684da814b87b7
msgid "Application"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_application.rst:4
# b9cdd712877b44488fb6e4a26a639f02
msgid "Application logs are created by the services directly, and may require log rotation policies to be applied based on organizational goals and the platform(s) on which the services are running."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:4
# 92f5ba40cc584a02ba30f39590ead972
msgid "The ``nginx`` service creates both supervisor and administrator logs. The administrator logs contain both access and error logs for each virtual host utilized by the |chef server|. Each of the following logs require external log rotation."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:10
# f5fd5d4cb56e40a99554493fde592bdd
msgid "Logs"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:12
# 3c2bf25c66e54ee69e39b283bef979d5
msgid "``/var/log/opscode/nginx/access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:13
# a48ae35bf06243379baa16d70db4625d
msgid "The Web UI and API HTTP access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:14
# 5fe54d2aecbc4280b66e8da295819277
msgid "``/var/log/opscode/nginx/error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:15
# 2537c4cb2e974075921a96e13132678b
msgid "The Web UI and API HTTP error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:16
# 3968f6db50e540ccb827e12f6f0799b9
msgid "``/var/log/opscode/nginx/internal-account.access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:17
# 093e8cdea0c94ac3bddeb780ef5b5062
msgid "The ``opscode-account`` internal load-balancer access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:18
# 4a9b67df4dfa4c4da6c9ec8e190f5e96
msgid "``/var/log/opscode/nginx/internal-account.error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:19
# 297406791c334c759e37661ae475e638
msgid "The ``opscode-account`` internal load-balancer error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:20
# 5138114763ca444690f5091519feecd0
msgid "``/var/log/opscode/nginx/internal-authz.access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:21
# 77a1ea75b208435182c7a47e4af06d5a
msgid "The ``opscode-authz`` internal load-balancer access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:22
# cb9d83bb8df841daa72f3be49c27f361
msgid "``/var/log/opscode/nginx/internal-authz.error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:23
# 341d50ac40fd41f4b86e193959d32beb
msgid "The ``opscode-authz`` internal load-balancer error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:24
# 74310b8479f2414f961c64475c1ed714
msgid "``/var/log/opscode/nginx/internal-chef.access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:25
# fcc6049919114a49819046736970df45
msgid "The ``opscode-chef`` and ``opscode-erchef`` internal load-balancer access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:26
# 688b43fea6064f70b8bba89195cfbcae
msgid "``/var/log/opscode/nginx/internal-chef.error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:27
# 31d6860ee98e46a3bdab7b5bc1e2002c
msgid "The ``opscode-chef`` and ``opscode-erchef`` internal load-balancer error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:28
# 013700b10d4c4ec6907b29a4be7cb87b
msgid "``/var/log/opscode/nginx/nagios.access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:29
# 9fb4b0630dfa4004a71d82df6dda10b7
msgid "The ``nagios`` access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:30
# 943fb67f6227488ca412d17353b9151c
msgid "``/var/log/opscode/nginx/nagios.error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:31
# 1b9409b97b2f4619a76d90f77d472895
msgid "The ``nagios`` error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:32
# 71740ca3ce2c4171a12c44f0a2b24051
msgid "``/var/log/opscode/nginx/rewrite-port-80.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:33
# a978d5b70af74f8ab0dff9c4e8282aee
msgid "The rewrite logs for traffic that uses HTTP instead of HTTPS."
msgstr ""

#: ../../step_server_services/step_server_services_nginx_tail.rst:4
# ee6a82b28540496c883c56143099ddea
msgid "To follow the logs for the service:"
msgstr ""

#: ../source/runbook.rst:172
# 6b511578493544a4a4d11d1e5a8ad8ca
msgid "**Read Log Files**"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:4
# 4405c97c19b64c8499959e83f081e803
msgid "The |service nginx| access log format is as follows:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:15
# fdf65e835c9b4e75ad16ebecf1e94571
msgid "A sample log line:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:31
# 16c2ac94da0b425d85c4a9ee1c5f7ad5
msgid "Field descriptions:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:37
# 99df291e2e4045629699851b2edea61e
msgid "Field"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:39
# 9152c393b4f040759eba2e5298f4b0ec
msgid "``$remote_addr``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:40
# 9a756b39b99747538f2a93fc4b5dec1a
msgid "The IP address of the client who made this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:41
# 85823be2d06444a088cf8c6698aaaa89
msgid "``$remote_user``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:42
# 4be8f0206b704deb8e43e118331a09aa
msgid "The HTTP basic auth user name of this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:43
# b67c29fdc99146e4addc56c16545ca6e
msgid "``$time_local``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:44
# 53a2a1ac88994b7d91c3b6535db18769
msgid "The local time of the request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:45
# ec3f6f51fdee4c538285e0d730d4520d
msgid "``$request``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:46
# f58d8f8154e9419cb12b82a8ced81b04
msgid "The HTTP request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:47
# 63d2061bdbb04f5b9f81bb2a30dd3c7c
msgid "``$status``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:48
# 828daf5608f449ecb3bef96f39d93077
msgid "The HTTP status code."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:49
# d08eb789f65848ef8a61a8ab54244db8
msgid "``$request_time``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:50
# 87a5f78b6eb44daabce6e5ba61139a54
msgid "The time it took to service the request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:51
# 365d3729b93a40a39cef0eaecdffcade
msgid "``$body_bytes_sent``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:52
# a5c6ec4a1d3340a4937670b7b70ee634
msgid "The number of bytes in the HTTP response body."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:53
# a01f571bf47e4d7ba82dd6d6127ab47c
msgid "``$http_referrer``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:54
# 5fe1cc5351d54bb18ad55aad2d71b260
msgid "The HTTP referrer."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:55
# 7e37b15bdaa84fe5bdae9133a3f51109
msgid "``$http_user_agent``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:56
# f55a4106bcdd40c98d73d6db29e24d84
msgid "The user agent of the requesting client."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:57
# ebf39717a2984b3385adc64ffad229f6
msgid "``$upstream_addr``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:58
# c5210ccead0a443cb67850d58f0adefc
msgid "The upstream reverse proxy used to service this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:59
# 84b5112bc34947dcb2ad40ccb20a7eae
msgid "``$upstream_status``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:60
# 4ebc4f87ed44450d9998387069e687ca
msgid "The upstream reverse proxy response status code."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:61
# f9a655d4633e4e4e9c9b10bd095916ce
msgid "``$upstream_response_time``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:62
# 90a9b3b68cea4ecf8eaa2ab4bbf9dab6
msgid "The upstream reverse proxy response time."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:63
# 3f39e179ebeb4fdbbe41ecbe87d16417
msgid "``$http_x_chef_version``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:64
# 7ea21b6ea01746dcb8c9e9f253887683
msgid "The version of |chef| used to make this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:65
# bbee84be747743e6a9fe85e2cee2a6bd
msgid "``$http_x_ops_sign``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:66
# 838dca3ebda54f72bf3c191e0652fdab
msgid "The version of the authentication protocol."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:67
# ed9c0cb1ad184cbd94d210bd0ba497a6
msgid "``$http_x_ops_userid``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:68
# 92a9abb1f2094572babc7618e85a22fc
msgid "The client name that was used to sign this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:69
# 6045dc00bb754f42b833d08dd1d3e9c7
msgid "``$http_x_ops_timestamp``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:70
# 8bad97bab76648838b6cbad245d2f08b
msgid "The timestamp from when this request was signed."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:71
# a1bd12f046744b48b5ab56d9db716d30
msgid "``$http_x_ops_content_hash``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:72
# 2fd40526f83a4ccc8e5966f24b8df572
msgid "The hash of the contents of this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:73
# 8ed45a5db75f481e9675f9fe55ced8e2
msgid "``$request_length``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:74
# 88c75cb3993c44af865b4e1c6cbf1b95
msgid "The length of this request."
msgstr ""

#: ../source/runbook.rst:183
# d6e1b58de147404b8bc4d0a998bebfcd
msgid "Firewalls and Ports"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports.rst:4
# 23447492c869494b868f09bf0bc2db9a
msgid "All of the ports used by the |chef server| are TCP ports. Refer to the operating system's manual or site systems administrators for instructions on how to enable changes to ports, if necessary."
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_listening.rst:5
# 5af6198ba05e48129da1afb898897c6f
msgid "All services must be listening on the appropriate ports. Most monitoring systems provide a means of testing whether a given port is accepting connections and service-specific tools may also be available. In addition, the generic system tool |telnet| can also be used to initiate the connection:"
msgstr ""

#: ../source/runbook.rst:190
# 7a847a172d764fe6be5af9f69260c2da
msgid "Standalone"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:4
# 12342d275c604cffbd6e206a63537ef0
msgid "For a standalone |chef server| installation, and if host-based firewalls (iptables, ufw, etc.) are being used, ensure that the following ports are open:"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:10
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:10
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:10
# aee43ebcdbb644e18d42d3f6a4f287a7
# cd0b6d9be7d94d559b5efb3c254fd0ea
# 2be73b5e1f324be8bc1bf13138b78a3d
msgid "Port"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:11
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:11
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:11
# a02de08e927b4db1a92725df50116e83
# 095222e9836140f4be5fb0aed6eca3be
# af6f6a66f2ee43579ccd46d9eb516ee4
msgid "Service"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:12
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:12
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:12
# cd7097b673b643ec9dc22b91c46e59c2
# 6eeb006ba97b4b4f97ed55480306d166
# 1141246520cc4b66953142c062350767
msgid "External"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:13
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:13
# 98ad8d7e17094a1185ef2488dfbe63d3
# 129d7fefa5a642f187431f495b283f8d
msgid "80"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:14
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:17
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:14
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:17
# b4a43eaccdd447919cbcbf6682055f80
# 31179ca3be1d4b69aa40dca415b49475
# e9bdbeac9c4f4daf8accd7652f9819a8
# 10fc9e411a164d8c85e264e58764d1ec
msgid "|service nginx|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:15
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:18
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:15
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:18
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:15
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:18
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:21
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:24
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:27
# 9d64963583df44d3ac2eeaa68e7c90a9
# ce7659e2fc0045e29c260855e0f85a4b
# d53475ce87524778b09ff676f662d702
# c944d84a12b34457a7f6572e4f707059
# c841355cedf54b9286dcc928026f4760
# ddef15677d0e4f9fa07e6f6b68be5c4a
# 68f6c1963e4749b9bc9c5a0bb95b6244
# c4320bfd47b74ae684ea2aa2d5f13334
# db7e1123b052445e9218b60cead7727a
msgid "yes"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:16
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:16
# 953f7d22d50547668d71fbbe63609afd
# 1997ae40a00f43de9872efe27dfde691
msgid "443"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:19
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:19
# 33022c57e73d4ccca8cbee25c88ee298
# 49edb61e08ec49b286c023edc84949fd
msgid "8000"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:20
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:20
# f42a8ce19fe049c1b89a29e425250ba9
# fcea3b6c6a514ed5818d32bd295d9fa1
msgid "|service erchef|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:21
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:24
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:27
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:30
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:33
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:36
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:39
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:42
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:45
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:48
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:51
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:21
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:24
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:27
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:30
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:33
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:30
# e7e6c07f44c34a9f8caeb5bcaec86c7d
# c1714226ee4d4c4c8b8edc1f9644d02a
# 79240eece9804ce8b6ef4c955b9c21a1
# 9f96800aaccf4b75b48322e27321c5d6
# d9bf7648fe97488d84faa7045e1bae62
# 1cef6987c6c74d5c96b09cd687a9dabb
# 98ca7b0eccfa4181b24aab11cc2f3a8f
# 5c4f0f363e7f4bd6a90c3f3313e80a25
# ac3dc67585774117876e3efd56f4a878
# 701b0632a07444d3a2ec9b26902a5fb0
# a03173495b1741d2af48e6e3e305f12a
# f7c4853d879e4c49a2214f4b21a1d561
# 2af55abba4ed41b98bb98329a6892ade
# 237452bc513347c092ed30f58a918529
# 178c89c69da844349901dcbad0fe8cf8
# 9106a1740b274aaea04005e24d0ce051
# 72ac1aa189ea48a08e6f86b31614988b
msgid "no"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:22
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:22
# ecbaa76207d242c9894a171775454390
# 0e56f976e66146ed9430e247a37dcf8d
msgid "9090"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:23
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:23
# df272f2787c543d8bad81fcbe2cc9f53
# 9979c56372bc4d62b361c954a6e37a09
msgid "|service ocid|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:25
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:25
# df7a83b18a004b74a2e4b85d2f70652a
# 25d346496bdb474691d8c3397739f545
msgid "9463"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:26
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:26
# c90cdad87c214eb9bc42cc18c2d6b296
# d5f472dd4a2f4e879b8abfe83b086102
msgid "|service bifrost|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:28
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:28
# f21bdcf989b94e18bc7d76e88c8de3e6
# 7c8ea162c6cb40c785d129144fa09f90
msgid "9680"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:29
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:29
# c111e9520d1f46cb9132063203dd1d13
# 1c96497e19bc4a0497b84c9361f05fcb
msgid "|api chef server| internal LB port"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:31
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:31
# b9d675c55fa947b79a512d890d92ac60
# 29f1f5b66ac749f7a5cc350ae84d4096
msgid "9683"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:32
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:32
# c024f6b62c0e4dc3b5e4a47e0cc77abf
# 043e888a00804b4b9c7f85ef85c1ff4e
msgid "|service bifrost| internal LB port"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:34
# 9ac53dd3fa824408b9db3623f6515ce3
msgid "5984"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:35
# 3926be1e767e4ff48feae253773868ed
msgid "|service couchdb|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:37
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:13
# 2be8b1e3bf604ca5a042c827f7fad28e
# 64b862c5d3634414bc1bb7870c0a1af5
msgid "8983"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:38
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:14
# c864c2c9fede43e883edcd3d02ae5404
# 970cf81b8d7d4d4d9ea96c75f7ddab42
msgid "|service solr4|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:40
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:16
# f67e4c5bfe864ac1b7d4c145b758f954
# 2ba4584c0fb047938ae581063ab18a33
msgid "5432"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:41
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:17
# 6bbc7eb5a9564dc09e0cc10f5c59b153
# 470c20dd21744183b058ab09dad79a54
msgid "|service postgresql|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:43
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:19
# 4d38a2d5a6b74b44bacb63362f41a9ee
# 9c44eebd1f0e4105816a9ae87433b335
msgid "5672"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:44
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:20
# 62c7c57b72b249dcb205eb00b2b80812
# adc74927e7c049f492a54f64e6949b27
msgid "|service rabbitmq|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:46
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:22
# ec93bf1541df448189bdeda5a8387f12
# 0080fc0ecbc5477b80f69824e4d85c72
msgid "16379"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:47
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:23
# fce3e6c87800402391702e0efe21e6d9
# 4e313d3bbc694f39b00b6f161429eaca
msgid "|service redis_lb|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:49
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:25
# 8b2d12c1a1a442f68846c1c8f87614fd
# 0f1ecdf693444500909104e557dc49ca
msgid "4321"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:50
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:26
# f7ab38cebd974cf6b1ba26452bd66081
# b9ab8052a5b8464d957d09033cec59ae
msgid "|service bookshelf|"
msgstr ""

#: ../source/runbook.rst:194
# 4e25d4e3bdf24b8d933ddeb5fc33a7ef
msgid "Front End"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:4
# 4722f2954b5243d4b29a3caccd8617a0
msgid "For front-end servers in an |chef server| installation:"
msgstr ""

#: ../source/runbook.rst:198
# e3ddf28b5db04251b159befc2891eb6e
msgid "Back End"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:4
# f88e4b4276224e78bf6db1fed48fe6ee
msgid "For back-end servers in an |chef server| installation:"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:28
# af3e7663bcae4374836c5e6574f9b5a0
msgid "7788-7799"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:29
# 775d026f1aee4edea1b9081a6e0d1904
msgid "|drbd| This port range must be open between all back end servers."
msgstr ""

#: ../source/runbook.rst:207
# 973e22fd62bf49a6a7a0073c26f080c9
msgid "Services"
msgstr ""

#: ../source/runbook.rst:208
# 6208b21cce994fdf8f1cd16f0d51db12
msgid "The following subcommands are built into the |chef server ctl| command line tool."
msgstr ""

#: ../source/runbook.rst:211
# 01dd5de4e12747309da47baa870d099c
msgid "hup"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_hup.rst:6
# 7f6c04b6403441d7947b71dee52a9f4e
msgid "The ``hup`` subcommand is used to send a ``SIGHUP`` to all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:215
# 700066f1b00c4dd78c229f35cd408702
msgid "int"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_int.rst:6
# 6bd0b65f626e44d7945ab10dbcd9f3d8
msgid "The ``int`` subcommand is used to send a ``SIGINT`` to all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:219
# 070472e58d57430f9fedac515996faf6
msgid "kill"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_kill.rst:6
# 877bc81512d141379e0a5800c11497f8
msgid "The ``kill`` subcommand is used to send a ``SIGKILL`` to all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:223
# 6214927eae90459d99e3ea683e748265
msgid "once"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_once.rst:6
# 0b4f315277674034a8676476c3daf6fb
msgid "The supervisor for the |chef server| is configured to restart any service that fails, unless that service has been asked to change its state. The ``once`` subcommand is used to tell the supervisor to not attempt to restart any service that fails."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_once.rst:8
# 468b2b63a15e4df3bed83a759707afa7
msgid "This command is useful when troubleshooting configuration errors that prevent a service from starting. Run the ``once`` subcommand followed by the ``status`` subcommand to look for services in a down state and/or to identify which services are in trouble. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:227
# d90555a748634757a2b4503384c32bef
msgid "restart"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_restart.rst:6
# 74551067af254ece91087f9b9d80ccd3
msgid "The ``restart`` subcommand is used to restart all services enabled on the |chef server| or to restart an individual service by specifying the name of that service in the command."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_restart.rst:8
# 46ce75c3acd8483494259b297a75c8d0
msgid "When running the |chef server| in a high availability configuration, restarting all services may trigger failover."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_restart.rst:16
# 610d91c754574a90ba610c5bc8077dc4
msgid "where ``name_of_service`` represents the name of any service that is listed after running the ``service-list`` subcommand. When a service is successfully restarted the output should be similar to:"
msgstr ""

#: ../source/runbook.rst:231
# 756ffb10768a4bd6ad5e8e6dcd68eeb8
msgid "service-list"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_service_list.rst:6
# 24834ce49381402aa7989eb02af5af09
msgid "The ``service-list`` subcommand is used to display a list of all available services. A service that is enabled is labeled with an asterisk (*)."
msgstr ""

#: ../source/runbook.rst:235
# ad83254ed88242d9a9afbf5864257ff4
msgid "start"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_start.rst:6
# 462a2bc9b82948d88aad4a1ac05e9d17
msgid "The ``start`` subcommand is used to start all services that are enabled in the |chef server|. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_start.rst:14
# ae1937754526461680cc31c26dcc9300
msgid "where ``name_of_service`` represents the name of any service that is listed after running the ``service-list`` subcommand. When a service is successfully started the output should be similar to:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_start.rst:20
# e81a44ea36594826a00666582305f69a
msgid "The supervisor for the |chef server| is configured to wait seven seconds for a service to respond to a command from the supervisor. If you see output that references a timeout, it means that a signal has been sent to the process, but that the process has yet to actually comply. In general, processes that have timed out are not a big concern, unless they are failing to respond to the signals at all. If a process is not responding, use a command like the ``kill`` subcommand to stop the process, investigate the cause (if required), and then use the ``start`` subcommand to re-enable it."
msgstr ""

#: ../source/runbook.rst:239
# b341f875f825424593d7e38a95de9aac
msgid "status"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:6
# 651c39c2fa254a7ab262710a550df150
msgid "The ``status`` subcommand is used to show the status of all services available to the |chef server|. The results will vary based on the configuration of a given server. This subcommand has the following syntax:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:12
# c7bbb3a4dfb1486db616aaf01f670261
msgid "and will return the status for all services. Status can be returned for individual services by specifying the name of the service as part of the command:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:20
# 20fd2d68f8fe4f3dab7bc4f6f25da2e9
msgid "When service status is requested, the output should be similar to:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:26
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:25
# 8cfc017988b849c98385917365d10edf
# 96743267313a4747a7491f4f5aabc22e
msgid "where"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:28
# daa49df2e8db478fa9c53cc10cd4f786
msgid "``run:`` is the state of the service (``run:`` or ``down:``)"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:29
# 5685496b810f48c6a92282705def8883
msgid "``service_name:`` is the name of the service for which status is returned"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:30
# 9c127955c6d04867a1742afa83012904
msgid "``(pid 12345)`` is the process identifier"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:31
# 1b1c6838068843e8a7e72f8c0a2465bb
msgid "``12345s`` is the uptime of the service, in seconds"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:33
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:20
# 109f5fe70fdc4893b25c2407589109d5
# d3f3201dc1db49bd9a7c6f92ecf90ba8
msgid "For example:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:39
# df67adbe514549bcba1d7e2b69ef31d7
msgid "By default, |runit| will restart services automatically when the services fail. Therefore, |runit| may report the status of a service as ``run:`` even when there is an issue with that service. When investigating why a particular service is not running as it should be, look for the services with the shortest uptimes. For example, the list below indicates that the |service erchef| should be investigated further:"
msgstr ""

#: ../source/runbook.rst:243
#: ../source/runbook.rst:383
# a58b0c008b00426c9f7fd63ce26b4af5
# 8d35251b84cf498e81d66e56e699c1b7
msgid "High Availability"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:6
# 41ac222c0be64190ba5677c72615fc06
msgid "A typical status line for a service that is running any of the |chef server| front-end services is similar to the following:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:12
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_syntax.rst:12
# f6e1b90355d9425d88791d28c6cf1c69
# 0307c5b8a5d4439db46dde4d29df21e7
msgid "where:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:14
# 08b81a2db0ee48f2bb7592bf24ce4d84
msgid "``run`` describes the state in which the supervisor attempts to keep processes. This state is either ``run`` or ``down``. If a service is in a ``down`` state, it should be stopped"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:15
# 9e7ed2168ced41a6968071abf42e2bde
msgid "``name_of_service`` is the service name, for example: ``opscode-solr4``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:16
# 37909102620941a2a2bcb59533338832
msgid "``(pid 1486) 7819s;`` is the process identifier followed by the amount of time (in seconds) the service has been running"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:17
# 398d36a44c3240dfaf4b0b144565f666
msgid "``run: log: (pid 1485) 7819s`` is the log process. It is typical for a log process to have a longer run time than a service; this is because the supervisor does not need to restart the log process in order to connect the supervised process"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:19
# e820211f8c4f46ba8048d680d92eab0e
msgid "If the service is down, the status line will appear similar to the following:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:27
# dade9dec4681420ca6a616981f2f1b2c
msgid "``down`` indicates that the service is in a down state"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:28
# f15dafe83acd4cee9575c49a5c416e3c
msgid "``3s, normally up;`` indicates that the service is normally in a run state and that the supervisor would attempt to restart this service after a reboot"
msgstr ""

#: ../source/runbook.rst:251
# b8040ac5100448e29e04ccd1fbb6638c
msgid "stop"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:6
# e0768ef2623e4de6ba42b0179be1bbc6
msgid "The ``stop`` subcommand is used to stop all services enabled on the |chef server|. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:14
# c8703041ebd846558d9aae0afab11401
msgid "where ``name_of_service`` represents the name of any service that is listed after running the ``service-list`` subcommand. When a service is successfully stopped the output should be similar to:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:26
# d052a55ca37d47ec995e1bf1e1c3ef95
msgid "will return something similar to:"
msgstr ""

#: ../source/runbook.rst:255
# 33e863c1f505490f89639cb5555957d9
msgid "tail"
msgstr ""

#: ../source/runbook.rst:259
# 225874fa7fd64ec9844eb650435596ad
msgid "term"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_term.rst:6
# 48dc5ca59b2743bfa55c362472810dcc
msgid "The ``term`` subcommand is used to send a ``SIGTERM`` to all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:263
# d78867b86add4b0e94dcb3d6b95639a2
msgid "SSL Configuration"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:4
# 6b27135f6321408f834c7b03f3542c90
msgid "Configuration of |ssl| for the |chef server| using certificate authority-verified certificates is done by placing the certificate and private key file obtained from the certifying authority in the correct files after the initial configuration of |chef server|."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:6
# 05ca5e85fec44ec19de1cb4a7ff68f04
msgid "Initial configuration of the |chef server| is done automatically using a self-signed certificate to create the certificate and private key files for |nginx|."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:8
# ffd65c81eb054353aa0c2966b156edfa
msgid "The locations of the certificate and private key files are"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:10
# 2e5ad76658574eaea52ce11559f2354c
msgid "``/var/opt/opscode/nginx/ca/FQDN.cert``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:11
# 4f6f38b9a7af4eaf856ab81bfb39901b
msgid "``/var/opt/opscode/nginx/ca/FQDN.pem``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:13
# 641787b975674867833d749a6c97c92c
msgid "As the |fqdn| will have already been configured previously, simply replace the contents of these two files with the certifying authority's files."
msgstr ""

#: ../source/runbook.rst:267
# 5b3c97e15ee5415695f3955477bd53eb
msgid "The |fqdn| for the |chef server| should not exceed 64 characters when using |open ssl|. |open ssl| requires the ``CN`` in a certificate to be no longer than 64 characters."
msgstr ""

#: ../source/runbook.rst:269
# f90be72e433f4f0290a85f10056e91c6
msgid "By default, the |chef server| uses the |fqdn| to determine the common name (``CN``). If the |fqdn| of the |chef server| is longer than 64 characters, the ``reconfigure`` command will not fail, but an empty certificate file will be created. |nginx| will not start if a certificate file is empty."
msgstr ""

#: ../source/runbook.rst:272
# 8116ffaac0c24ae78e4ab741494df2d1
msgid "SSL Certificates"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:4
# ebdd569c08db4795bd44c9896bb19d39
msgid "The |chef server| can be configured to use |ssl| certificates by adding the following settings to the server configuration file:"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:10
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:10
#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:10
#: ../../includes_server_tuning/includes_server_tuning_general.rst:10
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:10
#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:10
#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:10
#: ../../includes_server_tuning/includes_server_tuning_expander.rst:10
#: ../../includes_server_tuning/includes_server_tuning_solr.rst:10
#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:14
#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:10
#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:10
# 76928b23564b41fd909658551c8cb867
# 4ae52943d7924e3c98fbfe4d4df27ac2
# ed9a3fff930c4cc5b3decd62c42943b5
# db5ddbab40de496b96ccc97bf60b71ea
# c23d9312a6b741d68b7f1c15b89631c8
# 211539e233c4413a981ebddafd2b32ca
# 5dfa247ca74e4a9bb72c12556fb114b2
# 158ebf85e7d0484fb56dcfaf22d12786
# b210547db2dc4c16b70a6221b44be09b
# 64cc4aa2e9194c3f868bacd8a428db6b
# ce874c82cd854dc0a795e73359464401
# 06c601681d174c8fa082d5cfa600d7c4
msgid "Setting"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:12
# 8d4ea87bf9bb4de6a529d07ac01395ad
msgid "``nginx['ssl_certificate']``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:13
# 20d50af9efb347968c791be40dc64b46
msgid "|ssl_certificate|"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:14
# a548ac5282d94177b440779f710bb92c
msgid "``nginx['ssl_certificate_key']``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:15
# 17a9451c009e4989aade44b7a32473c3
msgid "|ssl_certificate key|"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:17
# 56bf1b97be1641beba3ab3b8d630d0db
msgid "and then setting their values to define the paths to the certificate and key."
msgstr ""

#: ../source/runbook.rst:276
# ea7325cff4994600994724a5799b1866
msgid "Regenerate Certificates"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:4
# 5789d4d6b9d848cbb32df1797f566b7e
msgid "|ssl| certificates should be regenerated periodically. This is an important part of protecting the |chef server| from vulnerabilities and helps to prevent the information stored on the |chef server| from being compromised."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:6
# f67116c462f64d0386f975dc785c65a1
msgid "To regenerate |ssl| certificates:"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:8
#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:30
#: ../../includes_server_storage/includes_server_storage_drbd_resize_device.rst:18
# 038a849e1dae4dafa8a73d46ebb66e0a
# 0597b321423048cf952b93006de1621e
# 818e854159994916868fcfcd24e93c38
msgid "Run the following command:"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:14
# 44667e18bd5b45d7adbca60078c36c29
msgid "The |chef server| can regenerate them. These certificates will be located in ``/var/opt/opscode/nginx/ca/`` and will be named after the |fqdn| for the |chef server|. To determine the |fqdn| for the server, run the following command:"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:20
# 39de58c273524108a3ab09b3dc428e7d
msgid "Please delete the files found in the ca directory with names like this ``$FQDN.crt`` and ``$FQDN.key``."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:22
# 2ff8d6640f3a47ae9a6e39876ddd1971
msgid "If your organization has provided custom |ssl| certificates to the |chef server|, they are located in ``/etc/opscode/chef-server.rb`` as values for the ``nginx[‘ssl_certificate’]`` and ``nginx[‘ssl_certificate_key’]`` settings. Delete these files and regenerate new keys using the same authority."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:24
# 15661fefa80c40fd9903322fb68155a7
msgid "Run the following command, |chef server|-generated |ssl| certificates will automatically be created if necessary:"
msgstr ""

#: ../source/runbook.rst:280
#: ../source/runbook.rst:309
# e7144ad6c3de4d5bb0ce6eee403d1d38
# 0b2175cdd19145f1936fb976ecf030f4
msgid "SSL Protocols"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:4
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:4
# 0af58b8e130e4f60a256f2d92e6f4acf
# 1c34865f29d643d2a68d09be253cc940
msgid "The following settings are often modified from the default as part of the tuning effort for the |service nginx| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:12
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:12
# c6b9bb761a094710ae3fba17f8703bd5
# 2891ba18f87b4619a7443295b82b49eb
msgid "``nginx['ssl_ciphers']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:13
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:13
# 9c41a744ad404750ab07f33510628149
# 40e9e01f50d2441199b50327fcf6f66f
msgid "|ssl_ciphers| To favor AES256 with ECDHE forward security, drop the ``RC4-SHA:RC4-MD5:RC4:RSA`` prefix. For example:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:19
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:19
# d6e2f2c0439845659fff92623bd7492d
# 66343b793c204c5e9c1a695ba920da87
msgid "``nginx['ssl_protocols']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:20
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:20
# 739605822524420c9f7b566f33d44da9
# 2c905f4141cd4460bd9ae6e194edb1d2
msgid "|version protocols_ssl| |ssl| 3.0 is supported by the |chef server|; however, |ssl| 3.0 is an obsolete and insecure protocol. Transport Layer Security (TLS)---TLS 1.0, TLS 1.1, and TLS 1.2---has effectively replaced |ssl| 3.0, which provides for authenticated version negotiation between the |chef client| and |chef server|, which ensures the latest version of the TLS protocol is used. For the highest possible security, it is recommended to disable |ssl| 3.0 and allow all versions of the TLS protocol.  For example:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:26
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:26
# cc3030f365f74ce1a75da89973e7fbf5
# c74c49d10dc6402f8b319d003c7acc68
msgid "See https://wiki.mozilla.org/Security/Server_Side_TLS#Recommended_Ciphersuite for more information about the values used with these settings."
msgstr ""

#: ../source/runbook.rst:284
# 0342821f25154502b0ceed16523d67a7
msgid "|chef client| Settings"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:4
# 61953512252c4ce4bb491b07ea6c24fd
msgid "Use following |client rb| settings to manage |ssl| certificate preferences:"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:12
# c2c8596b6c2c4f15bd15eb99406a3f88
msgid "``local_key_generation``"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:13
# 5e7fa1660ccf43e4b339a130b4a0c450
msgid "|generate local_keys| Default value: ``true``."
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:14
# 15a85e2273ce4f93b3d3ea3c56902d50
msgid "``ssl_ca_file``"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:15
# bd93a16f8639482f92eba921bfd13849
msgid "|ssl_ca_file|"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:16
# 11a3ad0b2e5c4935af88e766674b9603
msgid "``ssl_ca_path``"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:17
# 7209c346d6de456295ac1a8bc322fc0a
msgid "|ssl_ca_path|"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:18
# d9c852affdfc4052ababa2b0fa5ed91f
msgid "``ssl_client_cert``"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:19
# 20dacaa9799b4834b29720c5d906ae91
msgid "|ssl_client_cert| Default value: ``nil``."
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:20
# ace0b31064174082a9e1875655ee440d
msgid "``ssl_client_key``"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:21
# 5d1f51231bb948f29161d9ba80606935
msgid "|ssl_client_key| Default value: ``nil``."
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:22
# 9b5dab3243d34ffa99f5261a41b1cdd3
msgid "``ssl_verify_mode``"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:23
# bb421d8a8f4a425990fd8490349beed6
msgid "|ssl_verify_mode|"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:25
# edf54c99484b4cef8380f9fecb7066e9
msgid "|ssl_verify_mode_verify_none|"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:26
# 38c846efacba49ac9e096626a2759e96
msgid "|ssl_verify_mode_verify_peer| This is the recommended setting."
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:28
# e0b5c0f8c66e45fbad032e3fdc9bb9ad
msgid "Depending on how |open ssl| is configured, the ``ssl_ca_path`` may need to be specified. Default value: ``:verify_peer``."
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:29
# e66ffc8f53904de5b5836b7ee69573fa
msgid "``verify_api_cert``"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:30
# c61470b55e3e453081d25e5a4f23b957
msgid "|ssl_verify_mode_verify_api_cert| Default value: ``false``."
msgstr ""

#: ../source/runbook.rst:288
# 9c93199b55eb4c32a7a2521214ed65c3
msgid "Server Tuning"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning.rst:4
# 8c4ee60145f9401e8b2802dc6e72e35c
msgid "The server configuration file contains a list of all the configuration options available for the |chef server|. Some of these values should be modified for large-scale installations."
msgstr ""

#: ../source/runbook.rst:292
# 3ef4f5daa31c41bfacff7e545c265835
msgid "|note enterprise_chef_tuning|"
msgstr ""

#: ../source/runbook.rst:296
# 57b0c032f8004be2a7307eaf9a4967ee
msgid "Customize the Config File"
msgstr ""

#: ../../includes_config/includes_config_rb_server.rst:4
# 6b0cffa827fb47478201c920ec27c431
msgid "The |chef server rb| file contains all of the non-default configuration settings used by the |chef server|. (The default settings are built-in to the |chef server| configuration and should only be added to the |chef server rb| file to apply non-default values.) These configuration settings are processed when the ``chef-server-ctl reconfigure`` command is run, such as immediately after setting up the |chef server| or after making a change to the underlying configuration settings after the server has been deployed. The |chef server rb| file is a |ruby| file, which means that conditional statements can be used in the configuration file."
msgstr ""

#: ../source/runbook.rst:300
# 448c0ff6ae874739b6d9c9b7f5b428e1
msgid "Use Conditions"
msgstr ""

#: ../../step_config/step_config_add_condition.rst:4
# a6e886447ba0473483745b2da2e1e8ec
msgid "Use a ``case`` statement to apply different values based on whether the setting exists on the front-end or back-end servers. Add code to the server configuration file similar to the following:"
msgstr ""

#: ../source/runbook.rst:305
# c6eabbe7821d494f9253a1eba2fa4990
msgid "Recommended Settings"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:4
# fdde6382fef449ac841eb6aa61cf932a
msgid "The following settings are typically added to the server configuration file:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:12
# 0de845a18cbf49d2b1c28294ee054519
msgid "``api_fqdn``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:13
# b18fad8160e14efe97c9908173b41000
msgid "The |fqdn| for the |chef server|. This setting is not in the server configuration file by default. When added, its value should be equal to the |fqdn| for the service URI used by the |chef server|. For example: ``api_fqdn \"chef.example.com\"``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:14
# b191275e3fac45d7bfaaff2408017643
msgid "``bootstrap``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:15
# 334fe37a92304cc387cb257d41d1ab59
msgid "Default value: ``true``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:16
# 69eefcea453f49ba87bb686d624a88c1
msgid "``ip_version``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:17
# d208f3a5ee6046f88384224d9ee4b9ca
msgid "Use to set the IP version: ``\"ipv4\"`` or ``\"ipv6\"``. When set to ``\"ipv6\"``, the API listens on IPv6 and front end and back end services communicate via IPv6 when a high availability configuration is used. When configuring for IPv6 in a high availability configuration, be sure to set the netmask on the IPv6 ``backend_vip`` attribute. Default value: ``\"ipv4\"``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:18
# 2e0f49a6818c48e7b2f2fbeca32e886f
msgid "``notification_email``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:19
# cab870bf1a9942cc93e411c35c3264f0
msgid "Default value: ``info@example.com``."
msgstr ""

#: ../source/runbook.rst:313
# c2998a9edbf749098e7c02fa87fb1c18
msgid "Optional Settings"
msgstr ""

#: ../source/runbook.rst:314
# 617e9a63481e4f7490f05e31bfabbb89
msgid "The following settings are often used to for performance tuning of the |chef server| in larger installations."
msgstr ""

#: ../source/runbook.rst:316
# aa437264b7184795985389ebde2e2184
msgid "When changes are made to the |chef server rb| file, the |chef server| must be reconfigured by running the ``chef-server-ctl reconfigure`` command."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:4
# 4885f1602c2042a186b79f713be260f7
msgid "The following setting is often modified from the default as part of the tuning effort for the |service bookshelf| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:12
# 90c8269afa4b4bc5853dc64bf6615c0e
msgid "``bookshelf['vip']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:13
# 4296df48598841c782ad6fa17d0d5262
msgid "|ip_address virtual| Default value: ``node['fqdn']``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:4
# ca6a896ecccf49eab178f378a59414fd
msgid "The following settings are often modified from the default as part of the tuning effort for the |service erchef| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:12
# e3a5539fa62f4ab2a6f351d0e47cc43c
msgid "``opscode_erchef['db_pool_size']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:13
# 30d744a0b0df47069b13dcc99db4f806
msgid "|db_pool_size| If failures indicate that the |service erchef| service ran out of connections, try increasing the ``postgresql['max_connections']`` setting. If failures persist, then increase this value and also increase the value for ``postgresql['max_connections']``. Default value: ``20``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:14
# 005da82832634853ae5bad028098e86d
msgid "``opscode_erchef['s3_url_ttl']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:15
# 5cee288c8bf94694ba11e9188793dd4e
msgid "|s3_url_ttl| If |chef client| runs are timing out, increase this setting to ``3600``, and then adjust again if necessary. Default value: ``900``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_expander.rst:4
# 6a278d41fafa49149cce93d380a0a63c
msgid "The following setting is often modified from the default as part of the tuning effort for the |service expander| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_expander.rst:12
# eb1301fd9bd9479d89c409a08d323667
msgid "``opscode_expander['nodes']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_expander.rst:13
# 59e19bf2d4244a73803b50b3ca5516a3
msgid "|worker_processes| The |service expander| service runs on the back-end and feeds data to the |service solr| service, which creates and maintains search data used by the |chef server|. Additional memory may be required by these worker processes depending on the frequency and volume of |chef client| runs across the organization, but only if the back-end machines have available CPU and RAM. Default value: ``2``."
msgstr ""

#: ../source/runbook.rst:331
# 6000fd7893c54e1ba5679aec3b42dc3e
msgid "opscode-solr"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:4
# 1e5aab20cafc40d286d0c15923d2ef54
msgid "The following settings are often modified from the default as part of the tuning effort for the |service solr4| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:12
# 99abc903033e4ad68f7d4733f22304da
msgid "``opscode_solr['heap_size']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:13
# ae05849f50284156bb4ee6fe38604fa5
msgid "|heap_size solr|"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:15
# 233c7d8fa7be494f8274a828b0c97318
msgid "If |apache solr| is running out of memory, the ``/var/log/opscode/opscode-solr/current`` log file will contain ``SEVERE: java.lang.OutOfMemoryError: Java heap space``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:17
# a8e1576c1efe4f6785d3d41c5f845e26
msgid "The default value should work for many organizations with fewer than 25 nodes. Suggested value: ``256`` per every 25 nodes. For example, an organization with 300 nodes, this value should be set to ``3072``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:18
# b8ba46ce967b4579945499cb5fffb60e
msgid "``opscode_solr['max_field_length']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:19
# e6374e18cce645589ae5f7a3a44bdffc
msgid "|solr_max_field_length| Default value: ``100000`` (increased from the |apache solr| default value of ``10000``)."
msgstr ""

#: ../source/runbook.rst:334
# 8876b140a3f446f08584b278ce5dd333
msgid "**Update Frequency**"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:4
# 04d7dd5fdd074e58ba87d3ef71411f90
msgid "At the end of every |chef client| run, the node object is saved to the |chef server|. From the |chef server|, each node object is then added to the ``SOLR`` search index. This process is asynchronous. By default, node objects are committed to the search index every 60 seconds or per 1000 node objects, whichever occurs first."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:6
# 4a07fe5252024808af1ba07a522cac29
msgid "|solr_update_frequency_caveat|"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:8
# aed3a699d38e496d85edef85e21eba54
msgid "For |chef server|, these settings are configurable:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:16
# 2af6d5780fd342c7806c9a2758f94405
msgid "``opscode_solr['commit_interval']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:17
# f5de282ae9374202b3d81b9486d2be53
msgid "|solr_commit_interval| Default value: ``60000`` (every 60 seconds)."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:18
# 71d6059c782a4e9f9a5ca109bc7d0425
msgid "``opscode_solr['max_commit_docs']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:19
# b335057ca17c4152933368bf8a0e9c93
msgid "|solr_max_commit_docs| Default value: ``1000`` (every 1000 documents)."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:4
# cd1941e60d9a4309bd9f41064c459963
msgid "The following setting is often modified from the default as part of the tuning effort for the |service postgresql| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:12
# 859dee2aea0a4bc99d100f7bd43fe437
msgid "``postgresql['max_connections']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:13
# d6d60ac020e24edf8dedc4bbf4da0dd3
msgid "|max_connections| This value should only be tuned when the ``erchef['db_pool_size']`` value used by the |service erchef| service is modified. Default value: ``350``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:4
# 2b9f7175497b4f8e807c76e18ad1fee0
msgid "If there are more than two front end machines in a cluster, the ``postgresql['max_connections']`` setting should be increased. The increased value depends on the number of machines in the front end, but also the number of services that are running on each of these machines."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:6
# 82a4a60d079f4f9ea04d82724f134d75
msgid "Each front end machine always runs the |service bifrost| and |service erchef| services."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:7
# eb55f7f9132d46a29cfcaf29e59a22da
msgid "The |reporting| add-on adds the |service reporting| service."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:8
# fb59e9e2bd1e48e08d19cd5e6a167f70
msgid "The |push jobs| service adds the |service push_jobs| service."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:10
# 9afba9f3865942fc85a1468d78d8db17
msgid "Each of these services requires 25 connections, above the default value."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:12
# e5f51c4b2a9c4591abbc485c69288a6b
msgid "Use the following formula to help determine what the increased value should be:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:20
# cf9f891dd79a40f7a2919e1dc3d1fef8
msgid "For example, if the current value is 350, there are four front end machines, and all add-ons are installed, then the formula looks like:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:4
# 0f6ecaade01b4c0caea3396b2888d227
msgid "The following settings must be modified when the |chef analytics| server is configured as a standalone server:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:12
# 5527cd7673044178a67afb2808719c6b
msgid "``rabbitmq['node_ip_address']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:13
# 43738dacd8d94662a119349793c73315
msgid "|ip_address rabbitmq| Default value: ``\"127.0.0.1\"``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:15
# 917b07d3b3d64d6fb3e26496c99e4ef9
msgid "|analytics rabbitmq_settings| When the |chef analytics| server is configured as a standalone server, change this value to ``0.0.0.0``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:16
# 6b50120177144de1b923bdbee937a09c
msgid "``rabbitmq['vip']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:17
# a16fa0e846534a77a4236b86a846e902
msgid "|ip_address virtual| Default value: ``\"127.0.0.1\"``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:19
# 2dded83e03cf4236930f93e428d9db64
msgid "|analytics rabbitmq_settings| When the |chef analytics| server is configured as a standalone server, change this value to the backend VIP address for the |chef server|."
msgstr ""

#: ../source/runbook.rst:350
# dc1966929b6949a3a82519eccbd26ca8
msgid "Resize |drbd|"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd.rst:4
# fe15e065c4d342db94d1b7147abe430c
msgid "|drbd| may be resized. First, make a backup of the |chef server| data."
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd.rst:6
# 21fc214da9d54e9aa06673af1349bf93
msgid "The mounted filesystem on the primary backend server is ``ext4``"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd.rst:7
# f17a61939ad74114b58e3b5395decf25
msgid "The backing device for the mounted ``ext4`` filesystem is an LVM2 volume named ``/dev/opscode/drbd``"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd.rst:9
# 653ab29029154c6bb4089aa325a7b8b7
msgid "For more information about |lvm|, see http://www.tldp.org/HOWTO/LVM-HOWTO/. For more information about |drbd|, see http://drbd.linbit.com/users-guide/s-resizing.html."
msgstr ""

#: ../source/runbook.rst:354
# 30100b9d50634503aac211b20a28481b
msgid "Devices"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_device.rst:4
# 16345773cf1d4cf680d3e3c3538ec0e4
msgid "After backing up the |chef server| data, make a note of the current size of the ``/dev/opscode/drbd`` logical volume and mountpoint. Run the following commands:"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_device.rst:10
#: ../../includes_server_storage/includes_server_storage_drbd_resize_vg.rst:10
#: ../../includes_server_storage/includes_server_storage_drbd_verify.rst:10
# 489c76ca41814304ab121a7675511047
# 94616b25d5dd48c2b2f87bb2ffe25875
# f430cbc0163a47dcbf0fc246a26485b0
msgid "and then:"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_device.rst:16
# c5f029d6e1c14246b1c3934bf2e9a744
msgid "Verify that |drbd| is in good shape on both backend machines. Both the primary and secondary machines should show states similar to ``Primary/Secondary UpToDate/UpToDate``."
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_device.rst:24
# 55f61fb704384a5699985409b7797049
msgid "Save these results to compare them to the same data post-resize."
msgstr ""

#: ../source/runbook.rst:358
# b69f8b90878d49b3ba142d8585288f12
msgid "Volume Groups"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_vg.rst:4
# fbee49c6212b4f9c963400d392c59581
msgid "Resize the volume group on both backend systems. Run the following commands and replace ``sdb1`` for the correct device name:"
msgstr ""

#: ../source/runbook.rst:362
# 30712337d9b846b9ba2cfa25f2065f95
msgid "Logical Volumes"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_lv.rst:4
# 4f7fe5a529344cd9b86483bfcc4e1986
msgid "Resize the logical volumes identically on both backend machines. Due to differences in the space available for logical volumes on the primary and secondary backend machines (which is typically caused by existing snapshots), the size of the logical volume should be specified in absolute terms on both sides of the |drbd| link, rathern than in percentages. Be sure to leave about 20% of the total available space free on both sides of the |drbd| link, minus any existing snapshots. Run the following command and replace ``SIZE`` with a value similar to ``10GiB``:"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_lv.rst:10
# 4d4a89aa8ead4b48a9d9dec80991b6b8
msgid "For example, if the volume group has 10GB total, only 8GB should be allocated to the logical volume, which leaves 20% of the volume group available:"
msgstr ""

#: ../source/runbook.rst:366
# 952fa5a3756149d28af3c3dda75c4108
msgid "Primary Backend"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_primary_backend.rst:4
# 577331f731524327a23d980cd28351e8
msgid "Resize |drbd| on the current primary backend to extend the size of the |drbd| device. Run the following command:"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_primary_backend.rst:10
# 830304a83ac74c04b6987b552214a48f
msgid "The size of the ``/dev/drbd0`` backing device's mountpoint should grow. This change may take some time to complete, as |drbd| may want to synchronize the changes across the network, even though they are empty blocks."
msgstr ""

#: ../source/runbook.rst:370
# 226423d7d6de4de2b4a11f0cf6e071e7
msgid "Primary File System"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_primary_filesystem.rst:4
# 6281df5360d044ab93af8c04a1ea6b6a
msgid "Resize the file system only on the current primary backend. Run the following command:"
msgstr ""

#: ../source/runbook.rst:374
# 4d62334d4a3b4ec886e07d77cb0a3b2f
msgid "Verify Resize"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_verify.rst:4
# eb6a8a91bf5142df93327406b0617931
msgid "To verify the results of resizing |drbd|, run the following commands and compare the results to the same data that was collected prior to resizing |drbd|:"
msgstr ""

#: ../source/runbook.rst:379
# 594b4db8bce2401887ff2d67a25de6db
msgid "Backup and Restore"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore.rst:4
# f86fb537af934f028f7e7b0a21255ac5
msgid "Periodic backups of |chef server| data are an essential part of managing and maintaining a healthy configuration and to help ensure that important data can be restored, if required."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:4
# 33abfb8adba840bba0424dd12204000b
msgid "To configure backups on the backend servers in a |ha| configuration, set a |cron| job in ``/etc/cron.d/opc_snapshot`` similar to the following:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:15
# 44138c847c5a4f37bac82718ce10b8bb
msgid "A |cron| job similar to the previous example will mount a new snapshot logical volume named::"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:19
# 32c22d12192f401c95bf5633a6b5cbf2
msgid "where ``{+%Y-%m-%d-%H-%M-%S}`` is a format string for year, month, day, so on."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:21
# f019bf2f063a4364a03c5ee31c7e7130
msgid "After the |cron| job has run successfully, the ``mount`` command will show the new logical volume mounted on the ``/var/opt/opscode/drbd-backups`` mount point. The backup script will create a snapshot logical volume in unused space in the ``/opscode`` volume group. After the snapshot is created, the backup script will attempt to mount the snapshot logical volume, after which the snapshot will stay mounted for 24 hours. Upon the next |cron| job run, the backup script will attempt to unmount, destroy the snapshot, and then repeat the sequence."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:23
# 6cab78f8a17e48bc8ca855e0619abc43
msgid "The ``drbd-backups`` script with default settings requires at least 40 GB free space in the ``/opscode`` volume group on the backend servers."
msgstr ""

#: ../source/runbook.rst:387
# 0b1b559f83c94d01bae0bf1c50c1fe62
msgid "Required Directories"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations.rst:4
# 2a60820a02944c618ef1bfac3795192c
msgid "Data stored in the following directories should be backed up periodically:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations.rst:6
#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:11
# 1d876463c650473da617d94058c620b5
# e21551d12c7646c88804eb348a1ba400
msgid "/etc/opscode"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations.rst:7
#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:12
# fde72207cd6949d388d5adb53494b66b
# 4c607d29017d433cb92be826b4574c21
msgid "/var/opt/opscode"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations.rst:9
# 0c299484538948d3b97854a3401604fb
msgid "This data is also essential when any type of backup and restore operation is done for the |chef server|."
msgstr ""

#: ../source/runbook.rst:391
# 970cab096d1f47839778e4d3599a790d
msgid "Backup"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_backup.rst:5
# 33442dbcb467435cab4d52cf496b55a3
msgid "When backing up |chef server| data, be sure that the system is shut down (or otherwise quiet) at the time of the backup. Perform all activities as root unless otherwise directed."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_backup.rst:8
# 3469541bcc2d46aab4bb4886e5f3e7d0
msgid "Make a postgres export using the following commands:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_backup.rst:17
# 30ac206a74074e6fb77ed1ad4578acfe
msgid "Synchronize to make sure that all of the data is present on-disk:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_backup.rst:23
# b09871ea7df243438a89c4a607bff718
msgid "Backup the /etc/opscode and /var/opt/opscode directories and include the postgres export file as root"
msgstr ""

#: ../source/runbook.rst:395
# fcd90550e813438cbec5ac2041c28527
msgid "Restore"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:4
# 732a9ecb0c7347df90e67ea189ca84b5
msgid "When restoring |chef server|  data, the previously backed-up files will be required, along with the |chef server| running only the |service postgresql| service. Perform all activities as root unless otherwise directed."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:7
# 7dcf5d8be0bd4c6cad473bd26875cd8b
msgid "Stop all Chef Server services."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:9
# fdf5e2fd7f1f4ba99d37c0db71dd27c1
msgid "and then restore the previously backed-up files to the following locations using this command to exclude postgres files:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:18
# 8cefbcef36ec4582af919678f74e4bb3
msgid "Start PostgreSQL service."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:19
# 655da509e0c646e3b61292692e9188c5
msgid "Restore PostgreSQL DB:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:25
# 2423041e678b43838fe2ad4acb20fa71
msgid "This process has only 2 ERRORs and these can be ignored:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:27
# 8bb16ef492d946cfbd4d6156bdfff35e
msgid "ERROR: current user cannot be dropped"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:29
# 96258ab5a5eb45c8858f768068f83df1
msgid "ERROR: role \"opscode-pgsql\" already exists"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:31
# b25ff4ef2ada48d4ac599892592f60c5
msgid "Start all Chef Server services."
msgstr ""

#: ../source/runbook.rst:403
# 1630b29fb0e94530b4043ee549feeb80
msgid "Manage Organizations"
msgstr ""

#: ../source/runbook.rst:404
#: ../source/runbook.rst:474
# 6573d6fea31c49569d9941eed3b708da
# 53fe2cc9c29a4a9094971cee16664cef
msgid "The following commands are built-in to the |chef server ctl| command line tool:"
msgstr ""

#: ../source/runbook.rst:407
# 80462dfbffde45c49945c6073c6edbe4
msgid "org-create"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create.rst:6
# 0b4ae32e678240aca94bc97a9b667cd7
msgid "The ``org-create`` subcommand is used to create an organization. (The validation key for the organization is returned to ``STDOUT`` when creating an organization with this command.)"
msgstr ""

#: ../source/runbook.rst:410
#: ../source/runbook.rst:422
#: ../source/runbook.rst:430
#: ../source/runbook.rst:442
#: ../source/runbook.rst:453
#: ../source/runbook.rst:467
#: ../source/runbook.rst:480
#: ../source/runbook.rst:492
#: ../source/runbook.rst:500
#: ../source/runbook.rst:508
#: ../source/runbook.rst:520
# 7770a36fee394d71aa63ee342ef9eef6
# 712f8b18e20748f19f32ddbe2bd571f2
# 081759110e6e4bf3886c779e99deede9
# fa8f8dea29f94a2497943275bd562629
# 7dbd914f6a194843a3133f26e7dd151e
# 8a40c8a80f444a8c90a8f611fd380095
# 91fab990c705473687a0b26ebb6c9e0f
# 1463db7d868a434dbec1bca9c0cdee2d
# 2ab0220c8fdc4a7182f461d36e3b9520
# 5acc2d5dd3a6470bb5f8191714512ff2
# 22e1ebc8c6654fe59ad0f4fe36940ead
msgid "**Syntax**"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_syntax.rst:14
# 4b12b7b2cca94a1995794ba37a31890d
msgid "|name_rules org| For example: ``chef``."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_syntax.rst:15
# 85a49671746d43a1a7d7cddd52508a61
msgid "|name_rules org_full| For example: ``\"Chef Software, Inc.\"``."
msgstr ""

#: ../source/runbook.rst:414
#: ../source/runbook.rst:434
#: ../source/runbook.rst:457
#: ../source/runbook.rst:484
#: ../source/runbook.rst:512
#: ../source/runbook.rst:524
# e4081eb72a6441038a798814c3bcee12
# 2ff2fe7ae19341ada3f14d087d8c4ca1
# 384e3c74c5c54a4f8eac57023e8ecdad
# d1becc15c1cf4a6881e4f30ee85f7bef
# ff28ffde494f45118825b1e632b9c064
# 0c36d5dc4b0d42b7bc70c17d7db93992
msgid "**Options**"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_user_add_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show_options.rst:6
# 7f44fa275a884a2b8a9d92a62b7e8822
# 4088bfc384bb43e4a67bdf35fbd590ce
# 8e2c7d819014437eb0d63fdc05b9b6cd
# b4cd54fcb7f443048752899c52220d98
# 95a287b4f3594accb0ec875c0c6720a1
# 4baeb430a8e5414f9b936dcdb9601d80
msgid "This subcommand has the following options:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:9
# 97b1148aef334b249a8545cf245c6f7b
msgid "``-a USER_NAME``, ``--association_user USER_NAME``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:9
# 5330a68dc72e4533a48acbe194fe500e
msgid "Use to associate a user with an organization and add them to the |webui group admins| and |webui group billing| security groups."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:13
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create_options.rst:9
# 72cebcdacef4494085f305510335b773
# 8233a4fb08494c928a49b6e46a71a99e
msgid "``-f FILE_NAME``, ``--filename FILE_NAME``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:12
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create_options.rst:9
# bceeba548c1f4ec08b79d98ddd8882aa
# 8491704faab84f3c8e56499e18638b25
msgid "Use to write the private key to a file instead of ``STDOUT``."
msgstr ""

#: ../source/runbook.rst:419
# bfc04bd32e7a4609a0a36ba13d987df2
msgid "org-delete"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_delete.rst:6
# 569529a150844bf28308844e6f176240
msgid "The ``org-delete`` subcommand is used to delete an organization."
msgstr ""

#: ../source/runbook.rst:427
# e27a008cb9e34aa28e152e302193cd64
msgid "org-list"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list.rst:6
# d32ab5e70d00411fb72d7f5be5961e87
msgid "The ``org-list`` subcommand is used to list all of the organizations currently present on the |chef server|."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:9
# 26437ab3a1d0449ab7a3013e7808bbc2
msgid "``-a``, ``--all-orgs``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:9
# 5d59271b852c4405bbc3cb7ec46cc685
msgid "Use to show all organizations."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:12
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list_options.rst:9
# 1a162ae652c7401ea26c89e3da7931ce
# d294ddb3ce3b49b5b0a01a55c86f2ef9
msgid "``-w``, ``--with-uri``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:12
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list_options.rst:9
# af17ee7bcaa74aa0b486058f574df53f
# 489e42fc9f044d489490405c0ea53380
msgid "|with_uri|"
msgstr ""

#: ../source/runbook.rst:439
# 3de0cb94a84343cbafcaba4bbd1568ee
msgid "org-show"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_show.rst:6
# a06ee5f39657494fab2e3b5ac30bcd82
msgid "The ``org-show`` subcommand is used to show the details for an organization."
msgstr ""

#: ../source/runbook.rst:448
# f32dfc66df834a7c89bcf5a855e6c7f9
msgid "org-user-add"
msgstr ""

#: ../source/runbook.rst:449
# 517af12ba4004379919c0c1e13e5fefc
msgid "Early RC candidates for the |chef server| 12 release named this command ``org-associate``. This is the same command, with the exception of the ``--admin`` flag, which is added to the command (along with the rename) for the upcoming final release of |chef server| 12."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_user_add.rst:6
# 84e8d85058b344b4961b806e3c3fe518
msgid "The ``org-user-add`` subcommand is used to add a user to an organization."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_user_add_options.rst:9
# 1944a71b40da49a491a26a474de1ac38
msgid "``--admin``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_user_add_options.rst:9
# 57f11749a5bc4665a518f38c897b57cb
msgid "Use to add the user to the |webui group admins| group."
msgstr ""

#: ../source/runbook.rst:462
# 544b5addf6464ba5960fb85c2bb38614
msgid "org-user-remove"
msgstr ""

#: ../source/runbook.rst:463
# 3121a3352cfc4ea4a1a337536ca6eb56
msgid "Early RC candidates for the |chef server| 12 release named this command ``org-disociate``. This is the same command, but renamed for the upcoming final release of |chef server| 12."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_user_remove.rst:6
# 0fa822d0c8e243bd9c4cd5a72af169b1
msgid "The ``org-user-remove`` subcommand is used to remove a user from an organization."
msgstr ""

#: ../../step_knife/step_knife_edit_admin_users.rst:3
# 3e197e67450c4085ac011c43a3d442be
msgid "A user who belongs to the |webui group admins| group must be removed from the group before they may be removed from an organization. To remove a user from the |webui group admins| group, run the following:"
msgstr ""

#: ../../step_knife/step_knife_edit_admin_users.rst:9
# 7f5e0f40071645799811d2f5ba4de633
msgid "make the required changes, and then save the file."
msgstr ""

#: ../source/runbook.rst:473
# f5a546a82c05436dbb447361b97de1c1
msgid "Manage Users"
msgstr ""

#: ../source/runbook.rst:477
# 56bbfdc261aa41d48b3cd02c60b490f8
msgid "user-create"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create.rst:6
# 4af9855460ee41c7b851beca2649c327
msgid "The ``user-create`` subcommand is used to create a user. (The validation key for the organization may be returned to ``STDOUT`` when creating a user with this command.)"
msgstr ""

#: ../source/runbook.rst:489
# ab61b008ccdb4d8ba103683d448ac381
msgid "user-delete"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_delete.rst:6
# 94bafadc10744021aadf4f6527d96eb2
msgid "The ``user-delete`` subcommand is used to delete a user."
msgstr ""

#: ../source/runbook.rst:497
# bb6e23168ef842c0b9d2a38f5eda198b
msgid "user-edit"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_edit.rst:6
# 6e90544d9f954d83849bf6d8924e2eac
msgid "The ``user-edit`` subcommand is used to edit the details for a user. The data will be made available in the |chef editor| for editing."
msgstr ""

#: ../source/runbook.rst:505
# a6729503936442aabef64238965da236
msgid "user-list"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list.rst:6
# eff0d57438ca4f01b86a071a423800f6
msgid "The ``user-list`` subcommand is used to view a list of users."
msgstr ""

#: ../source/runbook.rst:517
# 6675072ad88b4dcaaa5965ea13a2fff4
msgid "user-show"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show.rst:6
# ec0fa2044b194f1cbce987b09a8060ce
msgid "The ``user-show`` subcommand is used to show the details for a user."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show_options.rst:9
# 23ff6475f236441cb93cf8c4ceed1cd4
msgid "``-l``, ``--with-orgs``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show_options.rst:9
# ecd494865bec4fbbb9f8b9f7389354c0
msgid "Use to show the corresponding organizations."
msgstr ""

