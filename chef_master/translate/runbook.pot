# SOME DESCRIPTIVE TITLE.
# Copyright (C) This work is licensed under a Creative Commons Attribution 3.0 Unported License.
# This file is distributed under the same license as the Chef Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Chef Docs \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2014-10-29 10:22-0700\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/runbook.rst:8
# a4343d6ba4df4e08bc2126e39d6e6c80
msgid "Runbook"
msgstr ""

#: ../../includes_chef_server/includes_chef_server.rst:4
# a73ffe281d024795bb3cdfe125c875c4
msgid "The |chef server| acts as a hub for configuration data. The |chef server| stores cookbooks, the policies that are applied to nodes, and metadata that describes each registered node that is being managed by the |chef client|. Nodes use the |chef client| to ask the |chef server| for configuration details, such as recipes, templates, and file distributions. The |chef client| then does as much of the configuration work as possible on the nodes themselves (and not on the |chef server|). This scalable approach distributes the configuration effort throughout the organization."
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_erchef_background.rst:4
# 9ec66d3ed6db42a5a828c0cd6d3ce85c
msgid "Starting with the release of |chef 11|, the front-end for the |chef server| is written using `Erlang <http://www.erlang.org/>`_, which is a programming language that `first appeared in 1986 <http://en.wikipedia.org/wiki/Erlang_%28programming_language%29>`_, was open sourced in 1998, and is excellent with critical enterprise concerns like concurrency, fault-tolerance, and distributed environments. The |chef server| can scale to the size of any enterprise and is sometimes referred to as |erchef|."
msgstr ""

#: ../source/runbook.rst:14
# 936bd8eec3be4e4fa330a4e4cbcee6d4
msgid "The following diagram shows the various components that are part of a |chef server| deployment and how they relate to one another."
msgstr ""

#: ../source/runbook.rst:22
# 7b52340a05ec46f3b1665badd81d18ac
msgid "Component"
msgstr ""

#: ../source/runbook.rst:23
#: ../../includes_server_logs/includes_server_logs_nginx.rst:11
#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:38
#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:11
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:11
#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:11
#: ../../includes_server_tuning/includes_server_tuning_general.rst:11
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:11
#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:11
#: ../../includes_server_tuning/includes_server_tuning_chef.rst:11
#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:11
#: ../../includes_server_tuning/includes_server_tuning_expander.rst:11
#: ../../includes_server_tuning/includes_server_tuning_solr.rst:11
#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:15
#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:11
#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:11
# 6e6fe6c42a094c2eb0e01e536afad904
# 67400592ee0a40d08168b6620c64dffe
# 194b831e91574bb69ebb544aadb833e0
# f544d9ad31644adba802f281d60c055c
# 906beeba3999495292f72e5e1c886fe7
# 89b603f9acf842919c250b4a688b0f03
# ffa900def9c64114bf0c1fd308a6ae1c
# e6a6b1e90e94450fa781ec8ebb624a4f
# 10d5e4f694df4da4935b729adebc2c0c
# 102f5ac021174972b8273b60d849a508
# c00e7b01cf46454698692c31506eb593
# c02df73b1475434cae149605f284e49b
# 611512046fc04774b023f34fb07f27d2
# 01e65fbb0a014c89936537ca375df454
# 202295e065c54782b5324f3399861d5a
# 17f434155fde426f887a7f5d9926191a
msgid "Description"
msgstr ""

#: ../source/runbook.rst:24
# b1d22175465d43038fc84307557c2c23
msgid "Bookshelf"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_bookshelf.rst:4
# aceda7ba7c2a45a4a0e7dd6d13904f28
msgid "|chef bookshelf| is used to store cookbook content---files, templates, and so on---that have been uploaded to the |chef server| as part of a cookbook version. Cookbook content is stored by content checksum. If two different cookbooks or different versions of the same cookbook include the same file or template, |chef bookshelf| will store that file only once. The cookbook content managed by |chef bookshelf| is stored in flat files and is separated from the |chef server| and search index repositories."
msgstr ""

#: ../source/runbook.rst:27
# 57d1b9eb3d814629bf145b770ee7df0e
msgid "All cookbooks are stored in a dedicated repository."
msgstr ""

#: ../source/runbook.rst:28
# afba6ca789bb4e12b58c6534c2ab69de
msgid "WebUI"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_webui.rst:4
# 8ead153b84f7439296874b646b654dd2
msgid "|chef server webui| is a |ruby on rails| 3.0 application that hosts the web interface for the |chef server|."
msgstr ""

#: ../source/runbook.rst:30
# 16a592cc50a04d799d63c0dc793b597f
msgid "Erchef"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_erchef.rst:4
# 4741c7b54fda4c2baf4980e275f4a9d1
msgid "|erchef| is a complete rewrite of the core API for the |chef server|, which allows it to be faster and more scalable than previous versions. The API itself is still compatible with the original |ruby|-based |chef server|, which means that cookbooks and recipes that were authored for the |ruby|-based |chef server| will continue to work on the |erlang|-based |chef server|. The |chef client| is still written in |ruby|."
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_erchef.rst:6
# c466c4f60c24408ba87ab05e7b8dc126
msgid "Even though the |chef server| is authored in |erlang|, writing code in |erlang| is NOT a requirement for using |chef|."
msgstr ""

#: ../source/runbook.rst:32
# 4d18a62a0b1c40029ddc60c5b31a4bee
msgid "Message Queues"
msgstr ""

#: ../source/runbook.rst:33
# 4a7cc50397e14d17bb011a05e2b17213
msgid "Messages are sent to the Search Index using the following components:"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_rabbitmq.rst:4
# 4628ab3139fe47ed9f93b4bf03d36777
msgid "|rabbitmq| is used as the message queue for the |chef server|. All items that will be added to the search index repository are first added to a queue."
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_expander.rst:4
# 7f52f32632c048bf974df2d21a80c5b7
msgid "|chef expander| is used to pull messages from the |rabbitmq| queue, process them into the required format, and then post them to |chef solr| for indexing."
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_solr.rst:4
# e5b7ebf20d0a498bb9227e2d42451e82
msgid "|chef solr| wraps |apache solr| and exposes its REST API for indexing and search."
msgstr ""

#: ../source/runbook.rst:39
# 43308554106644559968fd51b3c8ead2
msgid "All messages are added to a dedicated search index repository."
msgstr ""

#: ../source/runbook.rst:40
# bdec4b81d57d49a3a8482fb2a88fa3e9
msgid "Nginx"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_nginx.rst:4
# 8cd3abfbe8ff413fab51f9fcf7c7924f
msgid "|nginx| is an open-source HTTP and reverse proxy server that is used as the front-end load balancer for the |chef server|. All requests to the |api chef server| are routed through |nginx|."
msgstr ""

#: ../source/runbook.rst:42
# 71f5e5c171634d60aa699624186e1fa3
msgid "PostgreSQL"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_postgresql.rst:4
# 7237d9a8ce4f48e98f9fcdff1ab1bfbd
msgid "|postgresql| is the data storage repository for the |chef server|."
msgstr ""

#: ../source/runbook.rst:45
# c987f82d1d004dbfb6697ff1dbdca59d
msgid "The following sections detail how to monitor the server, manage log files, manage services, manage firewalls and ports, configure SSL, tune server configuration settings, and backup and restore data."
msgstr ""

#: ../source/runbook.rst:49
# e1021ec38b804cc7a5e7a5a010a319de
msgid "Monitoring"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor.rst:4
# 4b99bb3642f74a93b0a014a0e33b7c52
msgid "Monitoring the |chef server| involves two types of checks: application and system. In addition monitoring the HTTP requests that workstations and nodes are making to the |chef server| and per-disk data storage volumes is recommended."
msgstr ""

#: ../source/runbook.rst:53
# d97412797cca47c49c6706bb241567f2
msgid "Application Checks"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application.rst:4
# 91984db9d9924a03bc12744d142c468b
msgid "Application-level checks should be done periodically to ensure that there is enough disk space, enough memory, and that the front-end and back-end services are communicating."
msgstr ""

#: ../source/runbook.rst:57
# 88a031d1f9a2406d9dc114a6d656fcdb
msgid "|drbd|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_drbd.rst:5
# 483713558480476f890b27805d2400c0
msgid "|drbdadm| is the management tool for |drbd|. It can be used to obtain status information and to alter the state of the |drbd| cluster. For more information about |drbdadm|, see http://www.drbd.org/users-guide/re-drbdadm.html."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_drbd.rst:7
# 4cf5ce533d44491083346428e59c8e26
msgid "``/proc/drbd`` is a virtual file that displays real-time status information about all currently-configured |drbd| resources. Use the following command to view the contents of this virtual file:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_drbd.rst:13
# 21f084020efb46889c9c5dd1dd98bb04
msgid "Use ``chef-server-ctl ha-status`` along with ``/proc/drbd`` to help evaluate the current state of the cluster. Follow the split-brain recovery procedures for |drbd| if the cluster becomes two unconnected pieces."
msgstr ""

#: ../source/runbook.rst:61
# 4991ff93a76447ef9fc0ad1cbd89e0c0
msgid "|erlang|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:5
# c82f3048e46c417da8b3a2db4d85d8e6
msgid "Many components of the |chef server| are written using |erlang| and run on the |beam| virtual machine. One feature of |erlang| and |beam| is the ability to interact with the running service using a command shell. For example:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:13
# 50091034ec0d4fd3b6b8c749a96da951
msgid "where ``service_name`` is ``bifrost`` or ``erchef``. This command will then open a shell that is connected to the |erchef| processes:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:19
# 334db12e9b2247ca8210fdbc68a0eef0
msgid "Connecting to the |erlang| processes should only be done when directed by |company_name| support services."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:21
# 213b97c697404f9b9335fb155bfaf88f
msgid "To connect to the |service bifrost| service, use the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:27
# 9084a5cea9484eec961cee7548bba8c0
msgid "To connect to the |service erchef| service, use the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:33
#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:29
# 7f3d60e7a34e45f88e3ebb22b9108b13
# 52371276c2f041a09608c1e986d6507c
msgid "To disconnect from the shell, use the following key sequence ``CTRL-g``, ``q``, and then ``ENTER``."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:35
#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:31
# 41497118eb7a47938b2b60083bdb5a47
# 697a1171b4754596a899204e7ebe94cd
msgid "The output from the shell after the ``CTRL-g`` looks similar to:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:42
#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:38
# 76b48c03ad1f45a59e326bcb5a8b49e7
# 24c77a98a57c4fca9bb69cbb135dfe28
msgid "then enter ``q``, and then hit ``ENTER`` to exit the shell."
msgstr ""

#: ../source/runbook.rst:65
# 71ef27229a3b434e95934823a88f018a
msgid "``eper`` tools"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:4
# dc3f8d8321ed4c34bb07806816502294
msgid "As root on the |chef server|, point to the bundled ``eper`` package of debugging tools. Replace the 2nd and 5th path entries and the ``X.XX.X`` value in the following path with the items that occur on the system."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:10
# b5c8e3857b284cc78124bf3e57370449
msgid "Open an |erlang| command shell to begin diagnosing service issues on the |chef server|:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:17
# fb1f3d6fc7b442acb8b24de76b1984fd
msgid "The ``dtop`` tool presents a view on the |erlang| virtual machine that is similar to the ``linuxdagnostic`` command. The period at the end of the dtop command is required for the command to take effect."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:23
# 2d952574381840358935fc7d0be04549
msgid "To stop the ``dtop`` command, run:"
msgstr ""

#: ../source/runbook.rst:69
# c020be5cadf84b62a8fdabc7519e006f
msgid "|nginx|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_nginx.rst:5
# ffe99560924a492f83ce2c1f64649661
msgid "Use |nginx| to monitor for services that may be returning 504 errors. Use the following command on a front-end machine:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_nginx.rst:11
# 344d105cf8ce4b838f2c27de65142fe4
msgid "and then extract the URLs and sort them by ``uniq`` count:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_nginx.rst:17
# d1441cd2ebf7457d8d4bf3da12ab73da
msgid "In a large installation, restricting these results to a subset of results may be necessary:"
msgstr ""

#: ../source/runbook.rst:73
# 59ad943172644f7dbaedad0eaec052ca
msgid "|postgresql|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_postgresql.rst:5
# fff22e1b10e047eda2515233d7f69367
msgid "|postgresql ctl| is the management tool for |postgresql|. It can be used to obtain information about data stored in |postgresql|. For more information about |postgresql ctl|, see http://www.postgresql.org/docs/manuals/, and then the doc set appropriate for the version of |postgresql| being used."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_postgresql.rst:7
# e2d21c8307564745b64eefdebd65444b
msgid "To connect to the |postgresql| database, run the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_postgresql.rst:15
# 50d239d72cc44c8fa52c2dfbcf4f2cfc
msgid "Connecting to the |postgresql| database should only be done when directed by |company_name| support services."
msgstr ""

#: ../source/runbook.rst:77
# a0f2675bb50a42b99dc394f1d3b64d3b
msgid "|rabbitmq|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_rabbitmq.rst:5
# 0203fbddea804ada9101e820f6e8a097
msgid "|rabbitmq ctl| is the management tool for |rabbitmq|. It can be used to obtain status information and to ensure that message queuing is running properly. For more information about |rabbitmq ctl|, see https://www.rabbitmq.com/man/rabbitmqctl.1.man.html."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_rabbitmq.rst:7
# ae63f2445cd04664b2973432609c70c2
msgid "To obtain status information for message queues, run the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_rabbitmq.rst:15
#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_example.rst:13
# f17f5c19d7b2466aadc9d7ac05b1999d
# 8a96d10042624b2cbcaeb598d865cf15
msgid "to return something similar to:"
msgstr ""

#: ../source/runbook.rst:81
# a8989e5f465a439a9d74b0e8722924e0
msgid "|redis|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_redis.rst:5
# 1bf0f3ac8b164191a08503646beb5970
msgid "|redis cli| is the management tool for |redis|. It can be used to obtain information about keys that are being used with the |chef server|. For more information about |redis cli|, see http://redis.io/commands."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_redis.rst:7
# eaa69ca180b24d659a17594fa3deb540
msgid "To verify that the connection to |redis| is alive, run the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_redis.rst:15
# 5c7c485a8126492aa75c440eabff09da
msgid "to return:"
msgstr ""

#: ../source/runbook.rst:85
# 535c261ca827437897f099894bdbbe1a
msgid "System Checks"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system.rst:4
# 990fb143c3b240ef86c069bcbff4d142
msgid "System-level checks should be done for the following components: ports, services (|service erchef| and |service expander|), and high availability status."
msgstr ""

#: ../source/runbook.rst:89
# 9a4bc156106b438591140fb1da03c78d
msgid "ha-status"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:6
# f5adfd13bae544cab1d7139944b5c4b8
# 8dfb1e364a9144dca220f8a78c47f1cb
msgid "On back-end servers in a |ha| topology, |keepalived| is used by the clustering service to determine whether a service should be running. If the ``status`` subcommand is run against any of these nodes, a few things change:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:8
# 415917029d42466b849c9927da6157e1
# 23c704974967401e80bc8903bab15d90
msgid "On the back-end node that is currently the backup server, it is normal to see only one running process: |keepalived|"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:9
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:9
# 847325c3532d4ec89457656741595570
# 3779cda9ee9a4af8919da5fcc8d48231
msgid "On the back-end node that is currently the master server, it is normal to see all services running. It is also normal to see some services in a down state if the server, on reboot, did not attempt to start the services because |keepalived| determines which services are restarted based on the state of the cluster"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:11
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:11
# 5b1b17c177224697b9b62cd72786ee7d
# 169ede77b46d425192bbb837b54b62a2
msgid "A sample status line for a service that is running on the master server in a |ha| topology:"
msgstr ""

#: ../source/runbook.rst:93
# 37655148f7b54807a78f7a8002444cb6
msgid "opscode-authz"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_authz.rst:5
# a5190a13af164890ac7ef0741c12b79b
msgid "The authz API provides a high-level view of the health of the |service authz| service with a simple endpoint: ``_ping``. This endpoint can be accessed using |curl| and |gnu wget|. For example:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_authz.rst:11
# 1507e17afb3d4046b68dfbdefd523251
msgid "This command typically prints a lot of information. Use |python| to use pretty-print output:"
msgstr ""

#: ../source/runbook.rst:97
#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:11
#: ../source/runbook.rst:327
# ad54b1c77a1b474185ca6039c4c35ef7
# 48670c53c1c94b83a572bc4853c30999
# a4945ee3375d4399b5098755e0671ab6
msgid "opscode-erchef"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:5
# c1f0a5c71bf34fb4be5b98e5caf6bce1
msgid "The status API provides a high-level view of the health of the system with a simple endpoint: ``_status``. This endpoint can be accessed using |curl| and |gnu wget|. For example:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:11
# 551885045bcd4f7d9b6b7edaf6a8f874
msgid "which will return something similar to:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:20
# c8a72bf60b37467c8b988a448573a109
msgid "For each of the upstream services, ``pong`` or ``fail`` is returned. The possible upstream names are:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:22
# d533c01adc0049c2a2f80d6f51e68d5b
msgid "``chef_solr`` (for the |service solr| service)"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:23
# 3b9504168cb444bea17ebf3084b1f2ad
msgid "``chef_sql`` (for the |service postgresql| service)"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:24
# 3dc9602ab403466a90c60e47aa2bdad5
msgid "``oc_chef_authz`` (for the |service authz| service)"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:26
# 236c37de7a6d494b960e894a134c3c8d
msgid "If any of the status values return ``fail``, this typically means the |chef server| is unavailable for that service."
msgstr ""

#: ../source/runbook.rst:101
#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:12
#: ../source/runbook.rst:331
# dc1898607dfa4d04a58f67b266b86e19
# 110278a646174e7fa0db1599236e72a3
# ae5033380c4d42b58a2693718d24d032
msgid "opscode-expander"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander.rst:4
# 004390ea5f2c476c8ad7d95cd042bf75
msgid "As the queue depth increases it may take longer for updates posted to the |chef server| by each |chef client| to be added to the search indexes on the |chef server|. The depth of this queue should be monitored using the following command:"
msgstr ""

#: ../source/runbook.rst:104
# 261a1ff09a0b44c3ae8d9bf66d1e0161
msgid "**Search Indexes**"
msgstr ""

#: ../../includes_search/includes_search.rst:4
# 2cc918f9b2114e54a4615e5c3eb0c637
msgid "Search indexes allow queries to be made for any type of data that is indexed by the |chef server|, including data bags (and data bag items), environments, nodes, and roles. A defined query syntax is used to support search patterns like exact, wildcard, range, and fuzzy. A search is a full-text query that can be done from several locations, including from within a recipe, by using the ``search`` subcommand in |knife|, the ``search`` method in the |dsl recipe|, and by using the ``/search`` or ``/search/INDEX`` endpoints in the |api chef server|. The search engine is based on |apache solr| and is run from the |chef server|."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:5
# 24705aeb8c104b62a594330d36837347
msgid "If the search indexes are not being updated properly, first ensure that the |service expander| service is running on the backend machine:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:11
# 95fae76d785d402cb89810f6c30acacc
msgid "and then (if it is not running), start the service:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:17
# 4282f250e3984f1cb8289dbace152078
msgid "If the |service expander| does not start correctly, then take a look at the ``/var/log/opscode/opscode-expander/current`` log file for error messages."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:19
# d24fa75b44df42539a9bb8c73a6181ec
msgid "If the |service expander| is running, check the queue length:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:25
# c5108b138d6740238c360732250b6456
msgid "If the number of total messages continues to increase, increase the number of workers available to the |service expander| service."
msgstr ""

#: ../source/runbook.rst:110
# 3d9dd17616494f7d90145f6bbfcace40
msgid "**opscode-expanderctl**"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander.rst:5
# f4a8822068b141d89ae11be8ad5262ef
msgid "The |opscode expander ctl| executable can be used to generate status information for the |service expander| service. The |opscode expander ctl| executable is run as a command-line tool from the master backend machine."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:6
# d166066643bc49bfbd98cc8e522eb9ca
msgid "This tool has the following syntax::"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:10
# 5d6b4f10376c4ceaa75d715eaaa4b57c
msgid "This tool has the following options:"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:13
# 82c8000b667c41e3b2a4666a7ed2e371
msgid "``log-level``"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:13
# da99e92a5b1c42e99c7cb810cc8fd019
msgid "Use to show the log level for all nodes in the cluster."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:16
# 0fa78ea34d574481939219fed0104c24
msgid "``node-status``"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:16
# 9311951728e442b1ac6f019ac41499b6
msgid "Use to show the status for all nodes in the cluster."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:19
# 8381ae36a89d482da0f5d1060b3e7343
msgid "``queue-depth``"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:19
# f8a7fbbb254f44beb486ebb3033571f7
msgid "Use to display the aggregate queue backlog."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:23
# 9caeb1ca48ad415ca4f9e96d01328c3d
msgid "``queue-status``"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:22
# b3305a7b7e764a13906b006c7fb7ad52
msgid "Use to show the backlog and consumer counts for each vnode queue."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_example.rst:5
# 0c5ded992a484130a13995c6403f076f
msgid "For example, to view the aggregate queue backlog, enter the following:"
msgstr ""

#: ../source/runbook.rst:119
# b6c02d36a2774e70af58488c5729e47e
msgid "Nodes, Workstations"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_client.rst:5
# 8c34df3a326f47fcb5d9957fd1da4fb4
msgid "If a client makes an HTTP request to the server that returns a non-specific error message, this is typically an issue with the |service chef| or |service erchef| services. View the full error message for these services in their respective log files. The error is most often a stacktrace from the application error. In some cases, the error message will clearly indicate a problem with another service, which can then be investigated further. For non-obvious errors, please contact |company_name| support services."
msgstr ""

#: ../source/runbook.rst:123
# 71bc1f45b7f34fa78f7de0547239d02b
msgid "Disks"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:5
# f145f18f6d4c412bb7bff0fd4aaa1157
msgid "Over time, and with enough data, disks will fill up or exceed the per-disk quotas that may have been set for them and they will not be able to write data. A disk that is not able to write data will not be able to support certain components of the |chef server|, such as |postgresql|, |rabbitmq|, service log files, and deleted file handles. Monitoring disk usage is the best way to ensure that disks don't fill up or exceed their quota."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:7
# 94190aef1a604024a2a6c9c36e88edb4
msgid "The following components should be monitored for signs that disks may be rapidly filling up:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:9
# b52c6bf4b2564aa3a96445c4fc15b237
msgid "**PostgreSQL** |postgresql| is the data store for the |chef server|."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:10
# 27078eca46ef448da2e23be77f32516e
msgid "**RabbitMQ** The |rabbitmq| data folder can fill up if the |service expander| service is not able to keep up with the data being moved into the search database by |rabbitmq|. When the |service expander| service falls behind, |rabbitmq| will start storing the individual messages on-disk while it waits for the |service expander| service to catch up. If the |rabbitmq| disk fills up completely, |rabbitmq| will need to be restarted to free up the disk space and any data that was stored on-disk will be lost."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:11
# ae0136585892489f9b1596d166c690e6
msgid "**Log files** If ``/var/log/opscode`` is taking up a lot of disk space, ensure that the |chef server| log rotation cron job is running without errors. These errors can be found in ``/var/log/messages``, ``/var/log/syslog`` and/or the root user's local mail."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:12
# 6a02ad224cf0439db0e163eba8f8a32b
msgid "**Deleted file handles** Running processes with file handles associated with one (or more) deleted files will prevent the disk space being used by the deleted files from being reclaimed. Use the ``sudo lsof | grep '(deleted)'`` command to find all deleted file handles."
msgstr ""

#: ../source/runbook.rst:132
#: ../source/runbook.rst:247
# 123ed78a603240e79fac54aa11bd2c93
# 705d271ab88b474a91b428b4859ad41e
msgid "Log Files"
msgstr ""

#: ../../includes_server_logs/includes_server_logs.rst:4
# 80a2979b32784eacbb4a8d26fd516c0f
msgid "All logs generated by the |chef server| can be found in ``/var/log/chef-server``. Each service enabled on the system also has a sub-directory in which service-specific logs are located, typically found in ``/var/log/chef-server/service_name``."
msgstr ""

#: ../source/runbook.rst:137
# 0113ca84b7154ccea9ee7b1a2c1a510c
msgid "View Log Files"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_view.rst:4
# 93a2a3133b0c4e1d8c3ec642ff9c3e18
msgid "The |chef server| has built-in support for easily tailing the logs that are generated. To view all the logs being generated on the |chef server|, enter the following command:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_view.rst:10
# 112c33b849e04067880a7a0de47af47b
msgid "To view logs for a specific service:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_view.rst:16
# 4b9dcc593d8e41a8a5b0b9e74d219a92
msgid "where ``SERVICENAME`` should be replaced with name of the service for which log files will be viewed."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_view.rst:18
# 90ffbedceccb4e4bad400fc805f8e022
msgid "Another way to view log files is to use the system utility tail:"
msgstr ""

#: ../source/runbook.rst:141
# 339df59cc14a4cf59b36bd5364ac37e6
msgid "tail Log Files"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:6
# 379cad8681134087b5ef698bb1b7569b
# 5e809d16da8d4f4cae9f2bcbe4874e37
msgid "The ``tail`` subcommand is used to follow all of the |chef server| logs for all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_hup.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_int.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_kill.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_once.rst:10
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_restart.rst:10
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_service_list.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_start.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_term.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_associate_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_delete_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_disassociate_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_show_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_delete_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_edit_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show_syntax.rst:6
# 46859145a30b40009de136043eb0972b
# e9a2809a6988412bb90d7edd3f613acf
# 7eeb5d216acb416fa314b559fb41ae53
# c37febceaac24d65b835997f1ca545a4
# 9a44b391d10341b5890ca8767c8d08d1
# a7007eb30409475dacfda6d0022b958a
# 77ac318c11a24d9695b7ab790ba6db45
# d26505f52a484c62885452cb5a72ce32
# 398f9b21fcba43e4b0c730898a2c3afa
# a817857fb4c440bc9ecdbe66e2b0ae12
# 09c922f56de7445bb8adea2ad9160844
# 59b7019eb57f4b52bde023a3975ecd2e
# 2e34029b4e2a4167af153bdca12c375b
# d173ee9449d440ce9745ffe5c590815f
# 9582228e5fd04877a738ce0a786c06d6
# 7d51333360584aa2ae5209efb9550cb1
# a43f91d17ba946bf94ee42aba58b6a3e
# d73650e3b4514adf903fd99ec2447ef5
# cc1ba06faa834cdea28c8b2b62193f7d
# 41cab231424749889b3107f592023e4f
# c9d25152bd774fb2b3ee1de025cfee73
# aa680bbbeab1471098ff0789cde49bd6
msgid "This subcommand has the following syntax:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_hup.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_int.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_kill.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_once.rst:16
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:18
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_term.rst:14
# fc7fb2435f454972b2e5759b212f3ec5
# 5cc027fa82f143709cc123368146e453
# 9a06a2af87ae4f33bc0cdc22e5df13fd
# 3a54b7f339834953a686c6655403b59a
# 2d9d7620956e4655bb30baf3a95229ee
# d9022e8d489e4b439160a1e11c49b513
# 736b1f1dee2b4df9a8abf645c9f4d547
# 954cd93a0ecc46dd91f39fb94ea3f60c
msgid "where ``name_of_service`` represents the name of any service that is listed after running the ``service-list`` subcommand."
msgstr ""

#: ../../step_server_services/step_server_services_general_tail.rst:4
# a5f2d355b1594804a6c0dec16ad0585a
msgid "Another common approach to tailing the log files for a service is to use the system utility ``tail``. For example:"
msgstr ""

#: ../source/runbook.rst:147
# 7c185035b0dc4828a62773412d376bb6
msgid "Supervisor"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:4
# c87916dea8c3475e82a1311331758801
msgid "Supervisor logs are created and managed directly by the service supervisor, and are automatically rotated when a the current log file reaches 1,000,000 bytes. 10 log files are kept. The latest supervisor log is always located in ``/var/log/chef-server/service_name/current`` and rotated logs have a filename starting with ``@`` followed by a precise ``tai64n`` timestamp based on when the file was rotated."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:6
# 3812a75eea994b1faa783fcfa5e04240
msgid "Supervisor logs are available for the following services:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:8
# 446b8caf11c2495a859ce14aefcff081
msgid "bifrost"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:9
#: ../source/runbook.rst:319
# 465c705d11ec40678d6f5d18ea0ea484
# e0cd1cf2ee184b0e95fb61d32036e437
msgid "bookshelf"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:10
#: ../source/runbook.rst:167
# e571fe59d9964506bcb306c94bc5c6fb
# d076164a3eff45378e42ff3823b4e108
msgid "nginx"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:13
# e8866bc4db5c4f2a9e38ceb540386eab
msgid "opscode-expander-reindexer"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:14
# e012857566cd4767a13ee531e2d8a30f
msgid "opscode-solr4"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:15
#: ../source/runbook.rst:343
# 9a8994c5c9aa4d9d9a6407d2601bab90
# 6514824b1d1e4d62bd10e950cb597aa0
msgid "postgresql"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:16
#: ../source/runbook.rst:347
# bbec6a12c4694d5f85fc3ee160dffd1d
# 07308fc2ca5c410d8c76e31f221406f4
msgid "rabbitmq"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:17
# ccbbf9fefe4d478d838b3342444f9bee
msgid "redis"
msgstr ""

#: ../source/runbook.rst:151
# af6b4b9c41d6442da5715f3790ca35e9
msgid "nginx, access"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:4
# 3aa31f45da3a4374a84319f6235be5c4
msgid "|nginx| is an important entry point for data on the |chef server|, which means that debugging efforts frequently start with analyzing the |service nginx| service's ``access.log`` file. This log contains every HTTP request made to the front-end machine and can be very useful when investigating request rates and usage patterns. The following is an example log entry:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:15
#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:16
# 7bcf33b859684e79a1430dec646eb5c7
# 0fc3d8cde308403fa0a2f3a5829de1d8
msgid "where important fields in this log include:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:17
# 58aa4380054c4ff79f14839a373a9813
msgid "The HTTP status code (``200``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:18
# 5802cb50286c4aeab9fb351e6e8f8880
msgid "The IP address of the requesting client (``175.185.9.6``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:19
# 411a3241d3a64538950935af56bad4b9
msgid "The timestamp (``[12/Jul/2013:15:56:54 +0000]``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:20
# 74c2aa3690ec4eb4be7735ded12e1537
msgid "The total request time (``\"0.850\"``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:21
# cf50645707f048888828d9f856b51d9c
msgid "The request method (``GET``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:22
# 200d7fe186a14c12b2813b688a7f8ab6
msgid "The request URL (``/organizations/exampleorg/data/firewall/nova_api``)"
msgstr ""

#: ../source/runbook.rst:155
# e222946329b24a7495c724332737e6ca
msgid "opscode-erchef, current"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_current.rst:4
# 3f3223d116384bf89369c431e02c5cf0
msgid "The |service erchef| service's ``current.log`` file contains a history of stack traces from major application crashes."
msgstr ""

#: ../source/runbook.rst:159
# 7a858bf1d1dd41ffa4f668c1e3470c43
msgid "opscode-erchef, erchef"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:4
# a7ac8ef43df7455fa9462684b7baa995
msgid "The |service erchef| service's ``erchef.log`` file contains a history of API requests that have been processed by |erchef|. These logs can be rotated quickly, therefore it is generally best to sort them by date, and then find the most recently updated log file:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:10
# 928718912aa649d98a8f82c783d1c7e2
msgid "The following is an example log entry:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:18
# de1c1b08b7ee4a559f615a93dfa67bbf
msgid "The HTTP method (``POST``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:19
# 8e29e3fb68ba4efeafa3ba28f63f71cc
msgid "The HTTP path (``/organizations/srwjedoqqoypgmvafmoi/environments``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:20
# 2fd5c15b00284feab124261e6ca1667f
msgid "The message (``{created,<<”_default”>>}``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:21
# 97ce4c818dd04511b43409d515d92ea8
msgid "The organization name (``org_name=srwjedoqqoypgmvafmoi``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:22
# 6e11558037d44cb98e6116fbc27c5028
msgid "The timestamp (``2013-08-06T08:54:32Z``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:23
# ed15e23dfb3e43468cb88450e1dcb5f6
msgid "The name of the user and/or |chef client| which made the request (``pivotal``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:25
# 8f54b6e0ae3f4ff99f06b97a37a5226c
msgid "In addition, the log file may contain additional entries that detail the amounts of time spent interacting with other services:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:27
# d7e82ed4ecee4d12b2e0302bfba8287e
msgid "``rdbms_time`` (the time spent talking to the |service postgresql| service)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:28
# 1df655dfdaf3483f8dc031ff6455fd3a
msgid "``req_time`` (the request time)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:29
# ca783f21a1e7489d9ead44e983c2ffdd
msgid "``solr_time`` (the time spent talking to the |service solr| service)"
msgstr ""

#: ../source/runbook.rst:163
# d3afd63c5e194db999c892eb0cd5f757
msgid "Application"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_application.rst:4
# 6ebca79d26fb4721be3140e61e961442
msgid "Application logs are created by the services directly, and may require log rotation policies to be applied based on organizational goals and the platform(s) on which the services are running."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:4
# b9faa796093540878793fe851c4f098e
msgid "The ``nginx`` service creates both supervisor and administrator logs. The administrator logs contain both access and error logs for each virtual host utilized by the |chef server|. Each of the following logs require external log rotation."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:10
# 2b6f47f8118243519ba18ad15369a044
msgid "Logs"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:12
# 940718a0ccb64e9bab4240e7f08bf89a
msgid "``/var/log/opscode/nginx/access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:13
# 6d2290b045af4318a4eb8c111607f26a
msgid "The Web UI and API HTTP access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:14
# fab4050d242f445ea3c39b17b12261e6
msgid "``/var/log/opscode/nginx/error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:15
# b8a84e05797b437685e4e9cc2bc7b1b4
msgid "The Web UI and API HTTP error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:16
# d7054d5a952d461b9543a6ab151c5778
msgid "``/var/log/opscode/nginx/internal-account.access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:17
# b20d48ec29974d9f88537777e69dce8f
msgid "The ``opscode-account`` internal load-balancer access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:18
# b263f3561edc4bc783c3ef3d4a409634
msgid "``/var/log/opscode/nginx/internal-account.error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:19
# 37d40852bbfb4a6ca5e2dcfc677676e9
msgid "The ``opscode-account`` internal load-balancer error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:20
# 3d9d6cb6e8ed4f7bbbf94e1d7ad36da0
msgid "``/var/log/opscode/nginx/internal-authz.access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:21
# 328fce875fec4bcb93d87c7850d4d03d
msgid "The ``opscode-authz`` internal load-balancer access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:22
# a28b4d8c4cef48b3b98e9c121823b521
msgid "``/var/log/opscode/nginx/internal-authz.error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:23
# 242ad5c0c2ce407f9104f9c2efc9e99a
msgid "The ``opscode-authz`` internal load-balancer error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:24
# 2309b13541fc4969a71e7eb4c87181b9
msgid "``/var/log/opscode/nginx/internal-chef.access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:25
# c15b3d0bda044697b3e9167e3325e0d7
msgid "The ``opscode-chef`` and ``opscode-erchef`` internal load-balancer access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:26
# 60502cd916084390b615a50b1bbce484
msgid "``/var/log/opscode/nginx/internal-chef.error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:27
# 3416f9d30fc445e08f1a2c193b24074f
msgid "The ``opscode-chef`` and ``opscode-erchef`` internal load-balancer error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:28
# 71fcd2f7b894420c876a36b58ce5c728
msgid "``/var/log/opscode/nginx/nagios.access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:29
# 158b71fadbc043b194796dd48a385fa0
msgid "The ``nagios`` access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:30
# 3208a86695e54219831754ac3131643f
msgid "``/var/log/opscode/nginx/nagios.error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:31
# 74da0898a8ef4baab8b94ef851df08dc
msgid "The ``nagios`` error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:32
# 9f33572de30943f682a2a3e3bb1e04c3
msgid "``/var/log/opscode/nginx/rewrite-port-80.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:33
# 891cbb5ef8d6473baa2e1146247ab2bd
msgid "The rewrite logs for traffic that uses HTTP instead of HTTPS."
msgstr ""

#: ../../step_server_services/step_server_services_nginx_tail.rst:4
# 706574cc2fd8478889c9f3b11b9a7e33
msgid "To follow the logs for the service:"
msgstr ""

#: ../source/runbook.rst:172
# 1baf1f2f31a249e49d0ea3efb5ea7bbb
msgid "**Read Log Files**"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:4
# 74ff402773b9468a9029d5d452adb1e2
msgid "The |service nginx| access log format is as follows:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:15
# 1fb9c1b8262b4e5da328477c689f695e
msgid "A sample log line:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:31
# 5355f42689cc49ec95ff1445f8fce6d3
msgid "Field descriptions:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:37
# 9feb3a7476814dc9890207bc440b9719
msgid "Field"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:39
# f4d5f0eab5f44f09914e271d6644c165
msgid "``$remote_addr``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:40
# adfe035d60eb47f5af5bef7c8d97fc89
msgid "The IP address of the client who made this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:41
# d633507a369143c3a08b74b848ac82b9
msgid "``$remote_user``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:42
# 4e3a56b3da5f454fbf0b2df37da2adae
msgid "The HTTP basic auth user name of this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:43
# 3aabcf7604474bb9a33fc10e822a5a4c
msgid "``$time_local``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:44
# 0efd27c352b14cc49730fbbd9c8553b3
msgid "The local time of the request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:45
# 8f0315b346644db890f75444ea355671
msgid "``$request``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:46
# edd52edccb0247058785719f05c5bcb1
msgid "The HTTP request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:47
# ae88efa3a5e547f181b362ad4bd0bace
msgid "``$status``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:48
# bf650f375dc145fe8b96b94edc0ab673
msgid "The HTTP status code."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:49
# 16d01777f99b445c8610a9a37c73359b
msgid "``$request_time``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:50
# 3c73a7cdf2b74ea3934d425cf633442f
msgid "The time it took to service the request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:51
# e9f10def501244a5ab79d601e6a98866
msgid "``$body_bytes_sent``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:52
# c2c6058b4e0a4555ba0ec8da47ba598a
msgid "The number of bytes in the HTTP response body."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:53
# 4b0e976ab5dd48868b6a94ac8758f52f
msgid "``$http_referrer``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:54
# 44fbda1592854a67956134668cfc2d99
msgid "The HTTP referrer."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:55
# 7a546d5b4d204282925e3e15876e172f
msgid "``$http_user_agent``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:56
# dc315854ffd547ff84dafbec9b593c55
msgid "The user agent of the requesting client."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:57
# 0104557490b04383b361fb8f6e241c86
msgid "``$upstream_addr``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:58
# 48f1c44b2e4e455ca3b37c25ee7e2f6f
msgid "The upstream reverse proxy used to service this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:59
# ae3e855d4cb84c2384deb66422c937da
msgid "``$upstream_status``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:60
# b68bad89dceb434d8266deab6f32145c
msgid "The upstream reverse proxy response status code."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:61
# d41ec07f508a40d1953070c0115d26cc
msgid "``$upstream_response_time``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:62
# 46dd18b5ff934bd696f993b247322c42
msgid "The upstream reverse proxy response time."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:63
# 03e060c7e83443488df97d002516894b
msgid "``$http_x_chef_version``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:64
# a8d320d6a3db43808bbafe52401c306a
msgid "The version of |chef| used to make this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:65
# 5e7987e04d884e3fae95c2eb6f22c6fe
msgid "``$http_x_ops_sign``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:66
# f8ad369efc8c419a802593a5e8cbf0d1
msgid "The version of the authentication protocol."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:67
# 8c0ffaf630454540b1ff7c29ee046c67
msgid "``$http_x_ops_userid``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:68
# 464f84c07d39452987a03e57dd97fc7e
msgid "The client name that was used to sign this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:69
# 4fe6201abd704dc5abf7968239b071a8
msgid "``$http_x_ops_timestamp``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:70
# 5f2ae2599bed43d2ab16b9037a5cef01
msgid "The timestamp from when this request was signed."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:71
# 3e112db26ab34473aa6cd7a6b4da5dcb
msgid "``$http_x_ops_content_hash``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:72
# 3b5a324bffc047e7846cbee0a91a2442
msgid "The hash of the contents of this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:73
# b874e43ac92d445dbd92b540836dad6a
msgid "``$request_length``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:74
# 76d12774c8fc474c8c405af44377e3bb
msgid "The length of this request."
msgstr ""

#: ../source/runbook.rst:183
# a1476b7841994468b9d46d232fcf2cb2
msgid "Firewalls and Ports"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports.rst:4
# f8b116bc610e4114ae6afdc26eed5fb4
msgid "All of the ports used by the |chef server| are TCP ports. Refer to the operating system's manual or site systems administrators for instructions on how to enable changes to ports, if necessary."
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_listening.rst:5
# 76c4e4a297b64709bfcb2f96442f2b23
msgid "All services must be listening on the appropriate ports. Most monitoring systems provide a means of testing whether a given port is accepting connections and service-specific tools may also be available. In addition, the generic system tool |telnet| can also be used to initiate the connection:"
msgstr ""

#: ../source/runbook.rst:190
# 7b3e8048df2f4b1d93bf02e938f99c06
msgid "Standalone"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:4
# c63f8fd91c1c42ca9c5759d4a7dd5810
msgid "For a standalone |chef server| installation, and if host-based firewalls (iptables, ufw, etc.) are being used, ensure that the following ports are open:"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:10
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:10
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:10
# be74a4923bbc4f8a8783816d8ac3869d
# a14411b484634afbb875d67130b5a31e
# 3652ba66d67447658887c1535fbeab88
msgid "Port"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:11
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:11
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:11
# a567d1d0bb7744c08f02a3b610dadaf3
# bd533294107e4363b3aa48800caeb541
# f7e23ac6bc564812bbd7e1c8ccecfd65
msgid "Service"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:12
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:12
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:12
# af5b753877b44eecb62b0118d6860e77
# 31b9372ef78c40c483c84aa13d816fa7
# 988911bf8671428da1a41f2e2d109b5d
msgid "External"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:13
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:13
# ad01d47b935d41afbe29bf9ed3e6c0a9
# 14f790d8757c4136b2004e78c0308d40
msgid "80"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:14
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:17
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:14
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:17
# bdc1021c8198435c8080cc2860990fa2
# b1955e1f87604a5096dad3af0c965e78
# c794a800fd214ecc9f750478c8f7a522
# 608230bcadc74edfac92d56e585802d9
msgid "|service nginx|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:15
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:18
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:15
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:18
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:15
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:18
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:21
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:24
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:27
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:30
# 0b2b44469ed14583af1e48cc632431a5
# f6632fc58e4e44d98fb92e85f7632b69
# c2fe470c2461492aadddeaf260d58a79
# a2d63b4b608a4a51a15a30b31b145ea7
# 7c16aa42c1d7499e9f3ec645d7d166d3
# 387cbba4986949e3a8d6ee3ccccab063
# 06b45bd190724e6c9f3e0b3627f69056
# 6db8960e8fda471a86472329bbc70b8f
# d5cde64f81b74170b6560d1f55adf0f5
# 79c823030ed746a8bbbd4ba28d00bd98
msgid "yes"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:16
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:16
# 1b9cc7767882437d9209fba56139e6fb
# 000aa8a25fd340948003c77f86f3d9fa
msgid "443"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:19
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:19
# 2286206438a04d5fb6c877103fd84c97
# eb1872c2d30640cc8ecc0d5163fc2eb1
msgid "8000"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:20
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:20
# 62a2c7cac6d2411a96574f00fef96e5d
# 868ee1af8b2c4a8a9cfee3abbaa66bab
msgid "|service erchef|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:21
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:24
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:27
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:30
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:33
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:36
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:39
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:42
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:45
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:48
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:51
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:54
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:57
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:60
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:63
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:66
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:21
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:24
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:27
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:30
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:33
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:36
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:39
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:42
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:45
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:33
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:36
# 3cf9680de3dc495692c650f693e8a433
# 51cf52e13e7d4ac7979269be22b2ad82
# c3fd26e719aa407189e025c4bac549c6
# 405ea124ec264eae836efdbf9d3de8cb
# 85733416250a4089b4e31a9071df81a0
# 06964d4962f643e4b818ce2727c7fc0e
# f33d8ba2996c4f3d855c1eb747b1c12b
# e8ea3c286c144ec3b991c548ecc4ae15
# 8f9e12866f904d9fa97b1ad43a7873b6
# 4c4ec20fd0e44fab975e47024c266890
# a08b5cf0ae414d2c88481f6490bebc0d
# 1b28049b002548ed980f28ab01bb20e8
# 0423c44e0f214435915dd9ddb6ede5f5
# 8687de4edfeb41efb358e7664290011f
# fb33724b52ba4ff0b537b41a47b80ea5
# 5057a335260742a1a6b2002b8bb6e517
# d436d9cb10a04932855bd1480b070617
# 269d57a83ba54991b802d78d2dbfab57
# df7d4211b29145d0b9115a0239d08af2
# 50d98bfda431474b84d6294305f71172
# 21c85a08bd6c40a9bc172f6d2c4330de
# fb741427988249f8826b7dfd1132feef
# 0aed00e2fd804110a389f2d0c846c4f9
# f3b76d502bc74c938ae364027eb014f8
# cb40e9cf332d4107a6aa95e5e13bacad
# 2bc3a5ba926241f593a93ca9527d87ba
# cb7783a7c651437eb099374f20589b3b
msgid "no"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:22
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:22
# 95f130c59e0d4cdc98cef6756e60887e
# 4c179d95b6a047cfb3412af6179da748
msgid "5140"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:23
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:23
# 8b7b5d6bb8f34441b85037dff967a44d
# 646658c791014bf7bed21d6afba241ad
msgid "|service certificate|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:25
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:31
# 522abe7eb62847e99f9d39472ab5ee08
# 1d4efb97934647dfb4454d4a8628ae62
msgid "4369"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:26
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:32
# b2675b921c3b4ae981be84c07198b80e
# 8e31b91d2c5b41b0a63ca125be8fc11e
msgid "|service orgcreator|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:28
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:25
# 517ce7c9df904f8fbe3ac08f04f9b742
# 5f58bed35a7f44ffbb55e022f8a14382
msgid "9462"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:29
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:26
# 0c04de53647a4d65bd1177376c032a0d
# f7e5b10aab334c46bbaca9b0045e7d2e
msgid "|service webui|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:31
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:28
# 624f1ff9bc9f4727b6124fa558e7d93d
# acee0e4ad1624dfc85826fc870400be7
msgid "9090"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:32
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:29
# 40f8a43fa75b40f2b9074bbf120a45d5
# 026966dc8dcb4304b4c2efb583510456
msgid "|service ocid|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:34
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:31
# d7a66ea2aa704e728a491bec652fbe1b
# aae2a82f60b040fe81b8d69ffdcc920c
msgid "9465"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:35
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:32
# 71e2d54006df4431bb70aec98d1aa9d0
# f4f3380856bc480b8d0dd99165a0e36c
msgid "|service account|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:37
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:34
# 5056759004c042f5b5e16d3004cfa0f8
# f58bf124fd5443fc804f75d4a2b35878
msgid "9463"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:38
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:35
# dfdf733bb26541b78c7212ea901c1f34
# dad5b0a030f241cb9c7c846e8ea7b444
msgid "|service bifrost|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:40
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:37
# 267658835413475ca83651f6abd5394a
# c5cb078241bd420f95fa8c726ff7307f
msgid "9680"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:41
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:38
# 381b97e343f64e2f9cafa35c268a8c2e
# 1441158ffba44a40893760a7699fabbe
msgid "|api chef server| internal LB port"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:43
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:40
# ff6c0e0f54b2426983edc3442bec07f4
# 823487ed97db4777be13e19f200bfe06
msgid "9685"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:44
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:41
# 8ed1f889d97644c9ab86b22f5ab1f064
# eef4d539f1c6448996225a85e4dd47b7
msgid "|service account| internal LB port"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:46
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:43
# 530f83090b5a4d108826f8392e0c7d4a
# a64cd747a93c41329c33d8ff320579fe
msgid "9683"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:47
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:44
# 1cd4dee0c7dc4eefb9e29f94779d0432
# 4fd20395521f459496447456020c2c2b
msgid "|service bifrost| internal LB port"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:49
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:13
# 2f2b3e3f35ad4988832710e72382f7b4
# f805f59bc40841c4a0b1251f11c6d8f1
msgid "5984"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:50
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:14
# 513cbf45ac8541949b39efe89c18f733
# b67cc523abb8485ebb2a5eb75e34760a
msgid "|service couchdb|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:52
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:16
# e3277163afd94d939c7798a1abf5a340
# d054474c1b664409994dd4654d9a8c05
msgid "8983"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:53
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:17
# 58f0655d1d324455aec7f39563f299a6
# 679118b10a0e4108b6b6a697404bc3ac
msgid "|service solr|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:55
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:19
# 76f779cadd2e4828aed8677e197b8fe7
# 6c55b1cc3ab64303ae4c1598a8fd31f9
msgid "5432"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:56
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:20
# 26f6850045934451bcc0462388ac8047
# f0d2a29009434012a8635a7f62f07654
msgid "|service postgresql|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:58
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:22
# 82d3f0509d7444e7a86b8a67a0cbe34b
# ada3d182d41a42f8b726817ffed72106
msgid "5672"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:59
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:23
# 72babdb12d194a09be2408fc6b82f329
# 0b974bc587e545d59e13a12168375f5a
msgid "|service rabbitmq|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:61
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:25
# 521490f8fc254060965e9a769ad60b3f
# 3719aaec5e2949e09152a0d0e2c856c4
msgid "16379"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:62
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:26
# 24969138dcc24aafaa7342dc59925eda
# 093d33d731d94069a7b6bb572fd750d8
msgid "|service redis_lb|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:64
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:28
# 44fe5919ab8e4d31b0cabe4a4701d6c8
# 5c3aa27f3a134c33bbc6077dd692636e
msgid "4321"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:65
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:29
# 90058ac35e10471cbb70f96e6be28bef
# 602f4361719a4ddb8da88f6cacf27c78
msgid "|service bookshelf|"
msgstr ""

#: ../source/runbook.rst:194
# 41d8353126ec4362919e69d86cd6b501
msgid "Front End"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:4
# fc481447e5e94a6ca75c5603e83f9b6b
msgid "For front-end servers in an |chef server| installation:"
msgstr ""

#: ../source/runbook.rst:198
# b2e546a6080542b18798f6bd1d157c68
msgid "Back End"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:4
# cc68727869124c73b1ae4fbafd9316de
msgid "For back-end servers in an |chef server| installation:"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:34
# fc92ee223b5f4803a9bcb0f4d042579f
msgid "7788-7799"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:35
# 79269ba299ad4dfb9c46c627ba12a507
msgid "|drbd| This port range must be open between all back end servers."
msgstr ""

#: ../source/runbook.rst:207
# b9613697b32e4da09b3b17d41171eb0f
msgid "Services"
msgstr ""

#: ../source/runbook.rst:208
# 1b6a0c8693014c509973fe0867566a97
msgid "The following subcommands are built into the |chef server ctl| command line tool."
msgstr ""

#: ../source/runbook.rst:211
# 4da2857b42614b3d838abaec5c488cee
msgid "hup"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_hup.rst:6
# ce4ce8459bc94f7297bce76bab382d67
msgid "The ``hup`` subcommand is used to send a ``SIGHUP`` to all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:215
# 4fd5100f84dc4e038466466147a1e310
msgid "int"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_int.rst:6
# ca2faad801f84965873e453b24e3b032
msgid "The ``int`` subcommand is used to send a ``SIGINT`` to all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:219
# cf295a10898f4998a5ccfb407aa8359a
msgid "kill"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_kill.rst:6
# 1fe34875ea284c38acd4df10183d4571
msgid "The ``kill`` subcommand is used to send a ``SIGKILL`` to all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:223
# 630368fab4804c5fa472c34db2b766f2
msgid "once"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_once.rst:6
# 3f921f59e2a249f2b89b2cfb79d40936
msgid "The supervisor for the |chef server| is configured to restart any service that fails, unless that service has been asked to change its state. The ``once`` subcommand is used to tell the supervisor to not attempt to restart any service that fails."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_once.rst:8
# 29f15d09956f463db1fbe65d11949b04
msgid "This command is useful when troubleshooting configuration errors that prevent a service from starting. Run the ``once`` subcommand followed by the ``status`` subcommand to look for services in a down state and/or to identify which services are in trouble. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:227
# 2f30b794567c4c8fa61cc063ef800ec7
msgid "restart"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_restart.rst:6
# 2b1b560dac334729956e521dc202ffdb
msgid "The ``restart`` subcommand is used to restart all services enabled on the |chef server| or to restart an individual service by specifying the name of that service in the command."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_restart.rst:8
# d0d96de79606465d9d5598a93d2892dc
msgid "When running the |chef server| in a high availability configuration, restarting all services may trigger failover."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_restart.rst:16
# 4e9cf002c1e54ae88285e0029ef45da6
msgid "where ``name_of_service`` represents the name of any service that is listed after running the ``service-list`` subcommand. When a service is successfully restarted the output should be similar to:"
msgstr ""

#: ../source/runbook.rst:231
# c670cf70170440df9c61b000f4ebd803
msgid "service-list"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_service_list.rst:6
# 693e74332e6749f6a1f4a35218c3664f
msgid "The ``service-list`` subcommand is used to display a list of all available services. A service that is enabled is labeled with an asterisk (*)."
msgstr ""

#: ../source/runbook.rst:235
# 737a9bb759d444be954f4e4533626dcb
msgid "start"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_start.rst:6
# 4ee20b41d5a84e739ac9b73abd39b604
msgid "The ``start`` subcommand is used to start all services that are enabled in the |chef server|. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_start.rst:14
# ca025ee416454361ad141e2bcd8bfa43
msgid "where ``name_of_service`` represents the name of any service that is listed after running the ``service-list`` subcommand. When a service is successfully started the output should be similar to:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_start.rst:20
# c53ed1a787c14fc88fb82ffbc494d121
msgid "The supervisor for the |chef server| is configured to wait seven seconds for a service to respond to a command from the supervisor. If you see output that references a timeout, it means that a signal has been sent to the process, but that the process has yet to actually comply. In general, processes that have timed out are not a big concern, unless they are failing to respond to the signals at all. If a process is not responding, use a command like the ``kill`` subcommand to stop the process, investigate the cause (if required), and then use the ``start`` subcommand to re-enable it."
msgstr ""

#: ../source/runbook.rst:239
# 9e235ffdd4d047b5a709c0c82298232a
msgid "status"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:6
# 79d8eda95b554ac081ea91be3c80c372
msgid "The ``status`` subcommand is used to show the status of all services available to the |chef server|. The results will vary based on the configuration of a given server. This subcommand has the following syntax:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:12
# 070966c681ea457485bad0a201001814
msgid "and will return the status for all services. Status can be returned for individual services by specifying the name of the service as part of the command:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:20
# 305a40b0377e460fb031e77c54b6c688
msgid "When service status is requested, the output should be similar to:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:26
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:25
# 84c6291d164044148b78e3567b0c87f4
# 169548390afd406bbe915c29d71a3672
msgid "where"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:28
# a4ed92216dd144398438e2fa49bf6df1
msgid "``run:`` is the state of the service (``run:`` or ``down:``)"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:29
# 74e0499028b74e419fc611446586e873
msgid "``service_name:`` is the name of the service for which status is returned"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:30
# b981832218b644c78a511128891639bb
msgid "``(pid 12345)`` is the process identifier"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:31
# a72037a756bc424dbd4017eb7f69a508
msgid "``12345s`` is the uptime of the service, in seconds"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:33
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:20
# 60e786ce93814b7eb6807b6c8a251347
# fa6a80b085a443e7a07dce381ecd352b
msgid "For example:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:39
# a2eb84bc99814377b964428c1c2cfa0d
msgid "By default, |runit| will restart services automatically when the services fail. Therefore, |runit| may report the status of a service as ``run:`` even when there is an issue with that service. When investigating why a particular service is not running as it should be, look for the services with the shortest uptimes. For example, the list below indicates that the |service erchef| should be investigated further:"
msgstr ""

#: ../source/runbook.rst:243
#: ../source/runbook.rst:358
# b120eeed7ed148d18c87ec737eecbc7d
# 6903b04e4da9415daff69153bcb3e677
msgid "High Availability"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:6
# f0496a3b8ca14bdb83a662248d9582d8
msgid "A typical status line for a service that is running any of the |chef server| front-end services is similar to the following:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:12
# 859afb6e182c4c878924828307cc4909
msgid "where:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:14
# 0dbbe4e27ace4df1a3f7ee1ce503cd1c
msgid "``run`` describes the state in which the supervisor attempts to keep processes. This state is either ``run`` or ``down``. If a service is in a ``down`` state, it should be stopped"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:15
# 0d338eb337244ac9897e5983814ad525
msgid "``name_of_service`` is the service name, for example: ``opscode-solr4``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:16
# 4796e6886ccc4e82a36e9b62d94bef86
msgid "``(pid 1486) 7819s;`` is the process identifier followed by the amount of time (in seconds) the service has been running"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:17
# e49d4bd801594c028b199c90d7ed1d31
msgid "``run: log: (pid 1485) 7819s`` is the log process. It is typical for a log process to have a longer run time than a service; this is because the supervisor does not need to restart the log process in order to connect the supervised process"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:19
# 81cc68b204744652a3147a88740dac33
msgid "If the service is down, the status line will appear similar to the following:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:27
# 2df17430ad214c7881a76d4e127dc5c4
msgid "``down`` indicates that the service is in a down state"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:28
# d94cde00ae84496aa78d8d10a55dab48
msgid "``3s, normally up;`` indicates that the service is normally in a run state and that the supervisor would attempt to restart this service after a reboot"
msgstr ""

#: ../source/runbook.rst:251
# c30ef6dede1746889717457db4d50194
msgid "stop"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:6
# a85d361b80d542b18c7dcdaf2bf51c5c
msgid "The ``stop`` subcommand is used to stop all services enabled on the |chef server|. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:14
# 59e70ad3d3164a6783e596eb40bbd578
msgid "where ``name_of_service`` represents the name of any service that is listed after running the ``service-list`` subcommand. When a service is successfully stopped the output should be similar to:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:26
# 0e4a913a245043ca99cbe0d44b5072b8
msgid "will return something similar to:"
msgstr ""

#: ../source/runbook.rst:255
# 2bd053c6b3c446f4b6b3c33ce68e161c
msgid "tail"
msgstr ""

#: ../source/runbook.rst:259
# 682f729558f94d2f99eeb2b080ff1b0a
msgid "term"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_term.rst:6
# 28afd33f5dff4a3b952139baa0c13972
msgid "The ``term`` subcommand is used to send a ``SIGTERM`` to all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:263
# ce3dffcf446541d3be58cbc82ff7e4b3
msgid "SSL Configuration"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:4
# 41360c8a6f8b42709ec0173bdb7a4f5b
msgid "Configuration of |ssl| for the |chef server| using certificate authority-verified certificates is done by placing the certificate and private key file obtained from the certifying authority in the correct files after the initial configuration of |chef server|."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:6
# 109a5c60d1f240ddae2a9f7c6f81acb1
msgid "Initial configuration of the |chef server| is done automatically using a self-signed certificate to create the certificate and private key files for |nginx|."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:8
# ab5d61ba1641436aaa4e89c1a0dbe6f8
msgid "The locations of the certificate and private key files are"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:10
# 313706c858bd4486bea821030efeb10b
msgid "``/var/opt/opscode/nginx/ca/FQDN.cert``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:11
# 5a013debf90045d5853470a8f71cd2b5
msgid "``/var/opt/opscode/nginx/ca/FQDN.pem``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:13
# 442804578c124eb48fa0d9fefa136f67
msgid "As the |fqdn| will have already been configured previously, simply replace the contents of these two files with the certifying authority's files."
msgstr ""

#: ../source/runbook.rst:267
# 093c6b8a9c21483d967d1d0a12a8268f
msgid "The |fqdn| for the |chef server| should not exceed 64 characters when using |open ssl|. |open ssl| requires the ``CN`` in a certificate to be no longer than 64 characters."
msgstr ""

#: ../source/runbook.rst:269
# ddf53b65d19c45c9adb390d30b8a6d2e
msgid "By default, the |chef server| uses the |fqdn| to determine the common name (``CN``). If the |fqdn| of the |chef server| is longer than 64 characters, the ``reconfigure`` command will not fail, but an empty certificate file will be created. |nginx| will not start if a certificate file is empty."
msgstr ""

#: ../source/runbook.rst:272
# b2e04521edf1472d88a552439e2e334c
msgid "SSL Certificates"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:4
# 0bc2402aa07f4198a498ff6f6345e2d7
msgid "The |chef server| can be configured to use |ssl| certificates by adding the following settings to the server configuration file:"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:10
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:10
#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:10
#: ../../includes_server_tuning/includes_server_tuning_general.rst:10
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:10
#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:10
#: ../../includes_server_tuning/includes_server_tuning_chef.rst:10
#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:10
#: ../../includes_server_tuning/includes_server_tuning_expander.rst:10
#: ../../includes_server_tuning/includes_server_tuning_solr.rst:10
#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:14
#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:10
#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:10
# aeab55e2a4da4f7f8cbef70f8ee9b304
# 7ce46da72dfb458d8bf34a1a302f2485
# d5c14a9fa6a244329ca186df193a7934
# 003e64a993d4402eaba7518fe089d489
# 34bf616589c54428becc1bc6fdb1dacf
# 011525dd2f4c467692c187db62473f38
# f412b2d82cec454eb90d46547e6e2a4b
# 9fcb85bb381342a7a31748dd571c6bde
# 8ea575434eda4fb0afcc7ce6d20fe6bb
# 4d7301e668fe4f79b48869889bf3c74e
# 55dff0dac4314009af756d1d26dcc169
# 549925e9d5a1429fa242c34d3941483f
# 2c91adbc8459427c97f6549a0f59a409
msgid "Setting"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:12
# 14734709868144a2974c9667623dffe0
msgid "``nginx['ssl_certificate']``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:13
# df61b3d73d48402da7512b9b3d5ced16
msgid "|ssl_certificate|"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:14
# 99db321b8d4f4d7b9df7f72e8305f65d
msgid "``nginx['ssl_certificate_key']``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:15
# a27dc5e9d80b424e8d335335a0f2774c
msgid "|ssl_certificate key|"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:17
# 538d9d3513824d5097923d5b93945e79
msgid "and then setting their values to define the paths to the certificate and key."
msgstr ""

#: ../source/runbook.rst:276
# e8b9e807d9b94a5bb879883bd6e7921e
msgid "Regenerate Certificates"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:4
# ab25520c4a914a93840f4cdced864b89
msgid "|ssl| certificates should be regenerated periodically. This is an important part of protecting the |chef server| from vulnerabilities and helps to prevent the information stored on the |chef server| from being compromised."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:6
# aa43c933cfd84ccabcca11838c384125
msgid "To regenerate |ssl| certificates:"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:8
#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:30
# 0803a3da814049739d4adebea0ac8b1b
# 07f3287bcbc1484dae00ab1e1b755d6e
msgid "Run the following command:"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:14
# f28fceace52d4e00b791d05f1f5e404b
msgid "The |chef server| can regenerate them. These certificates will be located in ``/var/opt/opscode/nginx/ca/`` and will be named after the |fqdn| for the |chef server|. To determine the |fqdn| for the server, run the following command:"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:20
# d481446755ad45f897fdf04bd34fed6f
msgid "Please delete the files found in the ca directory with names like this ``$FQDN.crt`` and ``$FQDN.key``."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:22
# a95ac1a7ba354e6bb6e76f5784676d25
msgid "If your organization has provided custom |ssl| certificates to the |chef server|, they are located in ``/etc/opscode/chef-server.rb`` as values for the ``nginx[‘ssl_certificate’]`` and ``nginx[‘ssl_certificate_key’]`` settings. Delete these files and regenerate new keys using the same authority."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:24
# 036dd40eb6b64750b663adb5aaa0c0d6
msgid "Run the following command, |chef server|-generated |ssl| certificates will automatically be created if necessary:"
msgstr ""

#: ../source/runbook.rst:280
#: ../source/runbook.rst:309
# 98b77980366a414eab7e6931ff15b71b
# edf7c0b87f3f48e08422a58bfade6a25
msgid "SSL Protocols"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:4
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:4
# 51e2bff3b56d44c99edf23083394c317
# 79d9a6bd01b34da7a6e4bbdc4bf6d321
msgid "The following settings are often modified from the default as part of the tuning effort for the |service nginx| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:12
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:12
# fb38d94182ef4defb3b48ef2b60be2ca
# 27de65e6bdce408b99b8657b774fbd53
msgid "``nginx['ssl_ciphers']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:13
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:13
# a6f55f1efa344048a1abc0d7625ee977
# cc9f433161b84173b60fdf5661bdc45d
msgid "|ssl_ciphers| To favor AES256 with ECDHE forward security, drop the ``RC4-SHA:RC4-MD5:RC4:RSA`` prefix. For example:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:19
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:19
# 4beb3daa404a4db2bb1d112d80092e2f
# 90d445fb97384579af6836f48ba11f83
msgid "``nginx['ssl_protocols']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:20
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:20
# 38d62342842f4fbe8b720e7f87d414a1
# 9d27f0d32a2c486ba7f7af040a9da21f
msgid "|version protocols_ssl| |ssl| 3.0 is supported by the |chef server|; however, |ssl| 3.0 is an obsolete and insecure protocol. Transport Layer Security (TLS)---TLS 1.0, TLS 1.1, and TLS 1.2---has effectively replaced |ssl| 3.0, which provides for authenticated version negotiation between the |chef client| and |chef server|, which ensures the latest version of the TLS protocol is used. For the highest possible security, it is recommended to disable |ssl| 3.0 and allow all versions of the TLS protocol.  For example:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:26
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:26
# cfb1fd4e5c804770a5a1100dfa04a41e
# 6cf8f7731fab488d9f31325c308e73a2
msgid "See https://wiki.mozilla.org/Security/Server_Side_TLS#Recommended_Ciphersuite for more information about the values used with these settings."
msgstr ""

#: ../source/runbook.rst:284
# c7b58b5de3cf469e91a6ab041ae5e40c
msgid "|chef client| Settings"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:4
# 698f3f1fc46f4d4394fcf79f7c0a0df9
msgid "The |client rb| file has the following settings for configuring |ssl| for |chef client| interation with the |chef server|:"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:12
# b3d3a780c12f4a64bb31e9eec597bc86
msgid "``ssl_ca_file``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:13
# e8deb129b82c4e49afff9624d1de9159
msgid "|ssl_ca_file|"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:14
# e74e04a1b327457bbcbbba0a2cea7359
msgid "``ssl_ca_path``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:15
# 2bd3dcbc9cec4a848f44c26083c3b0ac
msgid "|ssl_ca_path|"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:16
# c6c12b427e9f465fbaf099ee30507a0c
msgid "``ssl_client_cert``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:17
# 85a5284cf5da4969948bef95ff0089a6
msgid "|ssl_client_cert| Default value: ``nil``."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:18
# 3d5b972540cd4cf6b1d298563b378393
msgid "``ssl_client_key``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:19
# b0ce801a50904fa38cc4b1418a59a6cd
msgid "|ssl_client_key| Default value: ``nil``."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:20
# 3fa922396f10494bb7d742f4bf6e3daa
msgid "``ssl_verify_mode``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:21
# a737b6291a9340f884ca7f7247b9925a
msgid "|ssl_verify_mode|"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:23
# 664711f5f1d247f98224471d3905456d
msgid "|ssl_verify_mode_verify_none|"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:24
# fe3881e655d54c03bd2f1b619ef669b9
msgid "|ssl_verify_mode_verify_peer| This is the recommended setting."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:26
# 01d5d2aaac3e4c9f9b06588069f23d16
msgid "Depending on how |open ssl| is configured, the ``ssl_ca_path`` may need to be specified."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:27
# 5d1f5780cc254264a1dc01f04beec9d3
msgid "``verify_api_cert``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:28
# e3c20c865cd54f84ae9700bec6dac9f0
msgid "|ssl_verify_mode_verify_api_cert| Default value: ``false``."
msgstr ""

#: ../source/runbook.rst:288
# 8992fa3dd30f43289c017cd3693a8c7c
msgid "Server Tuning"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning.rst:4
# acbd800c49a04f3a8056ce1bf545c909
msgid "The server configuration file contains a list of all the configuration options available for the |chef server|. Some of these values should be modified for large-scale installations."
msgstr ""

#: ../source/runbook.rst:292
# f382950741274e4e9476d8d2efeb9655
msgid "|note enterprise_chef_tuning|"
msgstr ""

#: ../source/runbook.rst:296
# 8e146bce02f64079ae536470f403e45c
msgid "Customize the Config File"
msgstr ""

#: ../../includes_config/includes_config_rb_server.rst:4
# 49d6654a050442719e51efd3766b8533
msgid "The |chef server rb| file contains all of the non-default configuration settings used by the |chef server|. (The default settings are built-in to the |chef server| configuration and should only be added to the |chef server rb| file to apply non-default values.) These configuration settings are processed when the ``chef-server-ctl reconfigure`` command is run, such as immediately after setting up the |chef server| or after making a change to the underlying configuration settings after the server has been deployed. The |chef server rb| file is a |ruby| file, which means that conditional statements can be used in the configuration file."
msgstr ""

#: ../source/runbook.rst:300
# 561b998a5c0c49349a4ee53cbfdf6721
msgid "Use Conditions"
msgstr ""

#: ../../step_config/step_config_add_condition.rst:4
# 1f825a2a711d46aea878346cd210ad4e
msgid "Use a ``case`` statement to apply different values based on whether the setting exists on the front-end or back-end servers. Add code to the server configuration file similar to the following:"
msgstr ""

#: ../source/runbook.rst:305
# 4b636c06e5a94172b3ac50432b9a9732
msgid "Recommended Settings"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:4
# cfc536ed473c40c6b8f1c027045c8484
msgid "The following settings are typically added to the server configuration file:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:12
# 923f9d24ea0747418a5b7527ca937181
msgid "``api_fqdn``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:13
# 2e1568150d584291be0769bb112f601f
msgid "The |fqdn| for the |chef server|. This setting is not in the server configuration file by default. When added, its value should be equal to the |fqdn| for the service URI used by the |chef server|. Then configure the same value for the ``bookshelf['vip']`` setting prior to installing the |chef server|. For example: ``api_fqdn \"chef.example.com\"``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:14
#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:12
# 53d4ba96d75049a88b09e3fb2d1025a0
# 9d84d220ae8a4350a32bb39b550dd5eb
msgid "``bookshelf['vip']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:15
# 278cb797e36e44f79d41477b17e19040
msgid "|ip_address virtual| Default value: ``node['fqdn']``. (This setting is related to the |service bookshelf| service.)"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:16
# 757129e8152d444b9c104463f97dbf88
msgid "``bootstrap``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:17
# 1d67655f17de496783f25cf2cfbc0f18
msgid "Default value: ``true``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:18
# f99b422b93ce46169c3b7e890e579272
msgid "``ip_version``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:19
# da6be606fdd54317bc5b234bbf7c4bec
msgid "Use to set the IP version: ``\"ipv4\"`` or ``\"ipv6\"``. When set to ``\"ipv6\"``, the API listens on IPv6 and front end and back end services communicate via IPv6 when a high availability configuration is used. When configuring for IPv6 in a high availability configuration, be sure to set the netmask on the IPv6 ``backend_vip`` attribute. Default value: ``\"ipv4\"``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:20
# b4a17f09982d4c6683955164e8aa1d80
msgid "``notification_email``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:21
# 525e0239902747a6a9f48f535e504d52
msgid "Default value: ``info@example.com``."
msgstr ""

#: ../source/runbook.rst:313
# dfc5988c230345f58ac7429fadf2261b
msgid "Optional Settings"
msgstr ""

#: ../source/runbook.rst:314
# 0d22cf3e2359496fa86ca83c2f975044
msgid "The following settings are often used to for performance tuning of the |chef server| in larger installations."
msgstr ""

#: ../source/runbook.rst:316
# 131cf53854e841edada0dd2e1cef8f02
msgid "When changes are made to the |chef server rb| file, the |chef server| must be reconfigured by running the ``chef-server-ctl reconfigure`` command."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:4
# 47f5c8b8e7854602a14537655ade1cb4
msgid "The following setting is often modified from the default as part of the tuning effort for the |service bookshelf| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:13
# 09431b17509b4cbcb72639c3ea0a9af1
msgid "|ip_address virtual| Default value: ``node['fqdn']``."
msgstr ""

#: ../source/runbook.rst:323
# be23fdbe61f546478157941b1c05ae4d
msgid "opscode-chef"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_chef.rst:4
# 46b39775002645d489bdf3c6dba23e0e
msgid "The following setting is often modified from the default as part of the tuning effort for the |service chef| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_chef.rst:12
# 76ee0fec2f244929afb74040b7dc15c3
msgid "``opscode_chef['worker_processes']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_chef.rst:13
# 3fbd3bc77faa465797c97237fcef4ee3
msgid "|worker_processes| This value should be increased if requests made to the |service chef| service are timing out, but only if the front-end machines have available CPU and RAM. Default value: ``4``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:4
# e8ae274f2f184eebac82e3002818d28e
msgid "The following settings are often modified from the default as part of the tuning effort for the |service erchef| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:12
# f32781b4fc874bd191882f3596f39509
msgid "``opscode_erchef['db_pool_size']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:13
# 1ed81a43b45c4aafaa0db62d596670f0
msgid "|db_pool_size| If failures indicate that the |service erchef| service ran out of connections, try increasing the ``postgresql['max_connections']`` setting. If failures persist, then increase this value and also increase the value for ``postgresql['max_connections']``. Default value: ``20``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:14
# 9709753dba4b42eab2d631f5b36835e5
msgid "``opscode_erchef['s3_url_ttl']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:15
# e4ac3e16dba743e88a30689d349a03af
msgid "|s3_url_ttl| If |chef client| runs are timing out, increase this setting to ``3600``, and then adjust again if necessary. Default value: ``900``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_expander.rst:4
# 2a36633a15cc4f15b3f215e79afd6cd6
msgid "The following setting is often modified from the default as part of the tuning effort for the |service expander| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_expander.rst:12
# ce2cdd56f7e84087bd487ad31683522e
msgid "``opscode_expander['nodes']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_expander.rst:13
# 04140faf56fc4a81a1abebfa57ffd296
msgid "|worker_processes| The |service expander| service runs on the back-end and feeds data to the |service solr| service, which creates and maintains search data used by the |chef server|. Additional memory may be required by these worker processes depending on the frequency and volume of |chef client| runs across the organization, but only if the back-end machines have available CPU and RAM. Default value: ``2``."
msgstr ""

#: ../source/runbook.rst:335
# 66f7b59cd5a04c999059c0984772a4a8
msgid "opscode-solr"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:4
# bfb59d1b407a41018f834d681ff10ddf
msgid "The following settings are often modified from the default as part of the tuning effort for the |service solr| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:12
# f203470ccae4408fb2e9599e0eb2ed42
msgid "``opscode_solr['heap_size']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:13
# acad371bbf9a45349cdf160a6c775df6
msgid "|heap_size solr|"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:15
# 949d6b620d114da5b93e29a0b1ea35f3
msgid "If |apache solr| is running out of memory, the ``/var/log/opscode/opscode-solr/current`` log file will contain ``SEVERE: java.lang.OutOfMemoryError: Java heap space``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:17
# 4f5cc222115b4fac96982602f271e813
msgid "The default value should work for many organizations with fewer than 25 nodes. Suggested value: ``256`` per every 25 nodes. For example, an organization with 300 nodes, this value should be set to ``3072``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:18
# 442beb1b59db4ef4b1daa10c50943ccc
msgid "``opscode_solr['max_field_length']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:19
# bf135f7082c44ef6804eab2a44d6a887
msgid "|solr_max_field_length| Default value: ``100000`` (increased from the |apache solr| default value of ``10000``)."
msgstr ""

#: ../source/runbook.rst:338
# d74268cce00247ff9f8a0c96bdde084c
msgid "**Update Frequency**"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:4
# 7a2050789465496ca3c7680c760aff68
msgid "At the end of every |chef client| run, the node object is saved to the |chef server|. From the |chef server|, each node object is then added to the ``SOLR`` search index. This process is asynchronous. By default, node objects are committed to the search index every 60 seconds or per 1000 node objects, whichever occurs first."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:6
# 1814d5661c624c4e8b154e413a974ac4
msgid "|solr_update_frequency_caveat|"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:8
# eea7b0aef26e4160b51b0cb47c595a8c
msgid "For |chef server|, these settings are configurable:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:16
# be2281bb59664fb092aa4b608edda061
msgid "``opscode_solr['commit_interval']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:17
# efc42581fd4546a097565a7c102c91d1
msgid "|solr_commit_interval| Default value: ``60000`` (every 60 seconds)."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:18
# a9ff1072207f4cb48031e48241ea94d6
msgid "``opscode_solr['max_commit_docs']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:19
# 84cd174b43184fac98bbf3e2385400c7
msgid "|solr_max_commit_docs| Default value: ``1000`` (every 1000 documents)."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:4
# 36b6687e95af481fbd163a403d744c22
msgid "The following setting is often modified from the default as part of the tuning effort for the |service postgresql| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:12
# 4cbf0dda062e4db596118ac6fac51f55
msgid "``postgresql['max_connections']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:13
# d9d9a422f4cc4e018060858817e71049
msgid "|max_connections| This value should only be tuned when the ``erchef['db_pool_size']`` value used by the |service erchef| service is modified. Default value: ``350``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:4
# ce0f9aab1ac84b64ab357a9b742216bb
msgid "If there are more than two front end machines in a cluster, the ``postgresql['max_connections']`` setting should be increased. The increased value depends on the number of machines in the front end, but also the number of services that are running on each of these machines. Each front end machine always runs the |service bifrost| and |service erchef| services. The |reporting| add-on adds the |service reporting| service. The |push jobs| service adds the |service push_jobs| service. Each of these services requires 25 connections, above the default value."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:6
# ba856295053c457bbae91ef8e9d86f70
msgid "Use the following formula to help determine what the increased value should be:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:14
# a9fe79b2a02c44ada7f05f0c84135a22
msgid "For example, if the current value is 350, there are four front end machines, and all add-ons are installed, then the formula looks like:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:4
# 82da2856521c4fac8a8760728aa3304f
msgid "The following settings must be modified when the |chef analytics| server is configured as a standalone server:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:12
# 7603acbf15bd4bb2b9c78114ae337ecd
msgid "``rabbitmq['node_ip_address']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:13
# 28554fb47bd54d6e8cc68d01db81e1d2
msgid "|ip_address rabbitmq| Default value: ``\"127.0.0.1\"``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:15
# 7c21ebfcefa54f03bdd96e4fd4a46ef2
msgid "|analytics rabbitmq_settings| When the |chef analytics| server is configured as a standalone server, change this value to ``0.0.0.0``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:16
# aee9640d298948f986c4f2f1323e96ae
msgid "``rabbitmq['vip']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:17
# 18dd825c207c4bd597b14de09e25cf6f
msgid "|ip_address virtual| Default value: ``\"127.0.0.1\"``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:19
# b8e0c877ecb0413ca31fecf5ce3638f0
msgid "|analytics rabbitmq_settings| When the |chef analytics| server is configured as a standalone server, change this value to the backend VIP address for the |chef server|."
msgstr ""

#: ../source/runbook.rst:354
# 579a6ea6646e4c5898639c96e64281f8
msgid "Backup and Restore"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore.rst:4
# abc59e90d649466fa6cde934f621c0dd
msgid "Periodic backups of |chef server| data are an essential part of managing and maintaining a healthy configuration and to help ensure that important data can be restored, if required."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:4
# 507a19e9731b4db4b33f1cdd7226012a
msgid "To configure backups on the backend servers in a |ha| configuration, set a |cron| job in ``/etc/cron.d/opc_snapshot`` similar to the following:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:15
# c6663f8eb70e4ea9a3a62977e30d8843
msgid "A |cron| job similar to the previous example will mount a new snapshot logical volume named::"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:19
# 62a3a39b84f44b3380461aeb4dfa800e
msgid "where ``{+%Y-%m-%d-%H-%M-%S}`` is a format string for year, month, day, so on."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:21
# 951aa05827ef43bcab0958e633e02d0a
msgid "After the |cron| job has run successfully, the ``mount`` command will show the new logical volume mounted on the ``/var/opt/opscode/drbd-backups`` mount point. The backup script will create a snapshot logical volume in unused space in the ``/opscode`` volume group. After the snapshot is created, the backup script will attempt to mount the snapshot logical volume, after which the snapshot will stay mounted for 24 hours. Upon the next |cron| job run, the backup script will attempt to unmount, destroy the snapshot, and then repeat the sequence."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:23
# cfb9d4259f98412a8e890535d35eb08d
msgid "The ``drbd-backups`` script with default settings requires at least 40 GB free space in the ``/opscode`` volume group on the backend servers."
msgstr ""

#: ../source/runbook.rst:362
# b11ba0495d1b4decb099593ae76e166c
msgid "Required Directories"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations.rst:4
# 298838a3cdd9458890310af6abc873d6
msgid "Data stored in the following directories should be backed up periodically:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations.rst:6
#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:12
# dda1a839613f42f89cb0ca94e66722fb
# 6eea078d6d714dda9b03aab6a7c9dbe2
msgid "/etc/opscode"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations.rst:7
#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:13
# 5062f4a4b38c42be9fe22ac359bca8f7
# 34ef3236a0ed4884b4be99aad97fa7ad
msgid "/var/opt/opscode"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations.rst:9
# aaa7add649c242aaa29778fd399bb8c4
msgid "This data is also essential when any type of backup and restore operation is done for the |chef server|."
msgstr ""

#: ../source/runbook.rst:366
# 58328dfa24d146808db8cace1d79fccc
msgid "Backup"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_backup.rst:5
# 2661bd4eb8124d67bc0834616c4e2789
msgid "When backing up |chef server| data, be sure that the system is shut down (or otherwise quiet) at the time of the backup. As the ``opscode-pgsql`` user, run the following command:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_backup.rst:11
# c2b05e165a2b420fa58bc23cb9d76063
msgid "and then synchronize to make sure that all of the data is present on-disk:"
msgstr ""

#: ../source/runbook.rst:370
# ac05cf8df92a4fb4ab0b0152e10c57a4
msgid "Restore"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:4
# 5fe323afca454813a137b4baa18f2a7b
msgid "When restoring |chef server|  data, the previously backed-up files will be required, along with the |chef server| running only the |service postgresql| service. To restore the database, as the ``opscode-pgsql`` user, run the following command:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:10
# 04ef10e638404be78652c0073c5da16b
msgid "and then restore the previously backed-up files to the following locations:"
msgstr ""

#: ../source/runbook.rst:378
# 1527d6ea80974c1490dcd1be85619016
msgid "Manage Organizations"
msgstr ""

#: ../source/runbook.rst:379
#: ../source/runbook.rst:443
# 2c758d8411f34a2abc4bc0d7a493ab8a
# 12b4d91d805147fabc51385523e17c9d
msgid "The following commands are built-in to the |chef server ctl| command line tool:"
msgstr ""

#: ../source/runbook.rst:382
# c9dc9944ce8a4de09a53174aa03932f9
msgid "org-associate"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_associate.rst:6
# e089d6648c8a47feb81c51460c918305
msgid "The ``org-associate`` subcommand is used to associate a user to an organization."
msgstr ""

#: ../source/runbook.rst:385
#: ../source/runbook.rst:394
#: ../source/runbook.rst:406
#: ../source/runbook.rst:414
#: ../source/runbook.rst:422
#: ../source/runbook.rst:434
#: ../source/runbook.rst:449
#: ../source/runbook.rst:461
#: ../source/runbook.rst:469
#: ../source/runbook.rst:477
#: ../source/runbook.rst:489
# d7b9a82b50294b2cb3eaa005e32b3599
# eb01a308682f42e4b3212e4cfd594916
# 784f04201cc34469a28d5e8850b81399
# 7fd89afd8fd8406eac955d7c8c9ecee6
# 0afa89e43f024cdeb0bc82e9493dc58f
# 8186cca049f64e99b97ee56997435022
# dbf871ad36bb4b3fa7e20015cfbae9d2
# 7b369a934c45449a843b7496fc7811ca
# 89e912e61515434da2a826d18aeffcd2
# 98695ecd3f4c4bd383c1df86984e1d72
# b0105f713d3a45269ebd6ef23cd907ae
msgid "**Syntax**"
msgstr ""

#: ../source/runbook.rst:391
# e176b41a3e1b4b888ad7d7e05011d2a1
msgid "org-create"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create.rst:6
# 79b6d39162b440ad89f65e0d7d5eba0d
msgid "The ``org-create`` subcommand is used to create an organization. (The validation key for the organization is returned to ``STDOUT`` when creating an organization using this command.)"
msgstr ""

#: ../source/runbook.rst:398
#: ../source/runbook.rst:426
#: ../source/runbook.rst:453
#: ../source/runbook.rst:481
#: ../source/runbook.rst:493
# 19d9824954a64f95926a436f8703614f
# 15400526f03c4ea58d84c9d9d2045e17
# f7e67c7530b34b1596c449e15ea7d717
# 242ab66151ca428eb35c02ad341f8b96
# 0a90215885d04e69ac8511866c174fe9
msgid "**Options**"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show_options.rst:6
# 181c1adc67744f30967e1e26624eae78
# 4e384e43d1b14d6c8e96008e4603881e
# 2834f0df31a0426f829993ea5c728df0
# 85f19a755ca74fd0bd0cec472cb4dce2
# 90afa801260341d0829100ad47be7728
msgid "This subcommand has the following options:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:9
# 9fc52a5b23244ef1b45b9792714e5501
msgid "``-a USER_NAME``, ``--association_user USER_NAME``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:9
# 9252dbc4653e4a21bbe4204b7b9c693f
msgid "Use to associate a user with an organization and add them to the |webui group admins| and |webui group billing| security groups."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:13
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create_options.rst:9
# b1f87f472bf74cdcb9fe91976c49b98b
# cf62762438b642a6b367025bd9562e7a
msgid "``-f FILE_NAME``, ``--filename FILE_NAME``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:12
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create_options.rst:9
# a37fd7f6e736478abe47e514bfce3a17
# ee71e4f1dbeb4837b072b62587c762b0
msgid "Use to write the private key to a file instead of ``STDOUT``."
msgstr ""

#: ../source/runbook.rst:403
# c57cfa8314eb4d0a8ed6cc7ebd0c9a8e
msgid "org-delete"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_delete.rst:6
# 0ec587f225c44f5b953aa215e413169c
msgid "The ``org-delete`` subcommand is used to delete an organization."
msgstr ""

#: ../source/runbook.rst:411
# ce62d4ccc190438380b69780b9013bb3
msgid "org-disassociate"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_disassociate.rst:6
# 0eccb4d78e5d4cc2a06c2077f4cff809
msgid "The ``org-disassociate`` subcommand is used to disassociate a user from an organization."
msgstr ""

#: ../source/runbook.rst:419
# 90cf391d4a8a420cbdb4c94ed50ef8c3
msgid "org-list"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list.rst:6
# 4e05968e712548ab8d5d11e1da05ade9
msgid "The ``org-list`` subcommand is used to list all of the organizations currently present on the |chef server|."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:9
# d27195892ed94c17bc3b9411c9f7e799
msgid "``-a``, ``--all-orgs``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:9
# 544847ecbe8b4e85b71a585fc9f71dcc
msgid "Use to show all organizations."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:12
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list_options.rst:9
# 18bf78d663ef440b87d52359f5af1e92
# 31831f9f4dc44307b4423242a245e4b3
msgid "``-w``, ``--with-uri``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:12
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list_options.rst:9
# c3691d48d16e4eb1a264a421378670a7
# 9a7f6730f4d844809adeed5644aba376
msgid "|with_uri|"
msgstr ""

#: ../source/runbook.rst:431
# 4f0406996cf943b3bea4b7c1078c1ca5
msgid "org-show"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_show.rst:6
# 3484dcab3c6b48fba16cc0d32648ac0e
msgid "The ``org-show`` subcommand is used to show the details for an organization."
msgstr ""

#: ../source/runbook.rst:442
# 5f0d656ecd244e2faebcda386f78a6dc
msgid "Manage Users"
msgstr ""

#: ../source/runbook.rst:446
# f2ce7e5c394c48b8a4610ae8f8d492e1
msgid "user-create"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create.rst:6
# d64c04a1653740fbb5d6e39737dc3e70
msgid "The ``user-create`` subcommand is used to create a user."
msgstr ""

#: ../source/runbook.rst:458
# 1fc58ee5706f435c99d9632464949249
msgid "user-delete"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_delete.rst:6
# ee7342c5cd134dd58388006d11ba6ff4
msgid "The ``user-delete`` subcommand is used to delete a user."
msgstr ""

#: ../source/runbook.rst:466
# 1fe60094549d422e8113f2624e24a3c5
msgid "user-edit"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_edit.rst:6
# b295c66707fc491eb035923f6448b1b0
msgid "The ``user-edit`` subcommand is used to edit the details for a user. The data will be made available in the |chef editor| for editing."
msgstr ""

#: ../source/runbook.rst:474
# 533036f299ac4682bcd54074890fd163
msgid "user-list"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list.rst:6
# c76973dfe11e486f9a1afc22e62fd9e8
msgid "The ``user-list`` subcommand is used to view a list of users."
msgstr ""

#: ../source/runbook.rst:486
# 606faa2ac9a243c091e6008cd14e6ae3
msgid "user-show"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show.rst:6
# e08d0d42efe448c09a1b2799961875c2
msgid "The ``user-show`` subcommand is used to show the details for a user."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show_options.rst:9
# a3ea38a25227418db0ef71a71f973ee9
msgid "``-l``, ``--with-orgs``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show_options.rst:9
# 8394477e22d64cc5ba77ef76607ac534
msgid "Use to show the corresponding organizations."
msgstr ""

