# SOME DESCRIPTIVE TITLE.
# Copyright (C) This work is licensed under a Creative Commons Attribution 3.0 Unported License.
# This file is distributed under the same license as the Chef Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Chef Docs \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2015-02-10 09:43-0800\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/runbook.rst:8
# 39e490a71cfb4092bb9d4141f07195c6
msgid "Runbook"
msgstr ""

#: ../../includes_chef_server/includes_chef_server.rst:4
# e3d2d41568ac413782d910ee737a84bd
msgid "The |chef server| acts as a hub for configuration data. The |chef server| stores cookbooks, the policies that are applied to nodes, and metadata that describes each registered node that is being managed by the |chef client|. Nodes use the |chef client| to ask the |chef server| for configuration details, such as recipes, templates, and file distributions. The |chef client| then does as much of the configuration work as possible on the nodes themselves (and not on the |chef server|). This scalable approach distributes the configuration effort throughout the organization."
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_erchef_background.rst:4
# f88b6cdbf674419f834e1ad7ea8fbf06
msgid "Starting with the release of |chef server| 11, the front-end for the |chef server| is written using `Erlang <http://www.erlang.org/>`_, which is a programming language that `first appeared in 1986 <http://en.wikipedia.org/wiki/Erlang_%28programming_language%29>`_, was open sourced in 1998, and is excellent with critical enterprise concerns like concurrency, fault-tolerance, and distributed environments. The |chef server| can scale to the size of any enterprise and is sometimes referred to as |erchef|."
msgstr ""

#: ../source/runbook.rst:14
# bd06497e50364edca91cd898795e8dfb
msgid "The following diagram shows the various components that are part of a |chef server| deployment and how they relate to one another."
msgstr ""

#: ../source/runbook.rst:22
# 1ba1df5c57b24367a25ea35b16c5fc45
msgid "Component"
msgstr ""

#: ../source/runbook.rst:23
#: ../../includes_server_logs/includes_server_logs_nginx.rst:11
#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:38
#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:11
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:11
#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:11
#: ../../includes_server_tuning/includes_server_tuning_general.rst:11
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:11
#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:11
#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:11
#: ../../includes_server_tuning/includes_server_tuning_expander.rst:11
#: ../../includes_server_tuning/includes_server_tuning_solr.rst:11
#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:15
#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:11
#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:11
# 0852674876d34e548e4d045d5b128c5c
# 8ea85e02027a41e5ab867835285ac0de
# 37099b23bb70480694f362185e275107
# c61700eeb06a4a728c38a5ad077f808d
# d1f115f6563a48b6bddd998271779990
# 0cebd301a7154bb89c6f5b40acb0bd64
# f9eef86edca943eeb78ad9320b555748
# 5e80fcb54a104467b06a6f5d06b01d52
# ec3101a8fb0b4823be448c4b6e361df3
# 6f6f9398904747628457714656f4af8b
# 0a635f184a044d6ebff6647f18824d72
# b55287a365c046269bd52a6a41ec656d
# 6ea7d08f6656458a851d52033f7fe12d
# 764e3d08182e4e9c934c578c4f0a16c6
# 5d192096b9674c3c8298b7c06020c0fa
msgid "Description"
msgstr ""

#: ../source/runbook.rst:24
# 6a329ff156f342dba9fc3d928766dbea
msgid "Bookshelf"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_bookshelf.rst:4
# 28d9cf5c88244c39bfb3a2af1fd29bdd
msgid "|chef bookshelf| is used to store cookbook content---files, templates, and so on---that have been uploaded to the |chef server| as part of a cookbook version. Cookbook content is stored by content checksum. If two different cookbooks or different versions of the same cookbook include the same file or template, |chef bookshelf| will store that file only once. The cookbook content managed by |chef bookshelf| is stored in flat files and is separated from the |chef server| and search index repositories."
msgstr ""

#: ../source/runbook.rst:27
# 3a06e9c67a3649a990d24962a7787edb
msgid "All cookbooks are stored in a dedicated repository."
msgstr ""

#: ../source/runbook.rst:28
# a869eef1cb2945c4a25403a4e9fd0a4e
msgid "WebUI"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_webui.rst:4
# 2f31251b9d334b7d80c36ed0e293f34e
msgid "|chef server webui| is a |ruby on rails| 3.0 application that hosts the web interface for the |chef server|."
msgstr ""

#: ../source/runbook.rst:30
# 2dff86f842424f33a44f46e66942ab7a
msgid "Erchef"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_erchef.rst:4
# 179f690b5e514ed7bc284cbd0422815e
msgid "|erchef| is a complete rewrite of the core API for the |chef server|, which allows it to be faster and more scalable than previous versions. The API itself is still compatible with the original |ruby|-based |chef server|, which means that cookbooks and recipes that were authored for the |ruby|-based |chef server| will continue to work on the |erlang|-based |chef server|. The |chef client| is still written in |ruby|."
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_erchef.rst:6
# f08060fd36584539aae341fc37f9c84d
msgid "Even though the |chef server| is authored in |erlang|, writing code in |erlang| is NOT a requirement for using |chef|."
msgstr ""

#: ../source/runbook.rst:32
# 1ee85608cab5494992ed6949ada544d2
msgid "Message Queues"
msgstr ""

#: ../source/runbook.rst:33
# 1fd01f41e3bc4ada8ab7792b49e60dd5
msgid "Messages are sent to the Search Index using the following components:"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_rabbitmq.rst:4
# d9ad9096adbf42b5bddbada5b71b5924
msgid "|rabbitmq| is used as the message queue for the |chef server|. All items that will be added to the search index repository are first added to a queue."
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_expander.rst:4
# 6fbf7e5db914401790d237891f1944cb
msgid "|chef expander| is used to pull messages from the |rabbitmq| queue, process them into the required format, and then post them to |chef solr| for indexing."
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_solr.rst:4
# 805c1956ea164c468d67b54f8f3d9900
msgid "|chef solr| wraps |apache solr| and exposes its REST API for indexing and search."
msgstr ""

#: ../source/runbook.rst:39
# 21b0f70bf6ba4fd48f1f485432395fc9
msgid "All messages are added to a dedicated search index repository."
msgstr ""

#: ../source/runbook.rst:40
# a2f92d4f40e243b3bdc73fd1b030d17b
msgid "Nginx"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_nginx.rst:4
# 1d1c14d215364b31b3e41ba12e5ed7d2
msgid "|nginx| is an open-source HTTP and reverse proxy server that is used as the front-end load balancer for the |chef server|. All requests to the |api chef server| are routed through |nginx|."
msgstr ""

#: ../source/runbook.rst:42
# 7eec25c1e48746078b3e8b51ec2c1c20
msgid "PostgreSQL"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_postgresql.rst:4
# 1c255e1e6d1d49b9ade7d9d3f616ed07
msgid "|postgresql| is the data storage repository for the |chef server|."
msgstr ""

#: ../source/runbook.rst:45
# e2500b7c98be4a86aa03d1afc9eae083
msgid "The following sections detail how to monitor the server, manage log files, manage services, manage firewalls and ports, configure SSL, tune server configuration settings, and backup and restore data."
msgstr ""

#: ../source/runbook.rst:49
# c764d57c8f464bb9b60c1b77ec4146b5
msgid "Monitoring"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor.rst:4
# 73ef94037702479aa77126653bd81d23
msgid "Monitoring the |chef server| involves two types of checks: application and system. In addition monitoring the HTTP requests that workstations and nodes are making to the |chef server| and per-disk data storage volumes is recommended."
msgstr ""

#: ../source/runbook.rst:53
# f99b4af45f3a4ca1a317b70e902c65e9
msgid "Application Checks"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application.rst:4
# 56406ae7b64842ee8eb6c0fbbc39b1ca
msgid "Application-level checks should be done periodically to ensure that there is enough disk space, enough memory, and that the front-end and back-end services are communicating."
msgstr ""

#: ../source/runbook.rst:57
# ed57539a920344c092d7abc3f94c8dfe
msgid "|drbd|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_drbd.rst:5
# b5579ff309e6460e9af65e7077e25e8a
msgid "|drbdadm| is the management tool for |drbd|. It can be used to obtain status information and to alter the state of the |drbd| cluster. For more information about |drbdadm|, see http://www.drbd.org/users-guide/re-drbdadm.html."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_drbd.rst:7
# 3b69ebc537024dc986ca2b01f56fca06
msgid "``/proc/drbd`` is a virtual file that displays real-time status information about all currently-configured |drbd| resources. Use the following command to view the contents of this virtual file:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_drbd.rst:13
# 0b692cf752b54caba294b6a4711dc215
msgid "Use ``chef-server-ctl ha-status`` along with ``/proc/drbd`` to help evaluate the current state of the cluster. Follow the split-brain recovery procedures for |drbd| if the cluster becomes two unconnected pieces."
msgstr ""

#: ../source/runbook.rst:61
# ca911fa999244b179fcf7465ea8fc0ff
msgid "|erlang|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:5
# bac8384d2551438bb958646e44ccb19a
msgid "Many components of the |chef server| are written using |erlang| and run on the |beam| virtual machine. One feature of |erlang| and |beam| is the ability to interact with the running service using a command shell. For example:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:13
# 11091c6f0c544a7b88ca3517f06dd8d2
msgid "where ``service_name`` is ``bifrost`` or ``erchef``. This command will then open a shell that is connected to the |erchef| processes:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:19
# 54825873fbb5492d8cb9ab5a6c254dcc
msgid "Connecting to the |erlang| processes should only be done when directed by |company_name| support services."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:21
# b87e0d37ea004933a6fe19d37d71dc29
msgid "To connect to the |service bifrost| service, use the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:27
# 341ee2c78f3d41088b039f9129193cc7
msgid "To connect to the |service erchef| service, use the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:33
#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:29
# c822f9b7a63c4e21b0176235faa4a374
# b95ade3189c7404f90a05af71d0b841d
msgid "To disconnect from the shell, use the following key sequence ``CTRL-g``, ``q``, and then ``ENTER``."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:35
#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:31
# aaeb139a7d074722bd8f3234d55dbfa5
# ff849b7c52f8487f870827ca670af6c2
msgid "The output from the shell after the ``CTRL-g`` looks similar to:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:42
#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:38
# 8846c0562cf74dd0b4916e363dbe6e42
# 7f670916d65d4a3cb055863b1f2af7df
msgid "then enter ``q``, and then hit ``ENTER`` to exit the shell."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:44
# b4738b15e9b442d6a9fce42587c5d848
msgid "Some commands should not be entered when interacting with a running service while using the command shell, including:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:46
# e08a3785105c41168434d8fcf84c0d41
msgid "``q()`` kills the |erlang| node"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:47
# 28c61d9c833b453d840e47ab0e875d61
msgid "``init:stop()``"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:48
# 142a6ec70f084614818e1590d014d6b3
msgid "``exit`` or ``exit()`` does nothing"
msgstr ""

#: ../source/runbook.rst:65
# 1a882b157aa24e7b8216ca95f370d956
msgid "``eper`` tools"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:4
# eec98032f88f4f588b018a07f53627aa
msgid "As root on the |chef server|, point to the bundled ``eper`` package of debugging tools. Replace the 2nd and 5th path entries and the ``X.XX.X`` value in the following path with the items that occur on the system."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:10
# 4a17803f1e6d43128d935ccb5ff86ad6
msgid "Open an |erlang| command shell to begin diagnosing service issues on the |chef server|:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:17
# dcc3e10e78a348ddb5b7013c80439121
msgid "The ``dtop`` tool presents a view on the |erlang| virtual machine that is similar to the ``linuxdagnostic`` command. The period at the end of the dtop command is required for the command to take effect."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang_eper.rst:23
# b669e3e58fb043288b338fadf365e2fa
msgid "To stop the ``dtop`` command, run:"
msgstr ""

#: ../source/runbook.rst:69
# daffbcd1e39948f190d350151929dc33
msgid "|nginx|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_nginx.rst:5
# df597a889be04c2c93f9ac119db84b07
msgid "Use |nginx| to monitor for services that may be returning 504 errors. Use the following command on a front-end machine:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_nginx.rst:11
# ec4a88e9f33a49d3a27a74d608729d4c
msgid "and then extract the URLs and sort them by ``uniq`` count:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_nginx.rst:17
# e8d0b45e1c8d4af1ab16d990959d4b12
msgid "In a large installation, restricting these results to a subset of results may be necessary:"
msgstr ""

#: ../source/runbook.rst:73
# 373ca4a354904b2590e35e8e83bd8475
msgid "|postgresql|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_postgresql.rst:5
# b522de156016426692b4565783d084f2
msgid "|postgresql ctl| is the management tool for |postgresql|. It can be used to obtain information about data stored in |postgresql|. For more information about |postgresql ctl|, see http://www.postgresql.org/docs/manuals/, and then the doc set appropriate for the version of |postgresql| being used."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_postgresql.rst:7
# d66018e364af4650ab1a241b2d08dad0
msgid "To connect to the |postgresql| database, run the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_postgresql.rst:15
# d565f296dd894ae4a694bbe47dace987
msgid "Connecting to the |postgresql| database should only be done when directed by |company_name| support services."
msgstr ""

#: ../source/runbook.rst:77
# 9b823562216c4347bc858377b54d5160
msgid "|rabbitmq|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_rabbitmq.rst:5
# 5edf825a9cd548b6ba8842728f034506
msgid "|rabbitmq ctl| is the management tool for |rabbitmq|. It can be used to obtain status information and to ensure that message queuing is running properly. For more information about |rabbitmq ctl|, see https://www.rabbitmq.com/man/rabbitmqctl.1.man.html."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_rabbitmq.rst:7
# b76766ed74264bbda86178831595acae
msgid "To obtain status information for message queues, run the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_rabbitmq.rst:15
#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_example.rst:13
# 2a2bcf1d59b94714bb4b4dfc1d6de042
# 7019bc1eae924e88b9f0f497f874d8f9
msgid "to return something similar to:"
msgstr ""

#: ../source/runbook.rst:81
# faef77f9548d482cae15dc722b4fe356
msgid "|redis|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_redis.rst:5
# 876134f08ccc41fb964a0187530e4a7b
msgid "|redis cli| is the management tool for |redis|. It can be used to obtain information about keys that are being used with the |chef server|. For more information about |redis cli|, see http://redis.io/commands."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_redis.rst:7
# ee6284a48cb24c1c9a9b3bdfaca00c1a
msgid "To verify that the connection to |redis| is alive, run the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_redis.rst:15
# d4366c58e3aa41e09391a13edcca0307
msgid "to return:"
msgstr ""

#: ../source/runbook.rst:85
# da6c4b2d96ec46e981e291e1f3762c0b
msgid "System Checks"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system.rst:4
# 9fae2047f44b4078ae88b9fa5fbb27da
msgid "System-level checks should be done for the following components: ports, services (|service erchef| and |service expander|), and high availability status."
msgstr ""

#: ../source/runbook.rst:89
# 1dbad98137ce4d9b97114447ef140298
msgid "ha-status"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:6
# 655a74db897342ff945b4054bb868397
# a5787cc8124747a49d8db06016904537
msgid "On back-end servers in a |ha| topology, |keepalived| is used by the clustering service to determine whether a service should be running. If the ``status`` subcommand is run against any of these nodes, a few things change:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:8
# b240e9707a0247d7afa2ea849e6e78f7
# 17b3f26bfead42c88926b992ff2cd40a
msgid "On the back-end node that is currently the backup server, it is normal to see only one running process: |keepalived|"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:9
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:9
# 3436540c31c343d39ed6b958d5a668eb
# cd97fa8e102c47a1adacf1eac2c2bdec
msgid "On the back-end node that is currently the master server, it is normal to see all services running. It is also normal to see some services in a down state if the server, on reboot, did not attempt to start the services because |keepalived| determines which services are restarted based on the state of the cluster"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:11
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:11
# f81bb737fe3346c3b94f7153ba99f95d
# bd174313d64a4196b360ea25f054077e
msgid "A sample status line for a service that is running on the master server in a |ha| topology:"
msgstr ""

#: ../source/runbook.rst:93
# c5312d94473e401b909a207547e9d7f0
msgid "opscode-authz"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_authz.rst:5
# fd602aeaf7d742a0b88097e3e64e2d67
msgid "The authz API provides a high-level view of the health of the |service authz| service with a simple endpoint: ``_ping``. This endpoint can be accessed using |curl| and |gnu wget|. For example:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_authz.rst:11
# ad336d44a05d4bcaaaf0ce3f90b25a67
msgid "This command typically prints a lot of information. Use |python| to use pretty-print output:"
msgstr ""

#: ../source/runbook.rst:97
#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:11
#: ../source/runbook.rst:323
# 47e0607f75814165be6827a3ea453226
# 75073936b344437a8abd741d72f523d1
# f7979ca3731f452a965352b225be5679
msgid "opscode-erchef"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:5
# 9aa5f9adfaca43ddbfd1ef4d2e238c23
msgid "The status API provides a high-level view of the health of the system with a simple endpoint: ``_status``. This endpoint can be accessed using |curl| and |gnu wget|. For example:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:11
# 1d87f3593ae24a7982d1cabac4171a36
msgid "which will return something similar to:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:20
# 3179085f24ca4d25985ba77e84e66b3f
msgid "For each of the upstream services, ``pong`` or ``fail`` is returned. The possible upstream names are:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:22
# fc8afeedc908448a90a892ea749e649a
msgid "``chef_solr`` (for the |service solr| service)"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:23
# 81948cf2a74f459e93bb4f0b702c18b0
msgid "``chef_sql`` (for the |service postgresql| service)"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:24
# ca746ad9c7eb42dc9acbf39035360ac0
msgid "``oc_chef_authz`` (for the |service authz| service)"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:26
# 63a06985083b441b837cefd67819a984
msgid "If any of the status values return ``fail``, this typically means the |chef server| is unavailable for that service."
msgstr ""

#: ../source/runbook.rst:101
#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:12
#: ../source/runbook.rst:327
# 477349ee532b45ffaf1b70a17e8e9093
# 8332e6b5f5ac4cf09f996a3da9c8a145
# fce0d030bb3640a887afb0f4eaeb372f
msgid "opscode-expander"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander.rst:4
# fb4e3d18a423447cadbcace606e5c6ad
msgid "As the queue depth increases it may take longer for updates posted to the |chef server| by each |chef client| to be added to the search indexes on the |chef server|. The depth of this queue should be monitored using the following command:"
msgstr ""

#: ../source/runbook.rst:104
# 50e977fc3c5b48559c17ed9009edd921
msgid "**Search Indexes**"
msgstr ""

#: ../../includes_search/includes_search.rst:4
# 643774d22ba74059a7b8c85c55ad5221
msgid "Search indexes allow queries to be made for any type of data that is indexed by the |chef server|, including data bags (and data bag items), environments, nodes, and roles. A defined query syntax is used to support search patterns like exact, wildcard, range, and fuzzy. A search is a full-text query that can be done from several locations, including from within a recipe, by using the ``search`` subcommand in |knife|, the ``search`` method in the |dsl recipe|, and by using the ``/search`` or ``/search/INDEX`` endpoints in the |api chef server|. The search engine is based on |apache solr| and is run from the |chef server|."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:5
# 54940206cf114da0b7722afd38c044e5
msgid "If the search indexes are not being updated properly, first ensure that the |service expander| service is running on the backend machine:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:11
# 7b5a92f2a4ab4be4906e2720050001cc
msgid "and then (if it is not running), start the service:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:17
# 151518da3276430d8127d342cdced049
msgid "If the |service expander| does not start correctly, then take a look at the ``/var/log/opscode/opscode-expander/current`` log file for error messages."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:19
# c0ed454ac109422cbff6016800bd7dbf
msgid "If the |service expander| is running, check the queue length:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:25
# aae783c88f5b44ac9cd620f958ceed55
msgid "If the number of total messages continues to increase, increase the number of workers available to the |service expander| service."
msgstr ""

#: ../source/runbook.rst:110
# ffc0ad4032d54a8184cad711534dec24
msgid "**opscode-expanderctl**"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander.rst:5
# 3e54311a0ed84d799f3e9ca5c2d5acaa
msgid "The |opscode expander ctl| executable can be used to generate status information for the |service expander| service. The |opscode expander ctl| executable is run as a command-line tool from the master backend machine."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:6
# 6a1874057c3f4ecc9edb61cdbd35fd0f
msgid "This tool has the following syntax::"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:10
# fc939783581f4a50b2a1b0074a0f66b4
msgid "This tool has the following options:"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:13
# a220adf9c973402395504e86db173aef
msgid "``log-level``"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:13
# 2ca4ee99b78247d1b9cc015fff76416f
msgid "Use to show the log level for all nodes in the cluster."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:16
# 2c83d0d99c734d988d7274561ee2b846
msgid "``node-status``"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:16
# e64322ae87b34de9a6e45c29ae6fb8e7
msgid "Use to show the status for all nodes in the cluster."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:19
# f67d3b470e554222b2ad1d91a155512e
msgid "``queue-depth``"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:19
# 36ee522c8df84cd88038c9f408d0443b
msgid "Use to display the aggregate queue backlog."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:23
# 26e7e37b13be468b802428e6e49050a1
msgid "``queue-status``"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:22
# 884a92ede18c4dbca3cab58c8127eed9
msgid "Use to show the backlog and consumer counts for each vnode queue."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_example.rst:5
# 48df18e543704b32ab69b9d56cb30223
msgid "For example, to view the aggregate queue backlog, enter the following:"
msgstr ""

#: ../source/runbook.rst:119
# c18016bc07a64b03bd9707f973c0c514
msgid "Nodes, Workstations"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_client.rst:5
# ee310bac68e24087a95d284fa19b1ad7
msgid "If a client makes an HTTP request to the server that returns a non-specific error message, this is typically an issue with the |service chef| or |service erchef| services. View the full error message for these services in their respective log files. The error is most often a stacktrace from the application error. In some cases, the error message will clearly indicate a problem with another service, which can then be investigated further. For non-obvious errors, please contact |company_name| support services."
msgstr ""

#: ../source/runbook.rst:123
# be4506d7578c4f82af809ebf47260bf3
msgid "Disks"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:5
# 9785fce7a5904cf19b0be4cb1ea733cb
msgid "Over time, and with enough data, disks will fill up or exceed the per-disk quotas that may have been set for them and they will not be able to write data. A disk that is not able to write data will not be able to support certain components of the |chef server|, such as |postgresql|, |rabbitmq|, service log files, and deleted file handles. Monitoring disk usage is the best way to ensure that disks don't fill up or exceed their quota."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:7
# 57dace75a8994c4eb42055db8a34feab
msgid "The following components should be monitored for signs that disks may be rapidly filling up:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:9
# 13009cd0eb4943a0b453ba3df0f03889
msgid "**PostgreSQL** |postgresql| is the data store for the |chef server|."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:10
# feee69cf29234d1a863d2cddf71b904a
msgid "**RabbitMQ** The |rabbitmq| data folder can fill up if the |service expander| service is not able to keep up with the data being moved into the search database by |rabbitmq|. When the |service expander| service falls behind, |rabbitmq| will start storing the individual messages on-disk while it waits for the |service expander| service to catch up. If the |rabbitmq| disk fills up completely, |rabbitmq| will need to be restarted to free up the disk space and any data that was stored on-disk will be lost."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:11
# 594fd6b4544046ba92b777da098d23fb
msgid "**Log files** If ``/var/log/opscode`` is taking up a lot of disk space, ensure that the |chef server| log rotation cron job is running without errors. These errors can be found in ``/var/log/messages``, ``/var/log/syslog`` and/or the root user's local mail."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:12
# 13ed17a7405943ee84a0ca765083897a
msgid "**Deleted file handles** Running processes with file handles associated with one (or more) deleted files will prevent the disk space being used by the deleted files from being reclaimed. Use the ``sudo lsof | grep '(deleted)'`` command to find all deleted file handles."
msgstr ""

#: ../source/runbook.rst:132
#: ../source/runbook.rst:247
# 928bc3618a994c82bf6b243f68a41652
# b0c8068362c649c4b948070c8cdb2559
msgid "Log Files"
msgstr ""

#: ../../includes_server_logs/includes_server_logs.rst:4
# b6eaf69898e44319814871fbc0b38dbb
msgid "All logs generated by the |chef server| can be found in ``/var/log/chef-server``. Each service enabled on the system also has a sub-directory in which service-specific logs are located, typically found in ``/var/log/chef-server/service_name``."
msgstr ""

#: ../source/runbook.rst:137
# 23677413c7ef44288f1fb4d3d3c819ad
msgid "View Log Files"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_view.rst:4
# 63a8cad316f24eb3bf7abcfde4a7c8d1
msgid "The |chef server| has built-in support for easily tailing the logs that are generated. To view all the logs being generated on the |chef server|, enter the following command:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_view.rst:10
# 602e5bdcac4345d79316c8f7026a6791
msgid "To view logs for a specific service:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_view.rst:16
# 2fc9426cf70d4ff7b7b57d1371795075
msgid "where ``SERVICENAME`` should be replaced with name of the service for which log files will be viewed."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_view.rst:18
# 5bc721cf4da341f6b463c02caf9b07f7
msgid "Another way to view log files is to use the system utility tail:"
msgstr ""

#: ../source/runbook.rst:141
# c7bfad0114de434d948652e01c8e41b3
msgid "tail Log Files"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:6
# a489f0cfa55a4330a33dccec52c63545
# 40761ebff24147c59a95b14877db97a8
msgid "The ``tail`` subcommand is used to follow all of the |chef server| logs for all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_hup.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_int.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_kill.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_once.rst:10
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_restart.rst:10
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_service_list.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_start.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_term.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_delete_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_show_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_user_add_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_user_remove_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_delete_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_edit_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show_syntax.rst:6
# c3e6f318f3e040bbaef0a7e35ef83237
# c6b691cf6c6e4be9a1af78241e051988
# 31b12d382f60418c92b523a7455c81ac
# 1d93fad997c6459382e83a1d12e5aa63
# aa247bbeded240659c5f2c4f11222a14
# 6f070b3a1f6c45db821603a33927ddbd
# 4bb84ae62d804227a810235cc5290045
# 80f2d774abb3462b8faca9b3c9903dd4
# 140f2718cd8a497ca7ac849f59ef4f82
# 609e9ca20e1f4785a4b416727b0f456a
# 4c080273932c4a0eb9bac73e7ae0227d
# bc600a00f43e45a3bbed8ce5739c8d3a
# 89835a8e84ac49c993315708d427a3b3
# dd40f355cae84ee98da03ba8f286da30
# 5df0cbe51d5f4e8096d74de2477d229e
# cffc31f366e54fa68dd28cd9f688117d
# 7e46ea9054a9429782d71b0947cf62fa
# d20c22051da94251a297314b2b900ab3
# 54782ddbe3e640529161b7114fa6dd8a
# ec37dc8a014b42dc82ff66bce363fd49
# 8af96e225a0a4791892583abe2c84d7a
# f9b234ca51eb4bc0a6975d3a9cb751d1
msgid "This subcommand has the following syntax:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_hup.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_int.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_kill.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_once.rst:16
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:18
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_term.rst:14
# 2994ee9c9771497a9d3aa4dcc82fc13b
# 65b92c3f4c3f41f9b6c22ced68c53738
# ac6b2a9632f445be8fc476d3ea91a19c
# 72d1ecb1bf0d49728cf97755a6e8ce44
# d88c16ef98684bd2a7d3106c0c887859
# ea6224fb9707459bb47149f28f0102d6
# 2bcdaa1406174399ad0f70c7e332d79c
# ac136c496df2441f8c495c269bc02bab
msgid "where ``name_of_service`` represents the name of any service that is listed after running the ``service-list`` subcommand."
msgstr ""

#: ../../step_server_services/step_server_services_general_tail.rst:4
# 5d6bdbad78c7482b890bd6280d5bba5d
msgid "Another common approach to tailing the log files for a service is to use the system utility ``tail``. For example:"
msgstr ""

#: ../source/runbook.rst:147
# 0ca50ee65e8e4525952c05fcf6a7ad7b
msgid "Supervisor"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:4
# 2e84da319c154843816bf503158086cb
msgid "Supervisor logs are created and managed directly by the service supervisor, and are automatically rotated when a the current log file reaches 1,000,000 bytes. 10 log files are kept. The latest supervisor log is always located in ``/var/log/chef-server/service_name/current`` and rotated logs have a filename starting with ``@`` followed by a precise ``tai64n`` timestamp based on when the file was rotated."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:6
# 8979bc223204426ba4aa874b5a150ca0
msgid "Supervisor logs are available for the following services:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:8
# bea7ea0ccc2e49e3aaf0d55db2281020
msgid "bifrost"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:9
#: ../source/runbook.rst:319
# 24e321a2b7814db6a4be4e196ceba40a
# 0b00fbd9ff6848f89a6359a7d1bea918
msgid "bookshelf"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:10
#: ../source/runbook.rst:167
# 358036ea5e8c47f9a71422e03016cb38
# 00a088d994f34766b210cb835e84a80b
msgid "nginx"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:13
# 37777f943d044e308bbf8df04b756909
msgid "opscode-expander-reindexer"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:14
# 8cdf8ac7a5644f1d805b8c73b0389ead
msgid "opscode-solr4"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:15
#: ../source/runbook.rst:339
# 3200528792954aaa8e318e0af1337727
# b788954d4aa24181b94fbf053a5f4c74
msgid "postgresql"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:16
#: ../source/runbook.rst:343
# 7615e52d4d2242578729a51de9ba9c4b
# 23f10e38b4fb4da3871e522f30a6ce01
msgid "rabbitmq"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:17
# d980e98a118b4cec8ebfc96eb1790414
msgid "redis"
msgstr ""

#: ../source/runbook.rst:151
# 975c307377a544fab1b3ec088e714542
msgid "nginx, access"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:4
# 1a73a28e27e54f7991377fac629fe246
msgid "|nginx| is an important entry point for data on the |chef server|, which means that debugging efforts frequently start with analyzing the |service nginx| service's ``access.log`` file. This log contains every HTTP request made to the front-end machine and can be very useful when investigating request rates and usage patterns. The following is an example log entry:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:15
#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:16
# 27052fd9e57a419383efbe0e240d6750
# fccd5aecc05e465c96e1f22c7b1a63cd
msgid "where important fields in this log include:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:17
# 2bd2de034577478c89c641b1373cad68
msgid "The HTTP status code (``200``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:18
# e92c9256234c4e3ca463e94154832f0b
msgid "The IP address of the requesting client (``175.185.9.6``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:19
# 6c27a19fcca646a8b4cf82adabd7221b
msgid "The timestamp (``[12/Jul/2013:15:56:54 +0000]``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:20
# ab4a15f3f1254f21a97933917e6abc04
msgid "The total request time (``\"0.850\"``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:21
# 9874a13ce48b4f29b4dfaedffae6eefb
msgid "The request method (``GET``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:22
# f9d8f0a24d1c4420abaf8978361a262b
msgid "The request URL (``/organizations/exampleorg/data/firewall/nova_api``)"
msgstr ""

#: ../source/runbook.rst:155
# b138bd2a32f240fbb66c89f98a11988c
msgid "opscode-erchef, current"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_current.rst:4
# 788bf3672da748df8642cc8fe47808b9
msgid "The |service erchef| service's ``current.log`` file contains a history of stack traces from major application crashes."
msgstr ""

#: ../source/runbook.rst:159
# b2fe499933ec44d2840f882731dacf21
msgid "opscode-erchef, erchef"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:4
# f3b4ca21b6c447bdbcb2b97f2cbf0230
msgid "The |service erchef| service's ``erchef.log`` file contains a history of API requests that have been processed by |erchef|. These logs can be rotated quickly, therefore it is generally best to sort them by date, and then find the most recently updated log file:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:10
# 471b30c4702145238c99a764e63fa45a
msgid "The following is an example log entry:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:18
# 3ac174d6ebd64a0daa8c26e3bbdb2a00
msgid "The HTTP method (``POST``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:19
# fd4cfcb87f004357863d2222e2f28ac5
msgid "The HTTP path (``/organizations/srwjedoqqoypgmvafmoi/environments``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:20
# 627660538b0a4f3ca521af9ab36c5bc4
msgid "The message (``{created,<<”_default”>>}``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:21
# 6c7aa702c7a34e75803d1081f32d039d
msgid "The organization name (``org_name=srwjedoqqoypgmvafmoi``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:22
# d8286e7e29ea49eda6a5ee60abac190c
msgid "The timestamp (``2013-08-06T08:54:32Z``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:23
# abd58b1e25b6476b846fdc0938af678b
msgid "The name of the user and/or |chef client| which made the request (``pivotal``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:25
# 5edee6a2a1524b699e77c6ce09f6ecf6
msgid "In addition, the log file may contain additional entries that detail the amounts of time spent interacting with other services:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:27
# e8fe1ae3db9845fbac93f94e60d27b9a
msgid "``rdbms_time`` (the time spent talking to the |service postgresql| service)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:28
# dc40eb537c3f46b090d05de1103ef70d
msgid "``req_time`` (the request time)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:29
# 652c50e410c3466e983da8a6804a6e36
msgid "``solr_time`` (the time spent talking to the |service solr| service)"
msgstr ""

#: ../source/runbook.rst:163
# 6e0e376500a24ff0853616242d7ed728
msgid "Application"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_application.rst:4
# b36bb21667864e7187216a10d740ecd2
msgid "Application logs are created by the services directly, and may require log rotation policies to be applied based on organizational goals and the platform(s) on which the services are running."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:4
# fb65894fcbed4a47a886ba7652c83063
msgid "The ``nginx`` service creates both supervisor and administrator logs. The administrator logs contain both access and error logs for each virtual host utilized by the |chef server|. Each of the following logs require external log rotation."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:10
# 457bdf8a8a394917a1db8a953b8d1200
msgid "Logs"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:12
# d1c0a51650034689a52444bec79185a4
msgid "``/var/log/opscode/nginx/access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:13
# d0ffafcc96f848f0b19f069c2a36f1f2
msgid "The Web UI and API HTTP access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:14
# 8445a5f596dd494cb0bbc61d57430af2
msgid "``/var/log/opscode/nginx/error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:15
# d5f3beb86bbf48e6b6583f19cd771174
msgid "The Web UI and API HTTP error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:16
# aac1444419b346f7b8dd595725e82ef5
msgid "``/var/log/opscode/nginx/internal-account.access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:17
# 21bf0ccecdae47b19ca8229ffaf75f0d
msgid "The ``opscode-account`` internal load-balancer access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:18
# 6ae58c7ba0e240e39ac1ef2bb0f9c263
msgid "``/var/log/opscode/nginx/internal-account.error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:19
# 929022119a944813b913b468a958a04f
msgid "The ``opscode-account`` internal load-balancer error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:20
# ba132d76e5b7403b9314f0ab9443bcb2
msgid "``/var/log/opscode/nginx/internal-authz.access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:21
# 3778eb4986364c75a1ee508c2ed54b9e
msgid "The ``opscode-authz`` internal load-balancer access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:22
# 80357651e6ca42f3ba2aca72898a1168
msgid "``/var/log/opscode/nginx/internal-authz.error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:23
# 79b9f2a3e7c64218b4e9d01f9ad7ee88
msgid "The ``opscode-authz`` internal load-balancer error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:24
# 9b894a62597f4f18a2f563a7fd8a3a4e
msgid "``/var/log/opscode/nginx/internal-chef.access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:25
# 5ca45eb9cdfe4e3bbdc94da632630f57
msgid "The ``opscode-chef`` and ``opscode-erchef`` internal load-balancer access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:26
# 6a0339ba57db4395846183fb96c90d33
msgid "``/var/log/opscode/nginx/internal-chef.error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:27
# d977dec71410466fb521b96422de82fe
msgid "The ``opscode-chef`` and ``opscode-erchef`` internal load-balancer error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:28
# b411063080494b4f99adb0172d95e595
msgid "``/var/log/opscode/nginx/nagios.access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:29
# bd0505171dba4dc5993c05b206f85737
msgid "The ``nagios`` access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:30
# 65476ec4c71548c6b4a06f6d9fdaee80
msgid "``/var/log/opscode/nginx/nagios.error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:31
# f0c3e611571e4c4a97270e90b49dad1c
msgid "The ``nagios`` error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:32
# ac4a4ad7c6d943819bb766bd7ec5f8aa
msgid "``/var/log/opscode/nginx/rewrite-port-80.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:33
# 717e732ca0894cc48b12421a5f15887e
msgid "The rewrite logs for traffic that uses HTTP instead of HTTPS."
msgstr ""

#: ../../step_server_services/step_server_services_nginx_tail.rst:4
# 65cc06bd422b4ee3959f2d4a42584c45
msgid "To follow the logs for the service:"
msgstr ""

#: ../source/runbook.rst:172
# 88b5c4c9bf254a5d94bcd585ae144144
msgid "**Read Log Files**"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:4
# 375e3e17bb914d8e97fe02b80ed7c31b
msgid "The |service nginx| access log format is as follows:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:15
# 0d9edc1c427648b5b50129341c1b2fdf
msgid "A sample log line:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:31
# ea5ef51e47614bc8af9be7b5aae87ce5
msgid "Field descriptions:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:37
# ba5c162fa2ef497fa3fc42fbd9b8e2c2
msgid "Field"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:39
# 9ba6c7fec6ac4d0aacef2297546ea06b
msgid "``$remote_addr``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:40
# 59da8a9bb53642b5877c65e2b3eaec91
msgid "The IP address of the client who made this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:41
# 0a892e1019c444c48f2f3259dd3c0f30
msgid "``$remote_user``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:42
# 2ff39938b3bf47e6916487be9eae51d6
msgid "The HTTP basic auth user name of this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:43
# cdbe547717ac4a76aa69841cd0ff6543
msgid "``$time_local``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:44
# 500bab01b2124ca0bb6290179dea2d11
msgid "The local time of the request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:45
# 8e84dc7a1a754ce1ae5de41de54a4e38
msgid "``$request``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:46
# 5913901ff43a4d00a8a48c7356b74fc7
msgid "The HTTP request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:47
# 4f4a85365791404bbe66bca3855c08df
msgid "``$status``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:48
# 8835ee18147d4c89a538b9a351a8b509
msgid "The HTTP status code."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:49
# a035307f810a43e7be1840d029a77e14
msgid "``$request_time``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:50
# f168c2cad13e44b8a60f6641c76cec5f
msgid "The time it took to service the request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:51
# c94d4bb40bc04aba81fff90fdba5d77b
msgid "``$body_bytes_sent``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:52
# 44f18e21e5b846148bbe7fc1fc5feeee
msgid "The number of bytes in the HTTP response body."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:53
# 852d9500e36b479f9b9fff6d5b8c2814
msgid "``$http_referrer``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:54
# 3a67e8a059a94438b1897ebff6a551d6
msgid "The HTTP referrer."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:55
# 9e46fba8c5cd41f9812d84dccb9eed6e
msgid "``$http_user_agent``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:56
# caa12f8314734dbe9e43c11d923835de
msgid "The user agent of the requesting client."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:57
# 0f510ecea9a2401c857f891a6b0de4ec
msgid "``$upstream_addr``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:58
# 9ce0bf3453ee4f5890c924e57509d0f4
msgid "The upstream reverse proxy used to service this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:59
# c7aac84203a04e0e800189faa9b90f0c
msgid "``$upstream_status``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:60
# e9d61c2c84b04add8a948437876f8d53
msgid "The upstream reverse proxy response status code."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:61
# f145acbe6ecf42abb203a0a8d9bda281
msgid "``$upstream_response_time``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:62
# 2d74638b99ba4053ad8524cb874ab841
msgid "The upstream reverse proxy response time."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:63
# a0e366f8af04496d866f5866849e7b20
msgid "``$http_x_chef_version``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:64
# 64e638b05a1541cfa234b984883e9469
msgid "The version of |chef| used to make this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:65
# 9a8b256a25b749869d518af861933151
msgid "``$http_x_ops_sign``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:66
# 720b259c1a0f474da9932af6d71f0056
msgid "The version of the authentication protocol."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:67
# e37daf5d82ea4ce7960719af519d874e
msgid "``$http_x_ops_userid``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:68
# b4b550a7ca634f3a8b191b111d161dd2
msgid "The client name that was used to sign this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:69
# c5ba7c32428b489e89b6014790164812
msgid "``$http_x_ops_timestamp``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:70
# b2570c960f604402adc6e3f0942062a6
msgid "The timestamp from when this request was signed."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:71
# 77487735c5914e8999c5cca5ea30981a
msgid "``$http_x_ops_content_hash``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:72
# de847c4d6b5747a5bf742fb900ac2cfc
msgid "The hash of the contents of this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:73
# 5ebad32e8249450d800e01f5d5cd1d69
msgid "``$request_length``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:74
# 0cd6ed772f114389908b1d2bfeb588a5
msgid "The length of this request."
msgstr ""

#: ../source/runbook.rst:183
# ee9bd55b744a47eba9a112a7d5997db7
msgid "Firewalls and Ports"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports.rst:4
# 9d25a8e0df3e431294de3d72e7ed3464
msgid "All of the ports used by the |chef server| are TCP ports. Refer to the operating system's manual or site systems administrators for instructions on how to enable changes to ports, if necessary."
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_listening.rst:5
# 7a54c25571454a9ea90c112beab2ad4f
msgid "All services must be listening on the appropriate ports. Most monitoring systems provide a means of testing whether a given port is accepting connections and service-specific tools may also be available. In addition, the generic system tool |telnet| can also be used to initiate the connection:"
msgstr ""

#: ../source/runbook.rst:190
# 4369a9bbe4764bcab581e09ebbbb8f7d
msgid "Standalone"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:4
# ef47350ab41045feb31221f6aec3f211
msgid "For a standalone |chef server| installation, and if host-based firewalls (iptables, ufw, etc.) are being used, ensure that the following ports are open:"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:10
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:10
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:10
# 4dbefbdab8094edd9f2277a4a9965bec
# 9ababf0ebdd54caea6fee93726e7ae6b
# 68ba630e62aa43b9a95f7da9ccefd45c
msgid "Port"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:11
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:11
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:11
# 9ef0d9a7c83b4b62ae0b59336085d31f
# 80905b9cdec249309320342b8af3647d
# 213e575d13b9402abd53eb1feece2cae
msgid "Service"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:12
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:12
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:12
# c5892d33544647648d7d558b3f246604
# 1e4335a9a86345bf97a5916a6461861f
# 1289c4a451c241468be36ad52a5bb94d
msgid "External"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:13
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:13
# 4597f0e399ed4134b42121f4b4724f59
# 98b4850e98e041aeaecb68d1b50e8af8
msgid "80"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:14
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:17
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:14
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:17
# fb0e1b06c49b4ccf80993729538ae1f0
# 5e70bf18441c45509177e6784de0685e
# 4c58ea1381c74fee917f32f594bbd014
# 2821674982134460a0f0ddc243bae1b7
msgid "|service nginx|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:15
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:18
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:15
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:18
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:15
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:18
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:21
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:24
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:27
# 487209b740c14d2ca16e374913bfdb5f
# d4deb0e8d0ab410393e5695f7b97104c
# e4e8122aab0e4d7f9e32452367e25688
# dff37b4e03b24860b07418ea07d5a1c0
# 1d503a01ff554d99a81b574307a4c157
# d6fa73c445e4457ebc94736bfc2b93ae
# f2523dab0ae9457baf77ad7a3b247d10
# 53257ce121bc498bb0644155ca42a2b2
# 23615442f4584fdcad64ea43ef0dae3f
msgid "yes"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:16
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:16
# d96de02f7d3e4aeab183e398ee051929
# d34914fdfd304a77966791edbcd30cd1
msgid "443"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:19
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:19
# 1a13c7ab92c549d3b7962a3f0d1fffa0
# 8cd224b96954455e9519838d85711bdc
msgid "8000"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:20
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:20
# d150644fada2416781c95ea76165ad2d
# 9c160211d5664bca80f1bd11a238b2f6
msgid "|service erchef|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:21
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:24
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:27
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:30
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:33
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:36
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:39
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:42
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:45
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:48
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:51
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:21
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:24
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:27
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:30
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:33
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:30
# f4d3874b29cc4d78994fea300a675477
# 9b49500c90da4ce083756e37109560cb
# 384e1bd3844746d5b1d72855dd13d8f4
# ed996419247640c7a465e4f49deb6dbf
# 3fbec6a9bb754b22b51320043e3388e1
# faed076d71d145de95f03d9d6e89cbea
# 9b243ab712654e47ac093da577148163
# 884ec27a3f09451cae92879ac4bed005
# 7c95ab69751d4aaa87de5055aa3e7398
# 8b49efe173de4f5a986afccc48484f0a
# e03f9f5739ef41f49e7c8be92cb5ced4
# b881c8911f1c4ebfacf9d7e8e86ce54a
# 9aa1d6c529d24dce963b6802ff2097e2
# e4afa4760ef04f78808c2f3a57b4bd19
# 806dd0a4cea3438e94a2df4c50eebe13
# b0497f1e99ed47f19561fe414dfd56ce
# ba74059806ac46ef87c47c02ad8cf502
msgid "no"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:22
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:22
# d2c7866e1449438f9d5b504bfa1dea71
# 416183a01d644b779b1e438e360e9776
msgid "9090"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:23
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:23
# 6e6c9759842d4be2ab82bad2aa935173
# 0eba15aad23c4424a403c8134352c61e
msgid "|service ocid|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:25
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:25
# c57b21c12ba841a3b9fb1b2c8ca96b4f
# 7f6c2e41658444789da4bec1de7c2f6f
msgid "9463"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:26
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:26
# 2e9651f88dd14168a55dd313e45c10a9
# eac9d3894726491aa11c877d006bc3fb
msgid "|service bifrost|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:28
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:28
# 11f0434176ca41acab9a3112717f4a21
# a5e461b221864cea841f7d2890c95945
msgid "9680"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:29
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:29
# e2027220ac0e44228287737454a62b6c
# 958f7b0495ce4d01bb3aeeca11ecb2e4
msgid "|api chef server| internal LB port"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:31
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:31
# e9716e59d22b453a98fc3fa1504024da
# a02bb1a5b34347339da69b39424c8028
msgid "9683"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:32
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:32
# 53e97c5c7e73419688655f8244a4dc70
# c0a147eed3294a1bb20e844ea1da0b33
msgid "|service bifrost| internal LB port"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:34
# 582916e3381745519fe5a0756cd6bfd0
msgid "5984"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:35
# 3593df768cff4404a59b9a88cb3f8d53
msgid "|service couchdb|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:37
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:13
# 7ca72cab6b8b48848a32d861428f676a
# 4f006c12e40d41bdba052a8593384715
msgid "8983"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:38
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:14
# fbb9dd0b44b44e13af1cb4885ae0ae4b
# 452350085d2647dfbc82a081a9082d87
msgid "|service solr4|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:40
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:16
# 4f12550ccd8b415588ca7e3a5adcb404
# 1983573d44684a47814f437df53ae2d2
msgid "5432"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:41
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:17
# a9e0fe9ac4824342a0a71f70bbd8ef39
# 3939a61196d145e0b651e57de05648e1
msgid "|service postgresql|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:43
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:19
# af63c1d3eaaf47cd8cb07e2acfba55ae
# e605e31d7d83425c98db91c92ee7a7e3
msgid "5672"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:44
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:20
# 353384502132427db31972f7e62e86ef
# 5bdcc2c7ba3e4663810af113ac552be8
msgid "|service rabbitmq|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:46
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:22
# d54780433ad6422cb047eac62a9dd60a
# dfc0ee854f2a4a4a8ffbd665cd9bc455
msgid "16379"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:47
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:23
# ebb00fa8a2234c0aa1978858c9020c94
# 7b80c24130934b07a97a4cb159fe1c91
msgid "|service redis_lb|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:49
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:25
# f9735992d4b84f4fb353f720bc90e4f5
# 8622232820d24aed97d862007a176b82
msgid "4321"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:50
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:26
# 762c55d96a2e491aa6a0d9cfd32d8d47
# f350c7a2d0684974b9f24da07fada7fa
msgid "|service bookshelf|"
msgstr ""

#: ../source/runbook.rst:194
# 06838c3727244e66a77525c4d96b4b75
msgid "Front End"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:4
# a65ea9a730c246b996c41b2baad5ee7b
msgid "For front-end servers in an |chef server| installation:"
msgstr ""

#: ../source/runbook.rst:198
# cb7f1e7dc27042bfb10699964b4ffc5f
msgid "Back End"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:4
# a78b001a1a124e4b909c87779b603b0c
msgid "For back-end servers in an |chef server| installation:"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:28
# 73e1bb91979b48c09f75b0fff6b9a14c
msgid "7788-7799"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:29
# a171769cc9cf404cb6ad4c8c5329b72f
msgid "|drbd| This port range must be open between all back end servers."
msgstr ""

#: ../source/runbook.rst:207
# 9d7e86cdec304891afe27803567823a5
msgid "Services"
msgstr ""

#: ../source/runbook.rst:208
# ef9ae4a7f9a8433e8e0ebfbd097ac99d
msgid "The following subcommands are built into the |chef server ctl| command line tool."
msgstr ""

#: ../source/runbook.rst:211
# 45ed357d07044cebbaf0d1685f550317
msgid "hup"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_hup.rst:6
# 8768fbd6562248cebdfd88cb7700cc4d
msgid "The ``hup`` subcommand is used to send a ``SIGHUP`` to all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:215
# 81d55a13fc1a4fe1bfbd2d2eb5efe4a0
msgid "int"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_int.rst:6
# 7cd5ae96b0f24d69869a5cd3b0c56c85
msgid "The ``int`` subcommand is used to send a ``SIGINT`` to all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:219
# b0b9fa83b1684730b498bfe8407c6aa6
msgid "kill"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_kill.rst:6
# 46560c6af4074271aeb541814c49fe51
msgid "The ``kill`` subcommand is used to send a ``SIGKILL`` to all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:223
# 22789ed35b374cf488259349734f5d72
msgid "once"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_once.rst:6
# a42f024a9b4c465c9f20370caa92e182
msgid "The supervisor for the |chef server| is configured to restart any service that fails, unless that service has been asked to change its state. The ``once`` subcommand is used to tell the supervisor to not attempt to restart any service that fails."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_once.rst:8
# ee70e251a8e24bd9b5073797042047d0
msgid "This command is useful when troubleshooting configuration errors that prevent a service from starting. Run the ``once`` subcommand followed by the ``status`` subcommand to look for services in a down state and/or to identify which services are in trouble. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:227
# 190f6a82bf8d457fb6b7b8892ef068d0
msgid "restart"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_restart.rst:6
# 9a3ef0ad441c40d4b1a9c7f691add2bc
msgid "The ``restart`` subcommand is used to restart all services enabled on the |chef server| or to restart an individual service by specifying the name of that service in the command."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_restart.rst:8
# c22d4aad5cb54201a24e974ee06c77fb
msgid "When running the |chef server| in a high availability configuration, restarting all services may trigger failover."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_restart.rst:16
# 4f05009d928a4314b78dfed5fd8f7eb2
msgid "where ``name_of_service`` represents the name of any service that is listed after running the ``service-list`` subcommand. When a service is successfully restarted the output should be similar to:"
msgstr ""

#: ../source/runbook.rst:231
# 12590109f61f4ee8b2e6cd6fae115d10
msgid "service-list"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_service_list.rst:6
# 5154dc64e52b4590aa7dbf2d4de02005
msgid "The ``service-list`` subcommand is used to display a list of all available services. A service that is enabled is labeled with an asterisk (*)."
msgstr ""

#: ../source/runbook.rst:235
# 0bd8334bd1514a9faeeca0cd36dc5a23
msgid "start"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_start.rst:6
# 8169155703164304913acf477d445ba5
msgid "The ``start`` subcommand is used to start all services that are enabled in the |chef server|. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_start.rst:14
# f8b584e3616643a991e5d706baadab46
msgid "where ``name_of_service`` represents the name of any service that is listed after running the ``service-list`` subcommand. When a service is successfully started the output should be similar to:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_start.rst:20
# b436b60d408140a491f38e4f13ca6aaa
msgid "The supervisor for the |chef server| is configured to wait seven seconds for a service to respond to a command from the supervisor. If you see output that references a timeout, it means that a signal has been sent to the process, but that the process has yet to actually comply. In general, processes that have timed out are not a big concern, unless they are failing to respond to the signals at all. If a process is not responding, use a command like the ``kill`` subcommand to stop the process, investigate the cause (if required), and then use the ``start`` subcommand to re-enable it."
msgstr ""

#: ../source/runbook.rst:239
# d93e68538a734d6184c51bccd38a6994
msgid "status"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:6
# 2b25eda7a04341a8874036a6f922eb45
msgid "The ``status`` subcommand is used to show the status of all services available to the |chef server|. The results will vary based on the configuration of a given server. This subcommand has the following syntax:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:12
# a9dc4cced7f44365930259752ba6ce54
msgid "and will return the status for all services. Status can be returned for individual services by specifying the name of the service as part of the command:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:20
# 3b77581992b044fcac1482e040f15057
msgid "When service status is requested, the output should be similar to:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:26
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:25
# 9fd98519be3448adafb911c02ab0112c
# 264f6407a91f4d1e9c6c1216dc497ee5
msgid "where"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:28
# c5d0b953928e469aac6bee04db4a314f
msgid "``run:`` is the state of the service (``run:`` or ``down:``)"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:29
# d0c8d9c8bee3430a92c3bed96eca9dfe
msgid "``service_name:`` is the name of the service for which status is returned"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:30
# 89eebecac06a4f91bf8125b790d8b8c1
msgid "``(pid 12345)`` is the process identifier"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:31
# 1d62a0c33f9047e8a7d2298cbd47a141
msgid "``12345s`` is the uptime of the service, in seconds"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:33
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:20
# 18d6c452211d45afa36cee47badcb238
# f734d9979d0a4f75b9343ad0b512cc6a
msgid "For example:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:39
# 97d41a0e28fb429bbe2f411b40a5fc00
msgid "By default, |runit| will restart services automatically when the services fail. Therefore, |runit| may report the status of a service as ``run:`` even when there is an issue with that service. When investigating why a particular service is not running as it should be, look for the services with the shortest uptimes. For example, the list below indicates that the |service erchef| should be investigated further:"
msgstr ""

#: ../source/runbook.rst:243
#: ../source/runbook.rst:383
# bab71b32679e451f98a3e8f2b70faced
# a57e5554d4b84e61883d6f4ea715c339
msgid "High Availability"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:6
# 51d76f9c21694816a3c1472774ea4462
msgid "A typical status line for a service that is running any of the |chef server| front-end services is similar to the following:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:12
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_syntax.rst:12
# 22bac9643d6a4adaa683f5fe92d46e2c
# 083b94111f9c49fabe55913c30a010fc
msgid "where:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:14
# fffe0008644946338802c127993adb39
msgid "``run`` describes the state in which the supervisor attempts to keep processes. This state is either ``run`` or ``down``. If a service is in a ``down`` state, it should be stopped"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:15
# eff5e4f74c0e4b58abb9b7962cbad6e4
msgid "``name_of_service`` is the service name, for example: ``opscode-solr4``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:16
# 621cdef860374d31b2a0e95655b14faf
msgid "``(pid 1486) 7819s;`` is the process identifier followed by the amount of time (in seconds) the service has been running"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:17
# 1df6f7c93b4640998761d8e68a7e9d48
msgid "``run: log: (pid 1485) 7819s`` is the log process. It is typical for a log process to have a longer run time than a service; this is because the supervisor does not need to restart the log process in order to connect the supervised process"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:19
# 96b3dc948c1f425792d7d05b43bae562
msgid "If the service is down, the status line will appear similar to the following:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:27
# d9bda72a06e640168937b35f185e8205
msgid "``down`` indicates that the service is in a down state"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:28
# e04d3f078e6e479aa145a895486ff1de
msgid "``3s, normally up;`` indicates that the service is normally in a run state and that the supervisor would attempt to restart this service after a reboot"
msgstr ""

#: ../source/runbook.rst:251
# 0cc5386043bd4d2ab6ee821c0d6f4582
msgid "stop"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:6
# 19d06fd476954e6e9a7b1e570e25e015
msgid "The ``stop`` subcommand is used to stop all services enabled on the |chef server|. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:14
# 372f4866e17749faaca76b4707b9cbeb
msgid "where ``name_of_service`` represents the name of any service that is listed after running the ``service-list`` subcommand. When a service is successfully stopped the output should be similar to:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:26
# 7313a5941bfd47fbbde4f20bf8e18194
msgid "will return something similar to:"
msgstr ""

#: ../source/runbook.rst:255
# 4e592f25277b403b903128c22fcfce26
msgid "tail"
msgstr ""

#: ../source/runbook.rst:259
# 6759d393a49242ae9f73cabbd9970353
msgid "term"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_term.rst:6
# c5b294e119e943408e989b7225cee4b9
msgid "The ``term`` subcommand is used to send a ``SIGTERM`` to all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:263
# 10fec4ccf5a24bcb867b34a19594a2b5
msgid "SSL Configuration"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:4
# e199367bc67646a4b5b780f9e5409a46
msgid "Configuration of |ssl| for the |chef server| using certificate authority-verified certificates is done by placing the certificate and private key file obtained from the certifying authority in the correct files after the initial configuration of |chef server|."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:6
# 8b599180072b4ef2baf5637635b9ac21
msgid "Initial configuration of the |chef server| is done automatically using a self-signed certificate to create the certificate and private key files for |nginx|."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:8
# 0abab76076844b709c4892e4874da702
msgid "The locations of the certificate and private key files are"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:10
# 3739d66357cb4ad9a24054f563f645a0
msgid "``/var/opt/opscode/nginx/ca/FQDN.cert``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:11
# 8283f18575214842a9441413169cd922
msgid "``/var/opt/opscode/nginx/ca/FQDN.pem``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:13
# 2f0f3411571045da80368216df2dcfad
msgid "As the |fqdn| will have already been configured previously, simply replace the contents of these two files with the certifying authority's files."
msgstr ""

#: ../source/runbook.rst:267
# 976b6718aeed4323b35ba690e6f505bd
msgid "The |fqdn| for the |chef server| should not exceed 64 characters when using |open ssl|. |open ssl| requires the ``CN`` in a certificate to be no longer than 64 characters."
msgstr ""

#: ../source/runbook.rst:269
# 50b250aa78cb4e5e8f6bacd64c4d72fa
msgid "By default, the |chef server| uses the |fqdn| to determine the common name (``CN``). If the |fqdn| of the |chef server| is longer than 64 characters, the ``reconfigure`` command will not fail, but an empty certificate file will be created. |nginx| will not start if a certificate file is empty."
msgstr ""

#: ../source/runbook.rst:272
# 2e0acd67c0af4a328c468facdec2bb0f
msgid "SSL Certificates"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:4
# e87dc6aa0d5a4901b50f84e7e36d4bc9
msgid "The |chef server| can be configured to use |ssl| certificates by adding the following settings to the server configuration file:"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:10
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:10
#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:10
#: ../../includes_server_tuning/includes_server_tuning_general.rst:10
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:10
#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:10
#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:10
#: ../../includes_server_tuning/includes_server_tuning_expander.rst:10
#: ../../includes_server_tuning/includes_server_tuning_solr.rst:10
#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:14
#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:10
#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:10
# e8f1d4a2f2284ba4bc6801b349f23fe6
# 946fab6bf4104e8cae8ea94e65a3b787
# 0b87495b4c27430fb87bf1b1b3fcff89
# 1d52203e0bc84fc7ac8ce837e91f5334
# 45b1a80a8d584d63ac9f61892e2cb0ef
# 76218c165dcd49e5b45c5a239dc1dfcc
# 2f9525a285a04e6caa1ae67e236439a5
# eafcb1b5163248a0b7cb184661eb604e
# 95c15957965545cda761b30415ad362f
# 2ab72e514eee40248edcf82ffea5bb10
# 7cd7bcdc53ec4589b1ca829b379304f5
# cd380a8586d14c1f8a162f8c05e21ac4
msgid "Setting"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:12
# d87fc78e30b54b85a38c8c0947cf3619
msgid "``nginx['ssl_certificate']``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:13
# 3af87f84d8a7493d90ac6bb2c6113a19
msgid "|ssl_certificate|"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:14
# 0932d62e5e9e42939cb44ed3255ed912
msgid "``nginx['ssl_certificate_key']``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:15
# 3f99fe6307ab479b8eb0009c09644f70
msgid "|ssl_certificate key|"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_custom.rst:17
# 506a9848450a43748880796bbcb532da
msgid "and then setting their values to define the paths to the certificate and key."
msgstr ""

#: ../source/runbook.rst:276
# 356134272de0475cbd35bf27f95f9735
msgid "Regenerate Certificates"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:4
# 8e941b2ae7e549e49deae72cbf738054
msgid "|ssl| certificates should be regenerated periodically. This is an important part of protecting the |chef server| from vulnerabilities and helps to prevent the information stored on the |chef server| from being compromised."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:6
# ced3019575fb47cf947ef8959adefb92
msgid "To regenerate |ssl| certificates:"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:8
#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:30
#: ../../includes_server_storage/includes_server_storage_drbd_resize_device.rst:18
# d4740a869f8a4971bf9b77bfe16a4919
# 0b47d7329c714db49e062a2f29423a35
# 1e8db8ce43684a18a3f9663ac7066d41
msgid "Run the following command:"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:14
# 706963f73e4d433ab45c1143898ec5f7
msgid "The |chef server| can regenerate them. These certificates will be located in ``/var/opt/opscode/nginx/ca/`` and will be named after the |fqdn| for the |chef server|. To determine the |fqdn| for the server, run the following command:"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:20
# 126ed7ae87d543a79df9ff219fbaff2d
msgid "Please delete the files found in the ca directory with names like this ``$FQDN.crt`` and ``$FQDN.key``."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:22
# 9a06677377454166ad2abdf09eb652e7
msgid "If your organization has provided custom |ssl| certificates to the |chef server|, they are located in ``/etc/opscode/chef-server.rb`` as values for the ``nginx[‘ssl_certificate’]`` and ``nginx[‘ssl_certificate_key’]`` settings. Delete these files and regenerate new keys using the same authority."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_cert_regenerate.rst:24
# 6d3e0fe6a39d40dc85f407f4afd368f4
msgid "Run the following command, |chef server|-generated |ssl| certificates will automatically be created if necessary:"
msgstr ""

#: ../source/runbook.rst:280
#: ../source/runbook.rst:309
# 3fa8831bee114f8f9ea0905494655677
# 34ad4a64a7c942959f13174cd10911d7
msgid "SSL Protocols"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:4
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:4
# 9ee8e45857af4224b5f1f8e93ba59c8b
# 1bb9242368de489ea88e5af5fddb7846
msgid "The following settings are often modified from the default as part of the tuning effort for the |service nginx| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:12
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:12
# 83dc23e4dce64573b269c1ee36bd1c76
# b2064f6f9b494aed8ca752904d860611
msgid "``nginx['ssl_ciphers']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:13
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:13
# 10a0c6f52415425fbac77458894024ce
# 6564dbca50f24176960a6a6acaca7414
msgid "|ssl_ciphers| To favor AES256 with ECDHE forward security, drop the ``RC4-SHA:RC4-MD5:RC4:RSA`` prefix. For example:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:19
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:19
# af47a9a89c2e462c8b1eda27160f4732
# b40aba25b64840c394b3334698247b2a
msgid "``nginx['ssl_protocols']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:20
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:20
# 3850d9fd728f49ac950c13c6e11834f9
# 8172677ec4f34b3182eaaf4d2a7e7043
msgid "|version protocols_ssl| |ssl| 3.0 is supported by the |chef server|; however, |ssl| 3.0 is an obsolete and insecure protocol. Transport Layer Security (TLS)---TLS 1.0, TLS 1.1, and TLS 1.2---has effectively replaced |ssl| 3.0, which provides for authenticated version negotiation between the |chef client| and |chef server|, which ensures the latest version of the TLS protocol is used. For the highest possible security, it is recommended to disable |ssl| 3.0 and allow all versions of the TLS protocol.  For example:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:26
#: ../../includes_server_tuning/includes_server_tuning_nginx.rst:26
# 81dc1f3204364947bf335d454e063b41
# de8d269cd7fd4d8f8a9cff9b55817ae9
msgid "See https://wiki.mozilla.org/Security/Server_Side_TLS#Recommended_Ciphersuite for more information about the values used with these settings."
msgstr ""

#: ../source/runbook.rst:284
# 1430de8cddf9498f938d520771e89296
msgid "|chef client| Settings"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:4
# d3401ae7c58b4f09b306277c5b04b9d3
msgid "Use following |client rb| settings to manage |ssl| certificate preferences:"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:12
# 6e6d952d374f489c8b2f354fdc4484f8
msgid "``local_key_generation``"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:13
# 912ef094298246e79ff04607032d5742
msgid "|generate local_keys| Default value: ``true``."
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:14
# 252d1879a8b44279b27f39ac671dff94
msgid "``ssl_ca_file``"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:15
# 49047524b8774b90899fa60e90a77afe
msgid "|ssl_ca_file|"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:16
# 3798f85d6fbb41099df64d0fc9a3bc1a
msgid "``ssl_ca_path``"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:17
# 7d52cd745dd14f61b943b373af9b8deb
msgid "|ssl_ca_path|"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:18
# 57a1e739d2724121bc533b0f8558f10d
msgid "``ssl_client_cert``"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:19
# 588db621ae3840f191816a8ab41768a8
msgid "|ssl_client_cert| Default value: ``nil``."
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:20
# 6263d4cb418b42a68ef9235939bf6e49
msgid "``ssl_client_key``"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:21
# 351872f95b4a4795a6ef94241a638e6a
msgid "|ssl_client_key| Default value: ``nil``."
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:22
# b0373f86850e4b92a063ce05f2b45094
msgid "``ssl_verify_mode``"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:23
# 73c67c1fb9114353a7cc92887aec454c
msgid "|ssl_verify_mode|"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:25
# 483ae603b0494f65b60159ed8795c726
msgid "|ssl_verify_mode_verify_none|"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:26
# 635ca66ec43441b892381cced0a73eb1
msgid "|ssl_verify_mode_verify_peer| This is the recommended setting."
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:28
# 23203b15ccdf401aadb50774b7134bc3
msgid "Depending on how |open ssl| is configured, the ``ssl_ca_path`` may need to be specified. Default value: ``:verify_peer``."
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:29
# 028efbfefac74e8b9a615fe4c47de331
msgid "``verify_api_cert``"
msgstr ""

#: ../../includes_chef_client/includes_chef_client_ssl_config_settings.rst:30
# 21226125394c4323af4956a36050912c
msgid "|ssl_verify_mode_verify_api_cert| Default value: ``false``."
msgstr ""

#: ../source/runbook.rst:288
# fd8791554d034936bdb5618a9af7cbd9
msgid "Server Tuning"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning.rst:4
# eb22c34a3a5a42eaa50992c3c025c5ab
msgid "The server configuration file contains a list of all the configuration options available for the |chef server|. Some of these values should be modified for large-scale installations."
msgstr ""

#: ../source/runbook.rst:292
# 2a5dcd66743740a9a58cd44e1a7f4146
msgid "|note enterprise_chef_tuning|"
msgstr ""

#: ../source/runbook.rst:296
# bfc2948c86a94eb4919a5bb9c900ec64
msgid "Customize the Config File"
msgstr ""

#: ../../includes_config/includes_config_rb_server.rst:4
# b064c68f9a7a48cb9fddf2fcf381af39
msgid "The |chef server rb| file contains all of the non-default configuration settings used by the |chef server|. (The default settings are built-in to the |chef server| configuration and should only be added to the |chef server rb| file to apply non-default values.) These configuration settings are processed when the ``chef-server-ctl reconfigure`` command is run, such as immediately after setting up the |chef server| or after making a change to the underlying configuration settings after the server has been deployed. The |chef server rb| file is a |ruby| file, which means that conditional statements can be used in the configuration file."
msgstr ""

#: ../source/runbook.rst:300
# 2589656f1c734183a6e6065f2482d868
msgid "Use Conditions"
msgstr ""

#: ../../step_config/step_config_add_condition.rst:4
# b557da6b28734efca7ba3e1f428ee9f7
msgid "Use a ``case`` statement to apply different values based on whether the setting exists on the front-end or back-end servers. Add code to the server configuration file similar to the following:"
msgstr ""

#: ../source/runbook.rst:305
# 0831ba252ef74d52b6af788f7f3b7c24
msgid "Recommended Settings"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:4
# f52c9983d8c64af7adf3fec4512dfbd0
msgid "The following settings are typically added to the server configuration file:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:12
# a8dd42eb2c114ab589c6f3167f735846
msgid "``api_fqdn``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:13
# bff2e90470d74374a4fec0abaa1295fd
msgid "The |fqdn| for the |chef server|. This setting is not in the server configuration file by default. When added, its value should be equal to the |fqdn| for the service URI used by the |chef server|. For example: ``api_fqdn \"chef.example.com\"``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:14
# 3b3d745f7d6b40968a5a794c18f14dd8
msgid "``bootstrap``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:15
# 7d5682200aa942e7a00c35b328807985
msgid "Default value: ``true``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:16
# f821196eeaf940678c1113ee3d9671eb
msgid "``ip_version``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:17
# b52e9ed19bee4cc891b15aff80a1cc40
msgid "Use to set the IP version: ``\"ipv4\"`` or ``\"ipv6\"``. When set to ``\"ipv6\"``, the API listens on IPv6 and front end and back end services communicate via IPv6 when a high availability configuration is used. When configuring for IPv6 in a high availability configuration, be sure to set the netmask on the IPv6 ``backend_vip`` attribute. Default value: ``\"ipv4\"``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:18
# 2e42e71278774f36b36a822a5ae1b64d
msgid "``notification_email``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:19
# 142e662deb944d8bb68591b8c83c6490
msgid "Default value: ``info@example.com``."
msgstr ""

#: ../source/runbook.rst:313
# 35a7685a7af04ba289e57c74cdbc5720
msgid "Optional Settings"
msgstr ""

#: ../source/runbook.rst:314
# aaf4a2271fdc44179ddd0042ddfdd762
msgid "The following settings are often used to for performance tuning of the |chef server| in larger installations."
msgstr ""

#: ../source/runbook.rst:316
# 16f7992e69724187bb12e1ed7f9f7fd3
msgid "When changes are made to the |chef server rb| file, the |chef server| must be reconfigured by running the ``chef-server-ctl reconfigure`` command."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:4
# df2bf25408e8419aba0aba34ef6e1e4b
msgid "The following setting is often modified from the default as part of the tuning effort for the |service bookshelf| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:12
# 25e04d020e924decb05a25937564c8ea
msgid "``bookshelf['vip']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:13
# d3fce103f2b44b49a74aab8013253840
msgid "|ip_address virtual| Default value: ``node['fqdn']``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:4
# ac9f59bfdfb146f4a847f994fda592e2
msgid "The following settings are often modified from the default as part of the tuning effort for the |service erchef| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:12
# 6293834b8a2342829defa6b2c8b784f8
msgid "``opscode_erchef['db_pool_size']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:13
# 539ef4f4d93a46ecacacf5274f58ccda
msgid "|db_pool_size| If failures indicate that the |service erchef| service ran out of connections, try increasing the ``postgresql['max_connections']`` setting. If failures persist, then increase this value and also increase the value for ``postgresql['max_connections']``. Default value: ``20``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:14
# 5bfca6e29ed04bba9d8c670f1fc10683
msgid "``opscode_erchef['s3_url_ttl']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:15
# 58d15fc9456844d8a972b1b66dbe1516
msgid "|s3_url_ttl| If |chef client| runs are timing out, increase this setting to ``3600``, and then adjust again if necessary. Default value: ``900``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_expander.rst:4
# 238f8af0bdb54b62b2c41f7df58261ae
msgid "The following setting is often modified from the default as part of the tuning effort for the |service expander| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_expander.rst:12
# 53657f11b3f04e6586b88df9977e85e4
msgid "``opscode_expander['nodes']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_expander.rst:13
# 9048bbe91df8445e963127af56deac0b
msgid "|worker_processes| The |service expander| service runs on the back-end and feeds data to the |service solr| service, which creates and maintains search data used by the |chef server|. Additional memory may be required by these worker processes depending on the frequency and volume of |chef client| runs across the organization, but only if the back-end machines have available CPU and RAM. Default value: ``2``."
msgstr ""

#: ../source/runbook.rst:331
# 1fed5df8c9904f75931ec8870945a725
msgid "opscode-solr"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:4
# e1e7cc0efa7e4b239229827e0b961eb9
msgid "The following settings are often modified from the default as part of the tuning effort for the |service solr4| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:12
# 3c3d4d4e9c32437586ed56deeae9dda1
msgid "``opscode_solr['heap_size']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:13
# daf6828638a9409e899ad1dc048e2512
msgid "|heap_size solr|"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:15
# 9d0f3030e9064084bf435e44c01f6fa1
msgid "If |apache solr| is running out of memory, the ``/var/log/opscode/opscode-solr/current`` log file will contain ``SEVERE: java.lang.OutOfMemoryError: Java heap space``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:17
# 498597513cba4f89850155eae8c1b7d0
msgid "The default value should work for many organizations with fewer than 25 nodes. Suggested value: ``256`` per every 25 nodes. For example, an organization with 300 nodes, this value should be set to ``3072``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:18
# a51df17a3de0403caada842da39dda2f
msgid "``opscode_solr['max_field_length']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:19
# 751bb03177954749ae8cd50cdf74a7e2
msgid "|solr_max_field_length| Default value: ``100000`` (increased from the |apache solr| default value of ``10000``)."
msgstr ""

#: ../source/runbook.rst:334
# 78d00140cc7c4fd1a73483640bd15335
msgid "**Update Frequency**"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:4
# a07f6cacc76e4f33afed89a6e3e392cf
msgid "At the end of every |chef client| run, the node object is saved to the |chef server|. From the |chef server|, each node object is then added to the ``SOLR`` search index. This process is asynchronous. By default, node objects are committed to the search index every 60 seconds or per 1000 node objects, whichever occurs first."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:6
# 39a8cb005dc4483ab4518a6df5fcc383
msgid "|solr_update_frequency_caveat|"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:8
# c82a4679fccd42e9ba2e5d22a8cb7936
msgid "For |chef server|, these settings are configurable:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:16
# 290354cf06854b01aad05d620d155dec
msgid "``opscode_solr['commit_interval']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:17
# c3cf3fbe8ed3484abe26fbf4aa79105e
msgid "|solr_commit_interval| Default value: ``60000`` (every 60 seconds)."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:18
# 9e47e6f6776c4c91a3f9968ff54c815c
msgid "``opscode_solr['max_commit_docs']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:19
# 83df261970b541908ab3ea65e9b1931c
msgid "|solr_max_commit_docs| Default value: ``1000`` (every 1000 documents)."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:4
# ea90549b027041f89d1866dcda3594d4
msgid "The following setting is often modified from the default as part of the tuning effort for the |service postgresql| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:12
# ca48369d65c84f749d3b2ae1d94c2aed
msgid "``postgresql['max_connections']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:13
# 498323e021304c0fb649e9edadd78f88
msgid "|max_connections| This value should only be tuned when the ``erchef['db_pool_size']`` value used by the |service erchef| service is modified. Default value: ``350``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:4
# b4bd93bd7f6f4052a49ab8d3c8f1cae4
msgid "If there are more than two front end machines in a cluster, the ``postgresql['max_connections']`` setting should be increased. The increased value depends on the number of machines in the front end, but also the number of services that are running on each of these machines."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:6
# a717a8ab005542029c71a26627d14789
msgid "Each front end machine always runs the |service bifrost| and |service erchef| services."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:7
# 6c20fa0c29c445d08af6f0d5a1c8108c
msgid "The |reporting| add-on adds the |service reporting| service."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:8
# f645d53972094a2bad1741f98214524b
msgid "The |push jobs| service adds the |service push_jobs| service."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:10
# 3acd146f36614457ae1b8a146cc0ea4e
msgid "Each of these services requires 25 connections, above the default value."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:12
# 81714118d7354efb97af366c4feac1ff
msgid "Use the following formula to help determine what the increased value should be:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:20
# 33b8bf57f8674247a7fd6272b38eef8c
msgid "For example, if the current value is 350, there are four front end machines, and all add-ons are installed, then the formula looks like:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:4
# 1b1311f1c14b4291a12b2e2571419aa4
msgid "The following settings must be modified when the |chef analytics| server is configured as a standalone server:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:12
# d9433ed4564e47cba5b03051c11fe9a7
msgid "``rabbitmq['node_ip_address']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:13
# ec13b7438cdb44efa86f9edb04d1612b
msgid "|ip_address rabbitmq| Default value: ``\"127.0.0.1\"``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:15
# 3101f05cfdfa44f0b1bd6feb0d34d721
msgid "|analytics rabbitmq_settings| When the |chef analytics| server is configured as a standalone server, change this value to ``0.0.0.0``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:16
# 094a23478d9049f6979050d2a60f7d66
msgid "``rabbitmq['vip']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:17
# be64a660b89f44618efbe2b4f7c1e97e
msgid "|ip_address virtual| Default value: ``\"127.0.0.1\"``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:19
# 8a91662cb8b249f38812f0ad4f1bd893
msgid "|analytics rabbitmq_settings| When the |chef analytics| server is configured as a standalone server, change this value to the backend VIP address for the |chef server|."
msgstr ""

#: ../source/runbook.rst:350
# f7c5b5dfd6cd4858b18ecb700ada3485
msgid "Resize |drbd|"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd.rst:4
# 816a2df1c33140aa8e4e51c0afa24edd
msgid "|drbd| may be resized. First, make a backup of the |chef server| data."
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd.rst:6
# 51bf92ef7fa246b8ac17e7f02e17af9c
msgid "The mounted filesystem on the primary backend server is ``ext4``"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd.rst:7
# 224cf64b548f48beac8352ded050ee3e
msgid "The backing device for the mounted ``ext4`` filesystem is an LVM2 volume named ``/dev/opscode/drbd``"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd.rst:9
# 6082251caa7242d7b5abbd8e5dafe3f6
msgid "For more information about |lvm|, see http://www.tldp.org/HOWTO/LVM-HOWTO/. For more information about |drbd|, see http://drbd.linbit.com/users-guide/s-resizing.html."
msgstr ""

#: ../source/runbook.rst:354
# 2b32ef6a323a41569f5744d84a684fb4
msgid "Devices"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_device.rst:4
# abbc5b230ca64aaf9bf674c85cb21b63
msgid "After backing up the |chef server| data, make a note of the current size of the ``/dev/opscode/drbd`` logical volume and mountpoint. Run the following commands:"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_device.rst:10
#: ../../includes_server_storage/includes_server_storage_drbd_resize_vg.rst:10
#: ../../includes_server_storage/includes_server_storage_drbd_verify.rst:10
# 7145ebf57c91422a989961250461a519
# da74aac5e62d4fb88c9eca4671ed9309
# 953abddf27ef4005b9ee39608c4ae3d8
msgid "and then:"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_device.rst:16
# 3f9e9f5a4bb444bf9a5c09c1acc37236
msgid "Verify that |drbd| is in good shape on both backend machines. Both the primary and secondary machines should show states similar to ``Primary/Secondary UpToDate/UpToDate``."
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_device.rst:24
# aedc258e9c50440c8ea71841467b49a6
msgid "Save these results to compare them to the same data post-resize."
msgstr ""

#: ../source/runbook.rst:358
# 6929d54cee82473db4ef6bd52f070cf4
msgid "Volume Groups"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_vg.rst:4
# 079d867d9f8d48dd8df72aa1063567e2
msgid "Resize the volume group on both backend systems. Run the following commands and replace ``sdb1`` for the correct device name:"
msgstr ""

#: ../source/runbook.rst:362
# 4315d72c4b2e48bc9cf450e5655bb8fb
msgid "Logical Volumes"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_lv.rst:4
# 007957224a3a445c9cc0662c3827d13e
msgid "Resize the logical volumes identically on both backend machines. Due to differences in the space available for logical volumes on the primary and secondary backend machines (which is typically caused by existing snapshots), the size of the logical volume should be specified in absolute terms on both sides of the |drbd| link, rathern than in percentages. Be sure to leave about 20% of the total available space free on both sides of the |drbd| link, minus any existing snapshots. Run the following command and replace ``SIZE`` with a value similar to ``10GiB``:"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_lv.rst:10
# 93e59d6645fd41aa8f9e1aaaf3b0d0f8
msgid "For example, if the volume group has 10GB total, only 8GB should be allocated to the logical volume, which leaves 20% of the volume group available:"
msgstr ""

#: ../source/runbook.rst:366
# 5fba7917ec054f72885774dd02c53f36
msgid "Primary Backend"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_primary_backend.rst:4
# dc5a758fb7fb4942a72fb1ae44ffb857
msgid "Resize |drbd| on the current primary backend to extend the size of the |drbd| device. Run the following command:"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_primary_backend.rst:10
# 212579f4da0d4be780c2ba916e39cec9
msgid "The size of the ``/dev/drbd0`` backing device's mountpoint should grow. This change may take some time to complete, as |drbd| may want to synchronize the changes across the network, even though they are empty blocks."
msgstr ""

#: ../source/runbook.rst:370
# 884ebf7179c64af0907f58f84b066b0a
msgid "Primary File System"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_resize_primary_filesystem.rst:4
# de37c0ffaf0f46e1973699d3a3716645
msgid "Resize the file system only on the current primary backend. Run the following command:"
msgstr ""

#: ../source/runbook.rst:374
# cea3072a03f7472eae5079626c3ed57d
msgid "Verify Resize"
msgstr ""

#: ../../includes_server_storage/includes_server_storage_drbd_verify.rst:4
# f0a9b6a11b70473fa9ba84f29b4f2740
msgid "To verify the results of resizing |drbd|, run the following commands and compare the results to the same data that was collected prior to resizing |drbd|:"
msgstr ""

#: ../source/runbook.rst:379
# 7b8bc0d5ce994863ac03e4a38401ecd9
msgid "Backup and Restore"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore.rst:4
# 07e61609e6464fc2b62496b0996a6712
msgid "Periodic backups of |chef server| data are an essential part of managing and maintaining a healthy configuration and to help ensure that important data can be restored, if required."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:4
# cbfc9f3663da48a8af349e66ea8fff12
msgid "To configure backups on the backend servers in a |ha| configuration, set a |cron| job in ``/etc/cron.d/opc_snapshot`` similar to the following:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:15
# 9a34def7d85c47ebbc7c15a22cceb4e5
msgid "A |cron| job similar to the previous example will mount a new snapshot logical volume named::"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:19
# e79e3e6afdc44c8ea88192448da143c8
msgid "where ``{+%Y-%m-%d-%H-%M-%S}`` is a format string for year, month, day, so on."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:21
# b71eba2648a44cc2b285840ff1aece04
msgid "After the |cron| job has run successfully, the ``mount`` command will show the new logical volume mounted on the ``/var/opt/opscode/drbd-backups`` mount point. The backup script will create a snapshot logical volume in unused space in the ``/opscode`` volume group. After the snapshot is created, the backup script will attempt to mount the snapshot logical volume, after which the snapshot will stay mounted for 24 hours. Upon the next |cron| job run, the backup script will attempt to unmount, destroy the snapshot, and then repeat the sequence."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:23
# 30ed30df2e3b4e7ea7f1fa70e6d4b82e
msgid "The ``drbd-backups`` script with default settings requires at least 40 GB free space in the ``/opscode`` volume group on the backend servers."
msgstr ""

#: ../source/runbook.rst:387
# 74ce1a17f8af40488b5686d89a844631
msgid "Required Directories"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations.rst:4
# 26c3f00d972547b8ac15b2023d6c0d34
msgid "Data stored in the following directories should be backed up periodically:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations.rst:6
#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:11
# 019cac3cbb634cdb9c6b09e43645232f
# 1ad01958a9f348f1a7cccd9737fffde6
msgid "/etc/opscode"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations.rst:7
#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:12
# c3872659ef9a4858bfcd2bfde8f1547e
# 9b9e656e86744e13819228949c5f299d
msgid "/var/opt/opscode"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations.rst:9
# 3b7991c6073f4a558a3a691e20459ebf
msgid "This data is also essential when any type of backup and restore operation is done for the |chef server|."
msgstr ""

#: ../source/runbook.rst:391
# aac7ced13619400796b1cad45d33c6b6
msgid "Backup"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_backup.rst:5
# 4d5b376092e84a8e9b95e3623e723ae7
msgid "When backing up |chef server| data, be sure that the system is shut down (or otherwise quiet) at the time of the backup. Perform all activities as root unless otherwise directed."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_backup.rst:8
# 68d6d69748a4442b8ca83eea16ccd947
msgid "Make a postgres export using the following commands:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_backup.rst:17
# b21f3cf7656549e2963978c1c5cc43e3
msgid "Synchronize to make sure that all of the data is present on-disk:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_backup.rst:23
# 939aa978d12045c6a640dc15ad348f88
msgid "Backup the /etc/opscode and /var/opt/opscode directories and include the postgres export file as root"
msgstr ""

#: ../source/runbook.rst:395
# 1d4da497135147d98b993101b1c20498
msgid "Restore"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:4
# c612569bb3624150957c27f1f7c4e209
msgid "When restoring |chef server|  data, the previously backed-up files will be required, along with the |chef server| running only the |service postgresql| service. Perform all activities as root unless otherwise directed."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:7
# 6f80462e29734172b08a91d3444a5bff
msgid "Stop all Chef Server services."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:9
# ca9a223a2e6a4980b8af9d6836345a23
msgid "and then restore the previously backed-up files to the following locations using this command to exclude postgres files:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:18
# ba9b6784771c4d92ac0818bc662fff98
msgid "Start PostgreSQL service."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:19
# 5d26b95f3ea041f1aada69dd83857cff
msgid "Restore PostgreSQL DB:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:25
# a278ee17c15d451d9a470c2cf6d20313
msgid "This process has only 2 ERRORs and these can be ignored:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:27
# 11ed0836175f4e1ea5e4192ab85a3d5b
msgid "ERROR: current user cannot be dropped"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:29
# ccc37e71142f4b6abd0d8eca0c4e5b6d
msgid "ERROR: role \"opscode-pgsql\" already exists"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:31
# 2fa975602036497bbc705e919e5fa01c
msgid "Start all Chef Server services."
msgstr ""

#: ../source/runbook.rst:403
# a2e2a0519a684be181f4bcdd9d379c27
msgid "Manage Organizations"
msgstr ""

#: ../source/runbook.rst:404
#: ../source/runbook.rst:474
# 5ffbd33f071b4164ab2c5c3d8f3b1b27
# e790bf964e28428081b143b462e92e6e
msgid "The following commands are built-in to the |chef server ctl| command line tool:"
msgstr ""

#: ../source/runbook.rst:407
# 168e911f0f9d4add8723437b933a43c9
msgid "org-create"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create.rst:6
# b847f83f135e4862bcd8432d3b69ac75
msgid "The ``org-create`` subcommand is used to create an organization. (The validation key for the organization is returned to ``STDOUT`` when creating an organization with this command.)"
msgstr ""

#: ../source/runbook.rst:410
#: ../source/runbook.rst:422
#: ../source/runbook.rst:430
#: ../source/runbook.rst:442
#: ../source/runbook.rst:453
#: ../source/runbook.rst:467
#: ../source/runbook.rst:480
#: ../source/runbook.rst:492
#: ../source/runbook.rst:500
#: ../source/runbook.rst:508
#: ../source/runbook.rst:520
# ffe7ace191f743eaa7123897b0f3bf5d
# f46eb2fd19bf48069ca7c687f483fd7a
# c163aec3bf2f499bb55f59597aa2840c
# 1e4be094ae0a415f82fd42ef6ae406f7
# 233ad699fa1048d2bfb669398a09ac7c
# 9feed331e5b04328870232e0eeabc231
# 7ab7b4123bc7482682ae65dd902e9059
# dedcbeced1234f96b5d444ff4b7ccd68
# 1b878db9efad43d3baa55b2aaffdf5d6
# ba508e85290a46bf818319543e4b55fd
# 77f84094e88742018a996425146cbc85
msgid "**Syntax**"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_syntax.rst:14
# bc431407078a460d975d6451acf3ffb4
msgid "|name_rules org| For example: ``chef``."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_syntax.rst:15
# fb496a6cf31c4403808f1422dd51cd4f
msgid "|name_rules org_full| For example: ``\"Chef Software, Inc.\"``."
msgstr ""

#: ../source/runbook.rst:414
#: ../source/runbook.rst:434
#: ../source/runbook.rst:457
#: ../source/runbook.rst:484
#: ../source/runbook.rst:512
#: ../source/runbook.rst:524
# 2d166125cc3d41ed95f2658d11f7d192
# d14d2259f6604e14aad2700f99a352ae
# 4a478e6d0c0e4c7d8a8dfae8e2d58596
# 0339a107b25a4d28926ed04d80982f0d
# 6192497eef6e4fb48c2ab96ac99e2c63
# 3ef6076a58284186b948c5359c88178b
msgid "**Options**"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_user_add_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show_options.rst:6
# a6f5f9dbe7dd433587144653b4736b87
# 7c84091e30234c6bb7dffa2fa6122d50
# 8434005dff534c558c2ef4a9266fe250
# ca913501196b468ca103119605bd3168
# af699d27674e421699b324552f361139
# 4ebe63fe741d410da3577aaa3852d0e3
msgid "This subcommand has the following options:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:9
# dbc172a9acd34a2aabd3202af03f4047
msgid "``-a USER_NAME``, ``--association_user USER_NAME``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:9
# ae9039376e3141d98b4da74075557477
msgid "Use to associate a user with an organization and add them to the |webui group admins| and |webui group billing| security groups."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:13
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create_options.rst:9
# a6b2313559c14fb290a110fe78bf440c
# 0b04393b7adb40b7adf914f0ccb76d46
msgid "``-f FILE_NAME``, ``--filename FILE_NAME``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:12
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create_options.rst:9
# 69cd4a9e4cc84b488b01d1252fe43123
# c39b9758d5954c4fbe7fb55dee2b7027
msgid "Use to write the private key to a file instead of ``STDOUT``."
msgstr ""

#: ../source/runbook.rst:419
# 361ce67ccf0f4eb49da0dd2b710f7cd7
msgid "org-delete"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_delete.rst:6
# 87bc16fc308f4e838f058f64ce43e7fd
msgid "The ``org-delete`` subcommand is used to delete an organization."
msgstr ""

#: ../source/runbook.rst:427
# ceaf1f2f057c4741b53e9e7faaf0b30e
msgid "org-list"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list.rst:6
# 08f34b9bfbe2478693034c53f1a8d56c
msgid "The ``org-list`` subcommand is used to list all of the organizations currently present on the |chef server|."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:9
# 1447d6ed1b714e3090120f9082b566ea
msgid "``-a``, ``--all-orgs``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:9
# e0a10c85cf9a42fa941d34fc0ea4d068
msgid "Use to show all organizations."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:12
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list_options.rst:9
# 93c7799ab551448bacda719b778ab0ff
# 62ca856b940e41b0a7448a02eef5107a
msgid "``-w``, ``--with-uri``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:12
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list_options.rst:9
# f7478ee4933b48448b4edab42c3dc180
# 3531beb48cc84d5b8ca0639b8b745bbc
msgid "|with_uri|"
msgstr ""

#: ../source/runbook.rst:439
# 46801c1006aa4d86a3ec74409a8d9508
msgid "org-show"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_show.rst:6
# 8dbd82d58e9d42d488118fe967550f68
msgid "The ``org-show`` subcommand is used to show the details for an organization."
msgstr ""

#: ../source/runbook.rst:448
# 3a95a9edd89b45229df3dc0f89c6a3c0
msgid "org-user-add"
msgstr ""

#: ../source/runbook.rst:449
# a76b945516a7473aafeb2927ad099a7b
msgid "Early RC candidates for the |chef server| 12 release named this command ``org-associate``. This is the same command, with the exception of the ``--admin`` flag, which is added to the command (along with the rename) for the upcoming final release of |chef server| 12."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_user_add.rst:6
# 1cb44fc40b7a4d49a300da9414d1ddbd
msgid "The ``org-user-add`` subcommand is used to add a user to an organization."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_user_add_options.rst:9
# 64d519ceacb047bda25e8c4fa330a024
msgid "``--admin``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_user_add_options.rst:9
# 91815a53c6aa4d8cb37acb4e5d1caedc
msgid "Use to add the user to the |webui group admins| group."
msgstr ""

#: ../source/runbook.rst:462
# de5863169d91438c85f92df85ac70d3a
msgid "org-user-remove"
msgstr ""

#: ../source/runbook.rst:463
# 671798522b54466f81c93bc3898eed24
msgid "Early RC candidates for the |chef server| 12 release named this command ``org-disociate``. This is the same command, but renamed for the upcoming final release of |chef server| 12."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_user_remove.rst:6
# 92faf84f8a3d4ebeac45430d2b8de2c0
msgid "The ``org-user-remove`` subcommand is used to remove a user from an organization."
msgstr ""

#: ../../step_knife/step_knife_edit_admin_users.rst:3
# f59d0d3d53f449fda6246458816c4982
msgid "A user who belongs to the |webui group admins| group must be removed from the group before they may be removed from an organization. To remove a user from the |webui group admins| group, run the following:"
msgstr ""

#: ../../step_knife/step_knife_edit_admin_users.rst:9
# 2c28315a528a4adcb4a251d34bc7d52a
msgid "make the required changes, and then save the file."
msgstr ""

#: ../source/runbook.rst:473
# c8ceb0aa458145d6aba6f2b6706aa835
msgid "Manage Users"
msgstr ""

#: ../source/runbook.rst:477
# 2685cc41053a427eacf404964adb2a81
msgid "user-create"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create.rst:6
# 0569b9220c6c43e4aa880a0482af44f3
msgid "The ``user-create`` subcommand is used to create a user. (The validation key for the organization may be returned to ``STDOUT`` when creating a user with this command.)"
msgstr ""

#: ../source/runbook.rst:489
# ca775c35d6d34c518787d7b1e71d6b69
msgid "user-delete"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_delete.rst:6
# 1d315eca0fea4f5c824f32a74cb189a0
msgid "The ``user-delete`` subcommand is used to delete a user."
msgstr ""

#: ../source/runbook.rst:497
# c375078b38d34e42b4a634c7d4556a55
msgid "user-edit"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_edit.rst:6
# aa461e51e9ca4218a0e12fa88ae97c29
msgid "The ``user-edit`` subcommand is used to edit the details for a user. The data will be made available in the |chef editor| for editing."
msgstr ""

#: ../source/runbook.rst:505
# c5f01c6877744e7e9f4d77c6c3665f3d
msgid "user-list"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list.rst:6
# d570611779544303931362cb0080ebba
msgid "The ``user-list`` subcommand is used to view a list of users."
msgstr ""

#: ../source/runbook.rst:517
# f6234691328349a0bb38675add2ca8a3
msgid "user-show"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show.rst:6
# 5abc9f58947e4c668ecb10f12c2e2502
msgid "The ``user-show`` subcommand is used to show the details for a user."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show_options.rst:9
# aec66eca40454ac2a20f85ebdd7f0a4b
msgid "``-l``, ``--with-orgs``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show_options.rst:9
# 1c1750956550499a844f2709e09a4983
msgid "Use to show the corresponding organizations."
msgstr ""

