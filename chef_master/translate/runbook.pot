# SOME DESCRIPTIVE TITLE.
# Copyright (C) This work is licensed under a Creative Commons Attribution 3.0 Unported License.
# This file is distributed under the same license as the Chef Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Chef Docs \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2014-09-08 14:52-0700\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/runbook.rst:8
# 0cea1110667b4b34bc1637ead9597b41
msgid "Runbook"
msgstr ""

#: ../../includes_chef_server/includes_chef_server.rst:4
# c398d336806b42e1a17cd6e8d90aabb6
msgid "The |chef server| acts as a hub for configuration data. The |chef server| stores cookbooks, the policies that are applied to nodes, and metadata that describes each registered node that is being managed by the |chef client|. Nodes use the |chef client| to ask the |chef server| for configuration details, such as recipes, templates, and file distributions. The |chef client| then does as much of the configuration work as possible on the nodes themselves (and not on the |chef server|). This scalable approach distributes the configuration effort throughout the organization."
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_erchef_background.rst:4
# 9e07f9f9ff984dffa0d8fe7133bc3c40
msgid "Starting with the release of |chef 11|, the front-end for the |chef server| is written using `Erlang <http://www.erlang.org/>`_, which is a programming language that `first appeared in 1986 <http://en.wikipedia.org/wiki/Erlang_%28programming_language%29>`_, was open sourced in 1998, and is excellent with critical enterprise concerns like concurrency, fault-tolerance, and distributed environments. The |chef server| can scale to the size of any enterprise and is sometimes referred to as |erchef|."
msgstr ""

#: ../source/runbook.rst:14
# 0db1282f2e7a4d2093f61571117545e0
msgid "The following diagram shows the various components that are part of a |chef server| deployment and how they relate to one another."
msgstr ""

#: ../source/runbook.rst:22
# 83b873cea91a43f7a0eebc8b92175df9
msgid "Component"
msgstr ""

#: ../source/runbook.rst:23
#: ../../includes_server_logs/includes_server_logs_nginx.rst:11
#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:38
#: ../../step_server_security/step_server_security_ssl_custom_certificates.rst:11
#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:11
#: ../../includes_server_tuning/includes_server_tuning_general.rst:11
#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:11
#: ../../includes_server_tuning/includes_server_tuning_chef.rst:11
#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:11
#: ../../includes_server_tuning/includes_server_tuning_expander.rst:11
#: ../../includes_server_tuning/includes_server_tuning_solr.rst:11
#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:15
#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:11
#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:11
# 418409f3cfc64e1e8b277403849f5801
# 821975799e5746ad8f2ad1894e35ee91
# 8a4cf0dde0a1455ea05724e67da44d93
# 40603123c40d496092ca2817686f3424
# 4a4218d9d5414addb8e9cc3bb5038edd
# 5319c5ca2e8747d2baf0a4e9c386e156
# 97a2aa8e979244a0b5557284d7c4bf81
# ccea830ae0ce4b708ab704da70d67b12
# fda437e195e74b5c9df69966bffa793d
# c81e249e92494e8295cddcbc19621c21
# 5c427bcf7b564b2b80cb42903f17078b
# 2b2982947b3a46c7b28ee3a1cdaed666
# f4ef297691134acfa328b5e04f5d59a3
# 240f8d7150cb4032b8ea0e5eb26375dc
msgid "Description"
msgstr ""

#: ../source/runbook.rst:24
# 0fe629422c9f4300a0eb7de89fa1cb24
msgid "Bookshelf"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_bookshelf.rst:4
# dbf97dd9b73e4811b93d1ab9c8f098dc
msgid "|chef bookshelf| is used to store cookbook content---files, templates, and so on---that have been uploaded to the |chef server| as part of a cookbook version. Cookbook content is stored by content checksum. If two different cookbooks or different versions of the same cookbook include the same file or template, |chef bookshelf| will store that file only once. The cookbook content managed by |chef bookshelf| is stored in flat files and is separated from the |chef server| and search index repositories."
msgstr ""

#: ../source/runbook.rst:27
# 6bba02c6bdd44c67bb38d1f9d817d3f7
msgid "All cookbooks are stored in a dedicated repository."
msgstr ""

#: ../source/runbook.rst:28
# b88149f2d46a4c519ce1b7c7914ccd99
msgid "WebUI"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_webui.rst:4
# 602a5e9c4c4d45949f8bb3ccdee19bba
msgid "|chef server webui| is a |ruby on rails| 3.0 application that hosts the web interface for the |chef server|."
msgstr ""

#: ../source/runbook.rst:30
# 9d9f8bb15c92403eaf68cb1d80f6cf2b
msgid "Erchef"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_erchef.rst:4
# 39cb347e209346559238c556715d795b
msgid "|erchef| is a complete rewrite of the core API for the |chef server|, which allows it to be faster and more scalable than previous versions. The API itself is still compatible with the original |ruby|-based |chef server|, which means that cookbooks and recipes that were authored for the |ruby|-based |chef server| will continue to work on the |erlang|-based |chef server|. The |chef client| is still written in |ruby|."
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_erchef.rst:6
# 035bc0839d8744ff8dca896eaa93e40f
msgid "Even though the |chef server| is authored in |erlang|, writing code in |erlang| is NOT a requirement for using |chef|."
msgstr ""

#: ../source/runbook.rst:32
# 4c545daad766417098dd58f6e6b5e79b
msgid "Message Queues"
msgstr ""

#: ../source/runbook.rst:33
# b369a2f5ef7540cc922b4d6fbd6c8fb5
msgid "Messages are sent to the Search Index using the following components:"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_rabbitmq.rst:4
# 146e4c24b3b6480696c0e129226716cb
msgid "|rabbitmq| is used as the message queue for the |chef server|. All items that will be added to the search index repository are first added to a queue."
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_expander.rst:4
# 6b4ac6f3e1bc4d04b86a8e04b76c7673
msgid "|chef expander| is used to pull messages from the |rabbitmq| queue, process them into the required format, and then post them to |chef solr| for indexing."
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_solr.rst:4
# d9cd3584b29c487fbb1b6fa549da8c95
msgid "|chef solr| wraps |apache solr| and exposes its REST API for indexing and search."
msgstr ""

#: ../source/runbook.rst:39
# 33d4f4e6b31a4f038b16279d08950733
msgid "All messages are added to a dedicated search index repository."
msgstr ""

#: ../source/runbook.rst:40
# b9f729a74307406897df8d9fb5422156
msgid "Nginx"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_nginx.rst:4
# 4705ed36043a45bb94e13e16464b8604
msgid "|nginx| is an open-source HTTP and reverse proxy server that is used as the front-end load balancer for the |chef server|. All requests to the |api chef server| are routed through |nginx|."
msgstr ""

#: ../source/runbook.rst:42
# 712d49310bf74e868785bf53fe1afd70
msgid "PostgreSQL"
msgstr ""

#: ../../includes_chef_server/includes_chef_server_component_postgresql.rst:4
# 14a9956a8e814c759267b947a320258c
msgid "|postgresql| is the data storage repository for the |chef server|."
msgstr ""

#: ../source/runbook.rst:45
# 6f249da3318341ec969d22c0f879b0f6
msgid "The following sections detail how to monitor the server, manage log files, manage services, manage firewalls and ports, configure SSL, tune server configuration settings, and backup and restore data."
msgstr ""

#: ../source/runbook.rst:49
# 5bad3c23e1bd4417bf994c63b505f353
msgid "Monitoring"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor.rst:4
# 59bfb414843f48a5acf56e544e427a6d
msgid "Monitoring the |chef server| involves two types of checks: application and system. In addition monitoring the HTTP requests that workstations and nodes are making to the |chef server| and per-disk data storage volumes is recommended."
msgstr ""

#: ../source/runbook.rst:53
# bf9510da3f184ef186846977a151d42c
msgid "Application Checks"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application.rst:4
# 628b2b7294c24c57af65a806934efc71
msgid "Application-level checks should be done periodically to ensure that there is enough disk space, enough memory, and that the front-end and back-end services are communicating."
msgstr ""

#: ../source/runbook.rst:57
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:37
# 936b9085f1cd464da2fd10efcebda25a
# 89216342cc2d40478a1c75be0dd04c2d
msgid "|drbd|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_drbd.rst:5
# 41804f12430f40f4a16ca37bcc0f6068
msgid "|drbdadm| is the management tool for |drbd|. It can be used to obtain status information and to alter the state of the |drbd| cluster. For more information about |drbdadm|, see http://www.drbd.org/users-guide/re-drbdadm.html."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_drbd.rst:7
# 8203fc02b7f24f0886f317841b9bf2f4
msgid "``/proc/drbd`` is a virtual file that displays real-time status information about all currently-configured |drbd| resources. Use the following command to view the contents of this virtual file:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_drbd.rst:13
# dd461e7d17b74a00a2be8996006fb5fd
msgid "Use ``chef-server-ctl ha-status`` along with ``/proc/drbd`` to help evaluate the current state of the cluster. Follow the split-brain recovery procedures for |drbd| if the cluster becomes two unconnected pieces."
msgstr ""

#: ../source/runbook.rst:61
# c76a2981eec44572b1a274ff5bcf9602
msgid "|erlang|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:5
# 6fb41e7146364b34af50104b361dfa85
msgid "Many components of the |chef server| are written using |erlang| and run on the |beam| virtual machine. One feature of |erlang| and |beam| is the ability to interact with the running service using a command shell. For example:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:13
# 70011722ab0f4c8794015bde77a9b5eb
msgid "where ``service_name`` is ``authz`` or ``erchef``. This command will then open a shell that is connected to the |erchef| processes:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:19
# 58d7e8e062234d7d8f95b62b85dbce4d
msgid "Connecting to the |erlang| processes should only be done when directed by |company_name| support services."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:21
# 37fabfc10bc747619744548c10d87edd
msgid "To connect to the |service authz| service, use the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_erlang.rst:27
# f7efca95e320456ba04cc2d9acadef0b
msgid "To connect to the |service erchef| service, use the following command:"
msgstr ""

#: ../source/runbook.rst:65
# ef9ca28c0d8e4b8f92958187037b3378
msgid "|nginx|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_nginx.rst:5
# 01a385f1af114d3f85db0f68b776ca5d
msgid "Use |nginx| to monitor for services that may be returning 504 errors. Use the following command on a front-end machine:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_nginx.rst:11
# a1b3740f84864cf08e17295bb11e1636
msgid "and then extract the URLs and sort them by ``uniq`` count:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_nginx.rst:17
# 741f818af3a04540848c601dadbbe9b5
msgid "In a large installation, restricting these results to a subset of results may be necessary:"
msgstr ""

#: ../source/runbook.rst:69
# 1909f0bd03dd4b3688923404d65ced65
msgid "|postgresql|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_postgresql.rst:5
# 06a6d4c767af493295cf26a3bed566bf
msgid "|postgresql ctl| is the management tool for |postgresql|. It can be used to obtain information about data stored in |postgresql|. For more information about |postgresql ctl|, see http://www.postgresql.org/docs/manuals/, and then the doc set appropriate for the version of |postgresql| being used."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_postgresql.rst:7
# 65bc7d632b0d423aa46d223943dd4b33
msgid "To connect to the |postgresql| database, run the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_postgresql.rst:15
# 22ff9ad0b86b436aa3b8029cd59f283d
msgid "Connecting to the |postgresql| database should only be done when directed by |company_name| support services."
msgstr ""

#: ../source/runbook.rst:73
# b07a59bfc53f49a3b4a126896c59527a
msgid "|rabbitmq|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_rabbitmq.rst:5
# 4f557c3a352a4bb0b0b08371dd9add99
msgid "|rabbitmq ctl| is the management tool for |rabbitmq|. It can be used to obtain status information and to ensure that message queuing is running properly. For more information about |rabbitmq ctl|, see https://www.rabbitmq.com/man/rabbitmqctl.1.man.html."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_rabbitmq.rst:7
# 0c83c1266c764a86ac4826b5b5c1f3e4
msgid "To obtain status information for message queues, run the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_rabbitmq.rst:15
#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_example.rst:13
# cd5fc2b2f3484883a6efa9409a062aa5
# 8079470527bf46ab95cc75d4b2f0e2dc
msgid "to return something similar to:"
msgstr ""

#: ../source/runbook.rst:77
# 45ba2db576e84308adc9dcc54de57d10
msgid "|redis|"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_redis.rst:5
# 50787b3c99fa4752b91208ed824f5fe9
msgid "|redis cli| is the management tool for |redis|. It can be used to obtain information about keys that are being used with the |chef server|. For more information about |redis cli|, see http://redis.io/commands."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_redis.rst:7
# 739b9b7d30b946fb9fe46a5c4e4252cb
msgid "To verify that the connection to |redis| is alive, run the following command:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_application_redis.rst:15
# 75576d1baa5e4b24af465b62aa6ff3b0
msgid "to return:"
msgstr ""

#: ../source/runbook.rst:81
# 33c479017a3b4b018783c2181393f2a6
msgid "System Checks"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system.rst:4
# fd4523f4d9c54c1abd97855d84cb8473
msgid "System-level checks should be done for the following components: ports, services (|service erchef| and |service expander|), and high availability status."
msgstr ""

#: ../source/runbook.rst:85
# 2ff32c36e92f45889f59e6d9d54de8b7
msgid "ha-status"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:6
# 96af9754e05e48f39758d17d8ed40961
# 1fb1ece18bb34aa1b64e8a68ad968460
msgid "On back-end servers in a |ha| topology, |keepalived| is used by the clustering service to determine whether a service should be running. If the ``status`` subcommand is run against any of these nodes, a few things change:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:8
# 8911de5bb82b4d9c9243dd147bec2dbb
# 61f5d3347d25457192e7a76c9cd27d5d
msgid "On the back-end node that is currently the backup server, it is normal to see only one running process: |keepalived|"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:9
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:9
# 7348a0b92b0f440c85f3f5073c1c3090
# 5801aa3f1e9743f2969848e2e7d6bd5a
msgid "On the back-end node that is currently the master server, it is normal to see all services running. It is also normal to see some services in a down state if the server, on reboot, did not attempt to start the services because |keepalived| determines which services are restarted based on the state of the cluster"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:11
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_ha.rst:11
# bdb8fd720e2649eea8c7a8a163007299
# 83111853e4064c7bbe0fa76c4d0c22f2
msgid "A sample status line for a service that is running on the master server in a |ha| topology:"
msgstr ""

#: ../source/runbook.rst:89
# b7d9ca7018b746e7b54327d10b172697
msgid "opscode-authz"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_authz.rst:5
# 6952d64c49a44a4492e11bb69c8a2b46
msgid "The authz API provides a high-level view of the health of the |service authz| service with a simple endpoint: ``_ping``. This endpoint can be accessed using |curl| and |gnu wget|. For example:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_authz.rst:11
# c6fdfe1cec50493f869d1f26d1d5d3b7
msgid "This command typically prints a lot of information. Use |python| to use pretty-print output:"
msgstr ""

#: ../source/runbook.rst:93
#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:11
#: ../source/runbook.rst:326
# 197e0ea9deb14fdab1d66c5967542999
# 1d1ac04f65564e1388fd4d9a07cb1958
# aba06c2c74a144a5a73fc969cb0778c4
msgid "opscode-erchef"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:5
# 4f98a1f62df04d5dbedd77f9cbf51b63
msgid "The status API provides a high-level view of the health of the system with a simple endpoint: ``_status``. This endpoint can be accessed using |curl| and |gnu wget|. For example:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:11
# 1c96ce763f2e499ca4673f8f7bbaf2dd
msgid "which will return something similar to:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:20
# 2dd9e2cacc8d4c70a37448eb1f68f002
msgid "For each of the upstream services, ``pong`` or ``fail`` is returned. The possible upstream names are:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:22
# 467e3e0efd794762a90411bbec0a19a3
msgid "``chef_solr`` (for the |service solr| service)"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:23
# 94749e4b6ca04d1bb46e8dd421446569
msgid "``chef_sql`` (for the |service postgresql| service)"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:24
# 061fd9a04d2d4e4eb6e87565a3c83e53
msgid "``oc_chef_authz`` (for the |service authz| service)"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_erchef.rst:26
# 9b67796626f247069748dcf0a06df245
msgid "If any of the status values return ``fail``, this typically means the |chef server| is unavailable for that service."
msgstr ""

#: ../source/runbook.rst:97
#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:12
#: ../source/runbook.rst:330
# a1b1546c4d4c4a9492b50f4969c86ade
# ef28ba8874ab4650b4b5a5f9bb6d45fa
# 27998e2bdc3e4365aa2d2c1987587275
msgid "opscode-expander"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander.rst:4
# 7f270014acbf4f1d8ae78f934c8bcc01
msgid "As the queue depth increases it may take longer for updates posted to the |chef server| by each |chef client| to be added to the search indexes on the |chef server|. The depth of this queue should be monitored using the following command:"
msgstr ""

#: ../source/runbook.rst:100
# d431fe94933d430da89677ed33fdd19e
msgid "**Search Indexes**"
msgstr ""

#: ../../includes_search/includes_search.rst:4
# e29bc4f02f6640f3bea66dc470b04ba9
msgid "Search indexes allow queries to be made for any type of data that is indexed by the |chef server|, including data bags (and data bag items), environments, nodes, and roles. A defined query syntax is used to support search patterns like exact, wildcard, range, and fuzzy. A search is a full-text query that can be done from several locations, including from within a recipe, by using the ``search`` subcommand in |knife|, or by using the ``/search`` or ``/search/INDEX`` endpoints in the |api chef server|. The search engine is based on |apache solr| and is run from the |chef server|."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:5
# 13dee597ee4b4b40a4cac49b9957b01f
msgid "If the search indexes are not being updated properly, first ensure that the |service expander| service is running on the backend machine:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:11
# 1df7a81aedcb46e1be43f3f0a1267ffe
msgid "and then (if it is not running), start the service:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:17
# ed0cabae103845cd95d3843952dcd054
msgid "If the |service expander| does not start correctly, then take a look at the ``/var/log/opscode/opscode-expander/current`` log file for error messages."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:19
# dd5631378aab442eb468f8c40565c2a0
msgid "If the |service expander| is running, check the queue length:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_expander_search.rst:25
# 6c18016f131b4bc783d70bf72e41a148
msgid "If the number of total messages continues to increase, increase the number of workers available to the |service expander| service."
msgstr ""

#: ../source/runbook.rst:106
# 7f60743669af4aaa944edec96d5cc1ac
msgid "**opscode-expanderctl**"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander.rst:5
# 863d648f99e14754aca4e7f05a5dad73
msgid "The |opscode expander ctl| executable can be used to generate status information for the |service expander| service. The |opscode expander ctl| executable is run as a command-line tool from the master backend machine."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:6
# 95fb8a596fc64da7a7bef7676f0a528c
msgid "This tool has the following syntax::"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:10
# 4b95ecea09024dd4ac6e3cbb3e8712d7
msgid "This tool has the following options:"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:13
# ba7a327c88504c9dabc905c7e92af97b
msgid "``log-level``"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:13
# 9b817f3c36c749248a0a52d84dc81830
msgid "Use to show the log level for all nodes in the cluster."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:16
# 5cf7b8cc28cc43fc981c718256a36e12
msgid "``node-status``"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:16
# c75f99fda92146ea96303a84acf8517c
msgid "Use to show the status for all nodes in the cluster."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:19
# 366bcce573fc4ff6a4ae31da8cbe1629
msgid "``queue-depth``"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:19
# 24f38430ba6247b297150f3d221eaaa6
msgid "Use to display the aggregate queue backlog."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:23
# 7dc5e80f067b4b2d844b450ad40fce60
msgid "``queue-status``"
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_options.rst:22
# 60f69f6b4cb04dfda4538d491e421f35
msgid "Use to show the backlog and consumer counts for each vnode queue."
msgstr ""

#: ../../includes_ctl_opscode_expander/includes_ctl_opscode_expander_example.rst:5
# 90651e8a173748cd812da59c4d2ceb1f
msgid "For example, to view the aggregate queue backlog, enter the following:"
msgstr ""

#: ../source/runbook.rst:115
# 7c8ee7ed393e4e949a4465d202dfb006
msgid "Nodes, Workstations"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_client.rst:5
# 19d719987c304976ab0e081c5f5334e3
msgid "If a client makes an HTTP request to the server that returns a non-specific error message, this is typically an issue with the |service chef| or |service erchef| services. View the full error message for these services in their respective log files. The error is most often a stacktrace from the application error. In some cases, the error message will clearly indicate a problem with another service, which can then be investigated further. For non-obvious errors, please contact |company_name| support services."
msgstr ""

#: ../source/runbook.rst:119
# 5a045f1e173048feb4cbe4fb72c130cf
msgid "Disks"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:5
# 1190b336cfb4483ab24b515b336ec131
msgid "Over time, and with enough data, disks will fill up or exceed the per-disk quotas that may have been set for them and they will not be able to write data. A disk that is not able to write data will not be able to support certain components of the |chef server|, such as |postgresql|, |rabbitmq|, service log files, and deleted file handles. Monitoring disk usage is the best way to ensure that disks don't fill up or exceed their quota."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:7
# 0ef37813b2c94b5988513300b8fad226
msgid "The following components should be monitored for signs that disks may be rapidly filling up:"
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:9
# 7ed9175d79a742928278d3bff18fd0c7
msgid "**PostgreSQL** |postgresql| is the data store for the |chef server|."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:10
# c1769d1d40bd4fb5bd96e62a371078a1
msgid "**RabbitMQ** The |rabbitmq| data folder can fill up if the |service expander| service is not able to keep up with the data being moved into the search database by |rabbitmq|. When the |service expander| service falls behind, |rabbitmq| will start storing the individual messages on-disk while it waits for the |service expander| service to catch up. If the |rabbitmq| disk fills up completely, |rabbitmq| will need to be restarted to free up the disk space and any data that was stored on-disk will be lost."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:11
# 4db8e4d42f964dc891eb0585005020e5
msgid "**Log files** If ``/var/log/opscode`` is taking up a lot of disk space, ensure that the |chef server| log rotation cron job is running without errors. These errors can be found in ``/var/log/messages``, ``/var/log/syslog`` and/or the root user's local mail."
msgstr ""

#: ../../includes_server_monitor/includes_server_monitor_system_disk.rst:12
# fd7b2b787d7e4f578e11a22deb8885b5
msgid "**Deleted file handles** Running processes with file handles associated with one (or more) deleted files will prevent the disk space being used by the deleted files from being reclaimed. Use the ``sudo lsof | grep '(deleted)'`` command to find all deleted file handles."
msgstr ""

#: ../source/runbook.rst:128
#: ../source/runbook.rst:243
# ed973d2565da436d883c760bbcdfd882
# 25fca11da21044a0a84d3b72a71065e6
msgid "Log Files"
msgstr ""

#: ../../includes_server_logs/includes_server_logs.rst:4
# d7305a04230845cab800f35bbad35812
msgid "All logs generated by the |chef server| can be found in ``/var/log/chef-server``. Each service enabled on the system also has a sub-directory in which service-specific logs are located, typically found in ``/var/log/chef-server/service_name``."
msgstr ""

#: ../source/runbook.rst:133
# 4a316c8a57c1450289b3607433a4a0b1
msgid "View Log Files"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_view.rst:4
# 5b39d31be808477b95c3a850ed21b20f
msgid "The |chef server| has built-in support for easily tailing the logs that are generated. To view all the logs being generated on the |chef server|, enter the following command:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_view.rst:10
# 883bfee3cda04d98ad1de04c1966779c
msgid "To view logs for a specific service:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_view.rst:16
# 33e210e89d98403fbef904c9f3e20fae
msgid "where ``SERVICENAME`` should be replaced with name of the service for which log files will be viewed."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_view.rst:18
# 02df9bf31d7a48fdb88c27b6514553cc
msgid "Another way to view log files is to use the system utility tail:"
msgstr ""

#: ../source/runbook.rst:137
# ac290d5a78074dc7a61132e7260d09f3
msgid "tail Log Files"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:6
# 9916d66ba7cc44f799bb8f2c17dc53f6
# 6ac5c74bdc254ed59ec7070168f9e8d3
msgid "The ``tail`` subcommand is used to follow all of the |chef server| logs for all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_hup.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_int.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_kill.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_once.rst:10
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_restart.rst:10
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_service_list.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_start.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_term.rst:8
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_delete_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_show_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_associate_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_delete_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_disassociate_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_edit_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list_syntax.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show_syntax.rst:6
# 0b1583945acd422aa624c13dd3183fc0
# e2057aa51455424da418b638f7fdaccc
# 3db7da9645834f81b93de90c9f4d657e
# bea0f813848042e3942f8bc96230f4ff
# f9f9e46c5d674353bb24bacf7a636770
# 8184b9f15b8145a9a5e3590af1d3f912
# 37b99ef8a83a4cc0adcc58db00491612
# 5098622e63364b3f895d94713faa87dc
# 2dc8097fb71a4eb385b54b1e2f9ba88e
# 0940e4f17a974b9f9cafa8236d00acc4
# 463b9e560e8c4296809c1ff36a5a3811
# 95761e15534b455f97332c3ca658069d
# c39e052aa1534f2394505e357b243832
# 09915a599604461799355711718a87f8
# 91ca6df146b24354b4bebf9d53861ac3
# 7d8246963356494e85f0c8a4aabc414f
# 03b2727772184408b9793952d617cda6
# 81ab2bfc0bb54bceb88bb48f6071549e
# c842a075a0e74780a3cafc02015a57c8
# 8be1799dcd4c430da7c5f46ee2f77f75
# e42b6e6474b64bc8a25ea2c665a12236
# 3b1688b8a3f341d5a5e61a898476ed73
msgid "This subcommand has the following syntax:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_hup.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_int.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_kill.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_once.rst:16
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:18
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_tail.rst:14
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_term.rst:14
# e4e8385b365446be80dde047778fcbbd
# 9e6e034c05024907889e42dbb996bbe1
# 1ff704b5ee29479792a4e0787262e076
# 5ee1889105bf46c1be0d577e5f775cf1
# 66eac591ada04c70b1d6e3a31e01aecf
# 1e50ae91e6c34638bc70af4e2408e7d4
# 24e46cd834634300bae2f4a95d290a61
# 832430c7321e41568c16f6cf057f1742
msgid "where ``name_of_service`` represents the name of any service that is listed after running the ``service-list`` subcommand."
msgstr ""

#: ../../step_server_services/step_server_services_general_tail.rst:4
# e701f16c15a146ee9755a837d83bdaa7
msgid "Another common approach to tailing the log files for a service is to use the system utility ``tail``. For example:"
msgstr ""

#: ../source/runbook.rst:143
# e8a45fa00f1f4b2383d74e932aaf3efd
msgid "Supervisor"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:4
# 691b0a7db69a4f548c94f7405dabc783
msgid "Supervisor logs are created and managed directly by the service supervisor, and are automatically rotated when a the current log file reaches 1,000,000 bytes. 10 log files are kept. The latest supervisor log is always located in ``/var/log/chef-server/service_name/current`` and rotated logs have a filename starting with ``@`` followed by a precise ``tai64n`` timestamp based on when the file was rotated."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:6
# cf11c74dc158402e9523ea42ce84967b
msgid "Supervisor logs are available for the following services:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:8
# b57c9e1e01c549b593f7a0b514d4c76c
msgid "bifrost"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:9
#: ../source/runbook.rst:318
# 70f1d9b741664993811b4998f1b4d637
# 1de02418374d477fa61f696d3431256d
msgid "bookshelf"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:10
#: ../source/runbook.rst:163
# 6609f79f64d54543b7f16270b608b30c
# 73e9800cd5cb45eab9f9ada178610da1
msgid "nginx"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:13
# d5d80501afdd46718c11717d4095ae7a
msgid "opscode-expander-reindexer"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:14
# a10b92e034ff42f09eb7d56038b44497
msgid "opscode-solr4"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:15
#: ../source/runbook.rst:342
# 21066c80fe2344b198e5a277421ada4a
# f4defbfbbab14d80901807697d65860a
msgid "postgresql"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:16
#: ../source/runbook.rst:346
# 00db1008759641c4b100a7db73509275
# 2b79d84a90ec4d9c82195dd61f03fe11
msgid "rabbitmq"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_supervisor.rst:17
# c975b82a586c446194c380f2d865364d
msgid "redis"
msgstr ""

#: ../source/runbook.rst:147
# a1de469ea0a7418eb60593d644c812c4
msgid "nginx, access"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:4
# a244fa35c2de4f7f9568e5301f4e8d51
msgid "|nginx| is an important entry point for data on the |chef server|, which means that debugging efforts frequently start with analyzing the |service nginx| service's ``access.log`` file. This log contains every HTTP request made to the front-end machine and can be very useful when investigating request rates and usage patterns. The following is an example log entry:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:15
#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:16
# d8b4159d52604212b00348e3cb812993
# d1119da059ab45a1b6d005cfa1873d8c
msgid "where important fields in this log include:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:17
# c05be14977c849929dbfcf7502cdd491
msgid "The HTTP status code (``200``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:18
# 6d1a9d83ce0040aa8d2c8231907e1082
msgid "The IP address of the requesting client (``175.185.9.6``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:19
# bb790d209bc447a1857d6de4113bfb52
msgid "The timestamp (``[12/Jul/2013:15:56:54 +0000]``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:20
# dcec62c9ff1e4802bfff2f64bae76978
msgid "The total request time (``\"0.850\"``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:21
# 591369d9b5cd4c47a9f049470b954b79
msgid "The request method (``GET``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_log_access.rst:22
# c5adc4172b994d58913fc781f19a4f06
msgid "The request URL (``/organizations/exampleorg/data/firewall/nova_api``)"
msgstr ""

#: ../source/runbook.rst:151
# c69bcd83df2b41908eb71a2e0873e4a1
msgid "opscode-erchef, current"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_current.rst:4
# fd23467a70e94e97b72787e90307deb8
msgid "The |service erchef| service's ``current.log`` file contains a history of stack traces from major application crashes."
msgstr ""

#: ../source/runbook.rst:155
# cae08be698ed44ce8fe0f1f9b405add2
msgid "opscode-erchef, erchef"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:4
# e30495363d254967ab9d1c9dcb8ebcd4
msgid "The |service erchef| service's ``erchef.log`` file contains a history of API requests that have been processed by |erchef|. These logs can be rotated quickly, therefore it is generally best to sort them by date, and then find the most recently updated log file:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:10
# 85c209aa4fc446c4b40bd5cdd387b16c
msgid "The following is an example log entry:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:18
# a9d978de22a74952b6cd16d7fe4e98e9
msgid "The HTTP method (``POST``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:19
# 5ecb87612f9d49f5bab934220eef91d0
msgid "The HTTP path (``/organizations/srwjedoqqoypgmvafmoi/environments``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:20
# 4bd062652f084b318b5425db60ea1295
msgid "The message (``{created,<<”_default”>>}``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:21
# 53808d36e86b4be7a4c1583c967594e5
msgid "The organization name (``org_name=srwjedoqqoypgmvafmoi``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:22
# 16625836f9894b80a602209e65bd749c
msgid "The timestamp (``2013-08-06T08:54:32Z``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:23
# a080994208d64e5fa81f2bde65d31590
msgid "The name of the user and/or |chef client| which made the request (``pivotal``)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:25
# 7563df6ad28540e1a97e18ee50714374
msgid "In addition, the log file may contain additional entries that detail the amounts of time spent interacting with other services:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:27
# b7375fc4ca95436482283290f5b42134
msgid "``rdbms_time`` (the time spent talking to the |service postgresql| service)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:28
# 35cfb61aa5624434a791845ca348bf63
msgid "``req_time`` (the request time)"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_erchef_log_erchef.rst:29
# c67a5f46c1ad4ea3a39545c43fca79be
msgid "``solr_time`` (the time spent talking to the |service solr| service)"
msgstr ""

#: ../source/runbook.rst:159
# 05968383a46043878041ab85af9ccf1b
msgid "Application"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_type_application.rst:4
# 1c7a42a534be4278ab95b3e22a320a81
msgid "Application logs are created by the services directly, and may require log rotation policies to be applied based on organizational goals and the platform(s) on which the services are running."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:4
# dda9129d2933461294a80bb9d978b6ea
msgid "The ``nginx`` service creates both supervisor and administrator logs. The administrator logs contain both access and error logs for each virtual host utilized by the |chef server|. Each of the following logs require external log rotation."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:10
# e3fb6dfa53dc4505af0c773a986111a3
msgid "Logs"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:12
# 71f064b436224982ac827de4244b7ef4
msgid "``/var/log/opscode/nginx/access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:13
# acd926f7948045f18529a282b30c3add
msgid "The Web UI and API HTTP access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:14
# d6e0630d498949e4a904114e9762ddfe
msgid "``/var/log/opscode/nginx/error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:15
# 395a7bd40bf547aeab9ef38381102d3b
msgid "The Web UI and API HTTP error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:16
# 481ebcd85a7e4e5599e8fe286920ce45
msgid "``/var/log/opscode/nginx/internal-account.access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:17
# a1cb4063aff141a4b05556eeb2182505
msgid "The ``opscode-account`` internal load-balancer access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:18
# 55d42ad17e374e1b8bd2459a44caeec8
msgid "``/var/log/opscode/nginx/internal-account.error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:19
# 55b52a184a6e48c3b1472d34a9a685d5
msgid "The ``opscode-account`` internal load-balancer error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:20
# b00ab18a60fb473086e292eb751f7e2a
msgid "``/var/log/opscode/nginx/internal-authz.access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:21
# eab831da216f45f0a5dd88de5c66e1fe
msgid "The ``opscode-authz`` internal load-balancer access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:22
# 1927910b313b4df99d72d56d67c79f34
msgid "``/var/log/opscode/nginx/internal-authz.error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:23
# 12f4eaf3f347400cb6f6a033569e821d
msgid "The ``opscode-authz`` internal load-balancer error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:24
# dd285f13b2b64148ad4e4c19d3262ae5
msgid "``/var/log/opscode/nginx/internal-chef.access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:25
# 0fdc169f5b9543cabe69d702cdbee6b1
msgid "The ``opscode-chef`` and ``opscode-erchef`` internal load-balancer access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:26
# 6fd1c54f8ed04a059a1f13605d4bfa3c
msgid "``/var/log/opscode/nginx/internal-chef.error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:27
# dcf4bc4ce9c74f55824c29db429c935e
msgid "The ``opscode-chef`` and ``opscode-erchef`` internal load-balancer error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:28
# 0eeac30ae8b64aa78189a8e18f7325a6
msgid "``/var/log/opscode/nginx/nagios.access.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:29
# b8a5fbbca1874a698f54a79941a8d733
msgid "The ``nagios`` access logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:30
# 6fd6795344754b49b847c8e148e913a4
msgid "``/var/log/opscode/nginx/nagios.error.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:31
# a93ca321b55b4895918383a1ddd68aeb
msgid "The ``nagios`` error logs."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:32
# 6391cbaf2b14423e9820b656f4e5caf0
msgid "``/var/log/opscode/nginx/rewrite-port-80.log``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx.rst:33
# 31dffd1a08074b78b7a3222dff4ba4da
msgid "The rewrite logs for traffic that uses HTTP instead of HTTPS."
msgstr ""

#: ../../step_server_services/step_server_services_nginx_tail.rst:4
# ae7cc74c5f2c4c968fc05371eb3e0caa
msgid "To follow the logs for the service:"
msgstr ""

#: ../source/runbook.rst:168
# a27ef1cba0b1400b9ead57a19a63f461
msgid "**Read Log Files**"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:4
# e8100cd1186f4cf2b4ddfe9f1ebbc02f
msgid "The |service nginx| access log format is as follows:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:15
# 9734245808584293ab1e6ef4dd1c398e
msgid "A sample log line:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:31
# fc0272cea5bc4f65877838403c6a8dfe
msgid "Field descriptions:"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:37
# b38f271b5c5346b7a53dde20b8077c40
msgid "Field"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:39
# d531ce130fd84ae78b38ef08ee4c72ee
msgid "``$remote_addr``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:40
# a6d4fa2e33574f678618a661f1722379
msgid "The IP address of the client who made this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:41
# 3f8e00cf8f394b61ba57dcb44220fc7c
msgid "``$remote_user``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:42
# 524b4808a0404acfb883deff30f8700e
msgid "The HTTP basic auth user name of this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:43
# f6d58781b24a4eebba889ad2128bdcda
msgid "``$time_local``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:44
# a652fa2387274d1b90be8c672dce8667
msgid "The local time of the request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:45
# c23bd648222e479ba8c0f733316a5a8f
msgid "``$request``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:46
# 08ba1c96b93f4630a8990d06c6c38ba2
msgid "The HTTP request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:47
# 9ebf33fcb69644bd98b52dc869553e6f
msgid "``$status``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:48
# 7ec079fd2ec34b90b63af3d937f9bf66
msgid "The HTTP status code."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:49
# e575cf0acac945c7a4b31b984a2b716f
msgid "``$request_time``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:50
# 25a4f20a3baf4aa49a9f0ae6e5ffb0ff
msgid "The time it took to service the request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:51
# 5a2caa1800c14b86966ab4656d83a756
msgid "``$body_bytes_sent``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:52
# 499e776e25284f3a9a49da79f2574dec
msgid "The number of bytes in the HTTP response body."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:53
# 1e0c8a92c9b54b6bb712e328582e22e7
msgid "``$http_referrer``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:54
# ee1a6f52d38549b693b46cb7d6a11da8
msgid "The HTTP referrer."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:55
# 0979aedb029f496fae0360006127f68b
msgid "``$http_user_agent``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:56
# c9119d5103474bc2acbecc092363f4bf
msgid "The user agent of the requesting client."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:57
# 6534a227226f46cba238a2592f1074c8
msgid "``$upstream_addr``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:58
# 50763a6d926d41949e623bf32f639793
msgid "The upstream reverse proxy used to service this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:59
# d497fd5df0464957ab3b8f2deca3e4b5
msgid "``$upstream_status``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:60
# c5c7d5d20c85497d818f9277b3f90b71
msgid "The upstream reverse proxy response status code."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:61
# df3bf0675a0b4bcea713f5f6cdefa8b0
msgid "``$upstream_response_time``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:62
# 138728c3542d43bc808de882bfc3485f
msgid "The upstream reverse proxy response time."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:63
# 0a09534de4f742ae81d3d6aaf637f3a1
msgid "``$http_x_chef_version``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:64
# 51eca63c682245549aaad36b72b25689
msgid "The version of |chef| used to make this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:65
# 0d0d5090244f4926acfd342dd90698a8
msgid "``$http_x_ops_sign``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:66
# da98872355b8459b9976e2befa0e0378
msgid "The version of the authentication protocol."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:67
# 35c51667b38d4e78a1950b05859edf4d
msgid "``$http_x_ops_userid``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:68
# 1ef3290d06814f5cab0b64b24126d704
msgid "The client name that was used to sign this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:69
# 8bccb622eaa7466ea210a405f8ca514e
msgid "``$http_x_ops_timestamp``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:70
# 31ca2f47f9c746f8a43f25f382c05e11
msgid "The timestamp from when this request was signed."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:71
# e8c543c70f594aac934b31f67cf9b67a
msgid "``$http_x_ops_content_hash``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:72
# caba384c7e184b3b9a73272ed43fe488
msgid "The hash of the contents of this request."
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:73
# 256561bd876c4e4e9d7601b5704cb3fe
msgid "``$request_length``"
msgstr ""

#: ../../includes_server_logs/includes_server_logs_nginx_read_logs.rst:74
# de6a0ec8d3c248b0ace21629e279df59
msgid "The length of this request."
msgstr ""

#: ../source/runbook.rst:179
# 3db0fca6088b4db5aa3fe851c9e33449
msgid "Firewalls and Ports"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports.rst:4
# 912e502759904863a33cba657d4b482e
msgid "The ports that should be open depend on how the |chef server| is deployed---standalone, high availability, front- and back-end servers. All of the ports used by the |chef server| are TCP ports. Refer to the operating system's manual or site systems administrators for instructions on how to enable changes to ports, if necessary."
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_listening.rst:5
# 16d71089fbd740f2b01f41f2209136fb
msgid "All services must be listening on the appropriate ports. Most monitoring systems provide a means of testing whether a given port is accepting connections and service-specific tools may also be available. In addition, the generic system tool |telnet| can also be used to initiate the connection:"
msgstr ""

#: ../source/runbook.rst:186
# 57a1d94ea8e54c1ab74283cc04aefdd1
msgid "Standalone"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:4
# fb31db26ae0f486c812f8c726dc48683
msgid "For a standalone |chef server| installation, and if host-based firewalls (iptables, ufw, etc.) are being used, ensure that the following ports are open:"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:10
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:10
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:10
# 714678e663ac4b2e84ee6734fb31b53c
# ae9bc9510e9249dca14fc5d546afdf1e
# a77c421a8fe14cd683d61f97e8e9a389
msgid "Port"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:11
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:11
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:11
# 4436bacfa41a49598448cbb39fd3e912
# 5d3f770269b2470dbb45f0a5341e8705
# 530d80387fb1494d80eddcfe7182fcc1
msgid "Service"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:12
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:12
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:12
# d35f9ac48bcf412c8362ba8f7582f7f9
# 5c7dff2f2f704dbd9a84219c50bcb1ad
# db7256282848479eb0feace963b7351e
msgid "80"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:13
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:15
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:13
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:15
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:13
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:15
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:19
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:21
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:23
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:25
# ed47e08330e24a689bb156e8e6a159b5
# dff956222ffd458bba2a57ef856c52fa
# b7301e574aae44e2a0a10e9678c99717
# 1284235717b24969a3524f3e68162981
# c6e13f58ef4a431eb993d94fcf8f1d36
# acdbb954717b48d997ff12f6b8b7f4bb
# 35af50c5ffc541aa8a984fcf16d22310
# c15b214c3c834b859615bac264969309
# 4ea259451d67445ca41e0d651abb2065
# e25646a9eafe4250a7caa451379173fb
msgid "|service nginx|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_standalone.rst:14
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:14
#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:14
# bd84c445434b42059d7f889f0b39c35f
# b5bad73f6ad84b278ab1ba8891277e25
# 03df865ba59f43c0bfec0f8813529b6c
msgid "443"
msgstr ""

#: ../source/runbook.rst:190
# 5d33e2dfffbd4923b9b8e089a5fd7b91
msgid "Front End"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_fe.rst:4
# cdc731dfa8b6486d83b437026bf98c77
msgid "For front-end servers in an |chef server| installation:"
msgstr ""

#: ../source/runbook.rst:194
# 8bb09daf66444c2eaa3adccd5e92549f
msgid "Back End"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:4
# 361925e670384186bf71eac8c050aa1b
msgid "For back-end servers in an |chef server| installation:"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:16
# 4e70d1416cb14495b501d9e41219ae17
msgid "9463"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:17
# ea005c7be26d49f0afd93384535ff5e1
msgid "|service bifrost|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:18
# 5b7e0aafdf6f4380a0afb9edf204d239
msgid "9671"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:20
# 6a240ce79d8a432cb0ed385ef5737f72
msgid "9680"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:22
# 59738ab992454865b05253de9b3aecb3
msgid "9685"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:24
# 732260e9517744ffa1fdb9861e54f6eb
msgid "9683"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:26
# 5398fb369eed4c73a76179967ccc09d3
msgid "8983"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:27
# 52b048984e2a40bba3f4c3476745d35f
msgid "|service solr|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:28
# 1eca0ba321bd459d9ac9b6887e1dc22a
msgid "5432"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:29
# efae08fcc0d94bd8b617f1bb944569d7
msgid "|service postgresql|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:30
# 677f4626f7024e02954bd3df5a53223c
msgid "5672"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:31
# e645ee8fa2b44a35bafa8a32455dcf5d
msgid "|service rabbitmq|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:32
# 02928be5b7d241f38b79fde6bf1509fe
msgid "16379"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:33
# 220bd3e5a4ae4e2b95267142a884bd96
msgid "|service redis_lb|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:34
# 5a6c54f12fa04fffb75da15618d80692
msgid "4321"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:35
# 68668244195e491ba86e9e7f2bb1e486
msgid "|service bookshelf|"
msgstr ""

#: ../../includes_server_firewalls_and_ports/includes_server_firewalls_and_ports_be.rst:36
# c8d34563d68f43ef90dae1397d0cd77a
msgid "7788-7799"
msgstr ""

#: ../source/runbook.rst:203
# d2b32a6bf0f34a0aa5ae6a90b74af86f
msgid "Services"
msgstr ""

#: ../source/runbook.rst:204
# d3422ec9a137466d944f62d1dc831ebd
msgid "The following subcommands are built into the |chef server ctl| command line tool."
msgstr ""

#: ../source/runbook.rst:207
# 373f462013e346c19cb570fcc5269a78
msgid "hup"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_hup.rst:6
# a16751cd351443b995508388c15bc97a
msgid "The ``hup`` subcommand is used to send a ``SIGHUP`` to all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:211
# 7cb5524878fd484ca0f2ca0bc1f3f315
msgid "int"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_int.rst:6
# 82e84ced47614f7bb5b8f81effac4fb5
msgid "The ``int`` subcommand is used to send a ``SIGINT`` to all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:215
# 69c2013cf0da488283c3b5bb561bcf1b
msgid "kill"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_kill.rst:6
# d53be36f33c34789bcb9ffc92434e6fb
msgid "The ``kill`` subcommand is used to send a ``SIGKILL`` to all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:219
# b1338b9f90db4391897343753eacdb4b
msgid "once"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_once.rst:6
# 6824cbb69200473c8a39669de61b48f7
msgid "The supervisor for the |chef server| is configured to restart any service that fails, unless that service has been asked to change its state. The ``once`` subcommand is used to tell the supervisor to not attempt to restart any service that fails."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_once.rst:8
# 0178eb0725d14ee98dfd81a5764d9d73
msgid "This command is useful when troubleshooting configuration errors that prevent a service from starting. Run the ``once`` subcommand followed by the ``status`` subcommand to look for services in a down state and/or to identify which services are in trouble. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:223
# 023f5eb0d48f4daca9ad7afe4781a42a
msgid "restart"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_restart.rst:6
# d0c53f8504a84e6b980e77ef031a8399
msgid "The ``restart`` subcommand is used to restart all services enabled on the |chef server| or to restart an individual service by specifying the name of that service in the command."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_restart.rst:8
# 8d126d6943b449cabc9bd48be98d85db
msgid "When running the |chef server| in a high availability configuration, restarting all services may trigger failover."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_restart.rst:16
# da9bdf42bcf545a7b8054cdd913993a4
msgid "where ``name_of_service`` represents the name of any service that is listed after running the ``service-list`` subcommand. When a service is successfully restarted the output should be similar to:"
msgstr ""

#: ../source/runbook.rst:227
# c06e8b90efa6497ab6201c7804ce4786
msgid "service-list"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_service_list.rst:6
# d3d33162d068409e89d0851c82057f5d
msgid "The ``service-list`` subcommand is used to display a list of all available services. A service that is enabled is labeled with an asterisk (*)."
msgstr ""

#: ../source/runbook.rst:231
# e160d18d96f3489e8759be888be5ece3
msgid "start"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_start.rst:6
# 35078071f42a403a968ce89d470154b9
msgid "The ``start`` subcommand is used to start all services that are enabled in the |chef server|. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_start.rst:14
# fb6671603c474f9ab63da7b229a6a628
msgid "where ``name_of_service`` represents the name of any service that is listed after running the ``service-list`` subcommand. When a service is successfully started the output should be similar to:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_start.rst:20
# e10452557d734f7db63ee94864305fc2
msgid "The supervisor for the |chef server| is configured to wait seven seconds for a service to respond to a command from the supervisor. If you see output that references a timeout, it means that a signal has been sent to the process, but that the process has yet to actually comply. In general, processes that have timed out are not a big concern, unless they are failing to respond to the signals at all. If a process is not responding, use a command like the ``kill`` subcommand to stop the process, investigate the cause (if required), and then use the ``start`` subcommand to re-enable it."
msgstr ""

#: ../source/runbook.rst:235
# 36ad971167b1433e9f79b4ade4675242
msgid "status"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:6
# bf2e849bfaed4da09cad636af7a62da7
msgid "The ``status`` subcommand is used to show the status of all services available to the |chef server|. The results will vary based on the configuration of a given server. This subcommand has the following syntax:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:12
# bfb529d095b04c00b38b689fda6ce89a
msgid "and will return the status for all services. Status can be returned for individual services by specifying the name of the service as part of the command:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:20
# 8963e254e99b47128e13b0457b5d6f7e
msgid "When service status is requested, the output should be similar to:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:26
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:25
# 7526ece5e9a84fadb68dcb7c2d4fd9d1
# cda18c00a1224f30891751751570008e
msgid "where"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:28
# 56bc71c7d78f47d3a84f25fdb9a95725
msgid "``run:`` is the state of the service (``run:`` or ``down:``)"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:29
# 408e354fd8fc47efbe13762a94c75aa7
msgid "``service_name:`` is the name of the service for which status is returned"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:30
# 662eb878f19949d5bf2662753201f6ba
msgid "``(pid 12345)`` is the process identifier"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:31
# faf49dbc94364b6ab9453d24bcaff823
msgid "``12345s`` is the uptime of the service, in seconds"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:33
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:20
# ceef3dbc9ef6415595aeb7682fa3a1bd
# 1bbf527ec1544ea48254fbcf05bedfaa
msgid "For example:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status.rst:39
# b86dc05c11574bae854d99061ada091d
msgid "By default, |runit| will restart services automatically when the services fail. Therefore, |runit| may report the status of a service as ``run:`` even when there is an issue with that service. When investigating why a particular service is not running as it should be, look for the services with the shortest uptimes. For example, the list below indicates that the |service erchef| should be investigated further:"
msgstr ""

#: ../source/runbook.rst:239
#: ../source/runbook.rst:357
# 9cbae3f485f94ae28cff9b2799ea7997
# 670b24c8cdd04b6ab849e87076507b48
msgid "High Availability"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:6
# 7db691fddba84da098308e3eda5c88cf
msgid "A typical status line for a service that is running any of the |chef server| front-end services is similar to the following:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:12
# 8e7bc9ff072e42cdaa90cef816cf3780
msgid "where:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:14
# 0f32cdacc389435a8c7bdb51b4b8bd97
msgid "``run`` describes the state in which the supervisor attempts to keep processes. This state is either ``run`` or ``down``. If a service is in a ``down`` state, it should be stopped"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:15
# 07aaf70c5734401b80cf040feca5a5bb
msgid "``name_of_service`` is the service name, for example: ``opscode-solr4``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:16
# 9d8f7f5f7a9b43d59cf5d1bdba274c50
msgid "``(pid 1486) 7819s;`` is the process identifier followed by the amount of time (in seconds) the service has been running"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:17
# 5179ace7ae854eb6a4e58844f2262e53
msgid "``run: log: (pid 1485) 7819s`` is the log process. It is typical for a log process to have a longer run time than a service; this is because the supervisor does not need to restart the log process in order to connect the supervised process"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:19
# 26139705c4b94b6a9d012b7eff6ee7be
msgid "If the service is down, the status line will appear similar to the following:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:27
# 98cbc2e34df6416d97ec98fd9b71ac25
msgid "``down`` indicates that the service is in a down state"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_status_logs.rst:28
# be930ce2c9074f78a1c53b403cb2a4b1
msgid "``3s, normally up;`` indicates that the service is normally in a run state and that the supervisor would attempt to restart this service after a reboot"
msgstr ""

#: ../source/runbook.rst:247
# 5248da95b97f494d9fd5b34f5cca3deb
msgid "stop"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:6
# 7e6161c897364a428b8b446418708db3
msgid "The ``stop`` subcommand is used to stop all services enabled on the |chef server|. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:14
# 6768be29987744b589c922d2adb61a2f
msgid "where ``name_of_service`` represents the name of any service that is listed after running the ``service-list`` subcommand. When a service is successfully stopped the output should be similar to:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_stop.rst:26
# 07a4473f43f0455eabd12427a78af59f
msgid "will return something similar to:"
msgstr ""

#: ../source/runbook.rst:251
# cae3157551b94c5f8cd29c56cabb78aa
msgid "tail"
msgstr ""

#: ../source/runbook.rst:255
# 6504aa07bfe04b66a9fadae451bdde64
msgid "term"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_term.rst:6
# a237334ddebb46819779ba1c3811a033
msgid "The ``term`` subcommand is used to send a ``SIGTERM`` to all services. This command can also be run for an individual service by specifying the name of the service in the command."
msgstr ""

#: ../source/runbook.rst:263
# fdf763fdeaaa48928978f4e1b47b75be
msgid "SSL Configuration"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:4
# 102455cf73104628adc248cf960d1985
msgid "Configuration of |ssl| for the |chef server| using certificate authority-verified certificates is done by placing the certificate and private key file obtained from the certifying authority in the correct files after the initial configuration of |chef server|."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:6
# 8569bed805db492a9231d300a21c339f
msgid "Initial configuration of the |chef server| is done automatically using a self-signed certificate to create the certificate and private key files for |nginx|."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:8
# 7c5f2d5421034fcfb2a519fb8577c279
msgid "The locations of the certificate and private key files are"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:10
# 49bd92887dbe4e02a8231352c567e7b7
msgid "``/var/opt/opscode/nginx/ca/FQDN.cert``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:11
# 27e5c9cfe52e4c52bad8125a9252f19d
msgid "``/var/opt/opscode/nginx/ca/FQDN.pem``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl.rst:13
# c5e35a9a14334e99842f9d7133e6dc18
msgid "As the |fqdn| will have already been configured previously, simply replace the contents of these two files with the certifying authority's files."
msgstr ""

#: ../source/runbook.rst:267
# 17cd534a125f49ee9c671ef22cf5da28
msgid "The |fqdn| for the |chef server| should not exceed 64 characters when using |open ssl|. |open ssl| requires the ``CN`` in a certificate to be no longer than 64 characters."
msgstr ""

#: ../source/runbook.rst:269
# 9dd273d6f3d84d0b8c595c0d06775b74
msgid "By default, the |chef server| uses the |fqdn| to determine the common name (``CN``). If the |fqdn| of the |chef server| is longer than 64 characters, the ``reconfigure`` command will not fail, but an empty certificate file will be created. |nginx| will not start if a certificate file is empty."
msgstr ""

#: ../source/runbook.rst:272
# 238f8d08f080429b8d8342de8a76b806
msgid "Custom Certificates"
msgstr ""

#: ../../step_server_security/step_server_security_ssl_custom_certificates.rst:4
# 1215143057124d299e01b153bac5314e
msgid "The |chef server| can be configured to use |ssl| certificates by adding the following settings in the server configuration file:"
msgstr ""

#: ../../step_server_security/step_server_security_ssl_custom_certificates.rst:10
#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:10
#: ../../includes_server_tuning/includes_server_tuning_general.rst:10
#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:10
#: ../../includes_server_tuning/includes_server_tuning_chef.rst:10
#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:10
#: ../../includes_server_tuning/includes_server_tuning_expander.rst:10
#: ../../includes_server_tuning/includes_server_tuning_solr.rst:10
#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:14
#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:10
#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:10
# 6c919ab413334cddb50ff078877f4b88
# 8d1bd58da18245049a9a54806831647d
# 63db95f76e6b45beb0c848012bb7caf2
# d8f18ce8db8e43ccbdeb20a305ed2bca
# dc5f19cfaace40b3a6d5ceeb6575be46
# 8860681bc03149b5acffd778028919ad
# 9a31161425e04f4c9f1916592bdabd11
# df354aa09d8e4299a05b1718ef5ad2ff
# 1f5baafa2e034701b15aa441ef902547
# b0b813c4a7cf4e41b78bf08868a18290
# a24f35b0f9c64bbb809a9cb4f66b1bcc
msgid "Setting"
msgstr ""

#: ../../step_server_security/step_server_security_ssl_custom_certificates.rst:12
# 4e94feaa666645b5b3e95db2abda1ee6
msgid "``nginx['ssl_certificate']``"
msgstr ""

#: ../../step_server_security/step_server_security_ssl_custom_certificates.rst:13
# cc7c7bb21bd74ced87662bf3e6c6cc30
msgid "|ssl_certificate|"
msgstr ""

#: ../../step_server_security/step_server_security_ssl_custom_certificates.rst:14
# a361a3fbfc4a4e4f984c9be869921671
msgid "``nginx['ssl_certificate_key']``"
msgstr ""

#: ../../step_server_security/step_server_security_ssl_custom_certificates.rst:15
# d1f281e744734824a8f27a61cb9828ec
msgid "|ssl_certificate key|"
msgstr ""

#: ../../step_server_security/step_server_security_ssl_custom_certificates.rst:17
# 9a87a7e3a6bd459a9e9159fa324900f0
msgid "and setting their values to define the path to the certificate and the path to the certificate key, similar to the following:"
msgstr ""

#: ../../step_server_security/step_server_security_ssl_custom_certificates.rst:24
# eae6fa391a494693bf9c45cab39d6cb2
msgid "Save the file, and then run the following command:"
msgstr ""

#: ../source/runbook.rst:276
# 35b13cd584bb4b87ac8e088f5b0c009a
msgid "Regenerate Certificates"
msgstr ""

#: ../../step_server_security/step_server_security_ssl_regenerate_certificates.rst:4
# 871c716355a54f22ac6d91b7a8ba4401
msgid "|ssl| certificates should be regenerated periodically. This is an important part of protecting the |chef server| from vulnerabilities and helps to prevent the information stored on the |chef server| from being compromised."
msgstr ""

#: ../../step_server_security/step_server_security_ssl_regenerate_certificates.rst:6
# 18858766422f41748aeed51ef57a76e1
msgid "To regenerate |ssl| certificates:"
msgstr ""

#: ../../step_server_security/step_server_security_ssl_regenerate_certificates.rst:8
#: ../../step_server_security/step_server_security_ssl_regenerate_certificates.rst:30
# 25b48ba20ba14f57ba2919660a9bba1c
# 514cbcd7508c45019d5b3264be932f56
msgid "Run the following command:"
msgstr ""

#: ../../step_server_security/step_server_security_ssl_regenerate_certificates.rst:14
# 401ada7f06f24f529f15d920c44d743d
msgid "The |chef server| can regenerate them. These certificates will be located in ``/var/opt/opscode/nginx/ca/`` and will be named after the |fqdn| for the |chef server|. To determine the |fqdn| for the server, run the following command:"
msgstr ""

#: ../../step_server_security/step_server_security_ssl_regenerate_certificates.rst:20
# 178a213298d945228bffdeeaf76ddbfd
msgid "Please delete the files found in the ca directory with names like this ``$FQDN.crt`` and ``$FQDN.key``."
msgstr ""

#: ../../step_server_security/step_server_security_ssl_regenerate_certificates.rst:22
# 7cfec3ddf8d34578b88cb9c10892dcfb
msgid "If your organization has provided custom |ssl| certificates to the |chef server|, they are located in ``/etc/opscode/chef-server.rb`` as values for the ``nginx[‘ssl_certificate’]`` and ``nginx[‘ssl_certificate_key’]`` settings. Delete these files and regenerate new keys using the same authority."
msgstr ""

#: ../../step_server_security/step_server_security_ssl_regenerate_certificates.rst:24
# 8ee9614e024a4cef9bd4f5325f997f4f
msgid "Run the following command, |chef server|-generated |ssl| certificates will automatically be created if necessary:"
msgstr ""

#: ../source/runbook.rst:280
# b9961e74e7b84c87a3e967e2354cc029
msgid "|chef client| Settings"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:4
# 4a2aa9de08a24e5dba6c512aab5996e3
msgid "The |client rb| file has the following settings for configuring |ssl| for |chef client| interation with the |chef server|:"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:12
# e2da2d78133f4bba86da8caab0342fe5
msgid "``ssl_ca_file``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:13
# 41468bc039aa451bb265140a41cd136e
msgid "|ssl_ca_file|"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:14
# b9a0922d82724b32b27b4eb12bdc7c33
msgid "``ssl_ca_path``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:15
# d1e3d091efdc46d187d5d76941a73fd8
msgid "|ssl_ca_path|"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:16
# 7921a875af1b4abdbac858b7b2a5187c
msgid "``ssl_client_cert``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:17
# cb930e1571a24bd88eb551bc711b8013
msgid "|ssl_client_cert|"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:18
# 2c6ebb8f56ff4b96a7c45549904e2c7f
msgid "``ssl_client_key``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:19
# 0ebe2f368fa74fdb8137e930c446b552
msgid "|ssl_client_key|"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:20
# 57ad8eedf9144af7be8082a054b8a9ac
msgid "``ssl_verify_mode``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:21
# c5de180d35b14b87808184fd047560be
msgid "|ssl_verify_mode|"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:23
# 61f8810f920c44e4a5a3b39381389421
msgid "|ssl_verify_mode_verify_none|"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:24
# ea2205cd6c8843f2825230ab37379b39
msgid "|ssl_verify_mode_verify_peer| This is the recommended setting."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:26
# ed852560c57a42f08e5c504cc84de564
msgid "Depending on how |open ssl| is configured, the ``ssl_ca_path`` may need to be specified."
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:27
# 4a1b5fde92174bb8ac36ce8fd8cf4d3a
msgid "``verify_api_cert``"
msgstr ""

#: ../../includes_server_security/includes_server_security_ssl_config_settings.rst:28
# e3adf769b638444fbb9cc8c5ed7e2bf0
msgid "|ssl_verify_mode_verify_api_cert| Default value: ``false``."
msgstr ""

#: ../source/runbook.rst:291
# 937a8b3c2318449b9c8425f36faf8036
msgid "Server Tuning"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning.rst:4
# d2bf133644634343afa4ec9de5878ab8
msgid "The server configuration file contains a list of all the configuration options available for the |chef server|. Some of these values should be modified for large-scale installations."
msgstr ""

#: ../source/runbook.rst:295
# 862590b3249c49d7924879f406fc5253
msgid "|note enterprise_chef_tuning|"
msgstr ""

#: ../source/runbook.rst:299
# 601f08ad67c04134abf12a811fe83296
msgid "Customize the Config File"
msgstr ""

#: ../../includes_config/includes_config_rb_server.rst:4
# 490e4bfac2274ca7975bdf06c786d964
msgid "The |chef server rb| file contains all of the non-default configuration settings used by the |chef server|. (The default settings are built-in to the |chef server| configuration and should only be added to the |chef server rb| file to apply non-default values.) These configuration settings are processed when the ``chef-server-ctl reconfigure`` command is run, such as immediately after setting up the |chef server| or after making a change to the underlying configuration settings after the server has been deployed. The |chef server rb| file is a |ruby| file, which means that conditional statements can be used in the configuration file."
msgstr ""

#: ../source/runbook.rst:303
# c7da4c8888514a8a996ca65ef74e0027
msgid "Use Conditions"
msgstr ""

#: ../../step_config/step_config_add_condition.rst:4
# 8c8eaf8d44d0495a9b267ffff514e0a8
msgid "Use a ``case`` statement to apply different values based on whether the setting exists on the front-end or back-end servers. Add code to the server configuration file similar to the following:"
msgstr ""

#: ../source/runbook.rst:308
# 99e86f77346c4179ae8bdab299961751
msgid "Recommended Settings"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:4
# 42a9d3a95bee4913a446c13c0af25f27
msgid "The following settings are typically added to the server configuration file:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:12
# 365812b135d6492db1eb81f680c3ade9
msgid "``api_fqdn``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:13
# bb853768f26540d896546f265a42905a
msgid "The |fqdn| for the |chef server|. This setting is not in the server configuration file by default. When added, its value should be equal to the |fqdn| for the service URI used by the |chef server|. Then configure the same value for the ``bookshelf['vip']`` setting prior to installing the |chef server|. For example: ``api_fqdn \"chef.example.com\"``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:14
#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:12
# 405b1ce74a644276b3197059397d3c4f
# 774b1bb2b2264378b5f01946ae761214
msgid "``bookshelf['vip']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:15
# 7454526073304e5da3d5df3a5ee318e1
msgid "|ip_address virtual| Default value: ``node['fqdn']``. (This setting is related to the |service bookshelf| service.)"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:16
# 1d3c6ee2a510462d8a9a0b783f8dc232
msgid "``bootstrap``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:17
# 6e198b56760f43af978fb69b5db374c0
msgid "Default value: ``true``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:18
# 047b9071783c4b2caac6b10195d96a3d
msgid "``ip_version``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:19
# cfad8615cf1d41cd83337767a5f52e31
msgid "Use to set the IP version: ``\"ipv4\"`` or ``\"ipv6\"``. When set to ``\"ipv6\"``, the API listens on IPv6 and front end and back end services communicate via IPv6 when a high availability configuration is used. When configuring for IPv6 in a high availability configuration, be sure to set the netmask on the IPv6 ``backend_vip`` attribute. Default value: ``\"ipv4\"``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:20
# d5c49b7c213a4b66bb5fa299f7ec612f
msgid "``notification_email``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_general.rst:21
# 70b565d0138d46b1933f2fa56835c490
msgid "Default value: ``info@example.com``."
msgstr ""

#: ../source/runbook.rst:312
# 4b6bbf7d988a4f8ea8044aa1bd63f3e0
msgid "Optional Settings"
msgstr ""

#: ../source/runbook.rst:313
# d4c3eae9f5234f029245f1a9057778ea
msgid "The following settings are often used to for performance tuning of the |chef server| in larger installations."
msgstr ""

#: ../source/runbook.rst:315
# 1619ea4129ab434caac494eeecb6e275
msgid "When changes are made to the |chef server rb| file, the |chef server| must be reconfigured by running the ``chef-server-ctl reconfigure`` command."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:4
# a5826a778db04e7693bc447f77aa05d2
msgid "The following setting is often modified from the default as part of the tuning effort for the |service bookshelf| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_bookshelf.rst:13
# 3b755a0f3c884f3c86e146a8a849324d
msgid "|ip_address virtual| Default value: ``node['fqdn']``."
msgstr ""

#: ../source/runbook.rst:322
# 59baf51a6635425b9b07292068621735
msgid "opscode-chef"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_chef.rst:4
# ab028de2b70a4304ac1e6aa4734c7ae7
msgid "The following setting is often modified from the default as part of the tuning effort for the |service chef| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_chef.rst:12
# ec106779a820427389d1da1e222cd470
msgid "``opscode_chef['worker_processes']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_chef.rst:13
# e96c8c99a88e48798ea8ea74f382fadf
msgid "|worker_processes| This value should be increased if requests made to the |service chef| service are timing out, but only if the front-end machines have available CPU and RAM. Default value: ``4``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:4
# fd3630f5181d41b2ad0ce4e70945e5fd
msgid "The following settings are often modified from the default as part of the tuning effort for the |service erchef| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:12
# e123c4b4cff04f278d7b1f41d34c2359
msgid "``opscode_erchef['db_pool_size']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:13
# d15dae8246c2486d9c4b5cda512a5f03
msgid "|db_pool_size| If failures indicate that the |service erchef| service ran out of connections, try increasing the ``postgresql['max_connections']`` setting. If failures persist, then increase this value and also increase the value for ``postgresql['max_connections']``. Default value: ``20``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:14
# f2c83b45f6c0470fa40ff43041f60e75
msgid "``opscode_erchef['s3_url_ttl']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_erchef.rst:15
# 6a0a73b74d964b7ea0831d29dd8b35b6
msgid "|s3_url_ttl| If |chef client| runs are timing out, increase this setting to ``3600``, and then adjust again if necessary. Default value: ``900``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_expander.rst:4
# 735eea0d4fa54adb8bae7d3874a4f7e3
msgid "The following setting is often modified from the default as part of the tuning effort for the |service expander| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_expander.rst:12
# 41ed1eccd37144ca91b648a8dd63eeae
msgid "``opscode_expander['nodes']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_expander.rst:13
# bcd13977639148d7abe68c15a6dc27b6
msgid "|worker_processes| The |service expander| service runs on the back-end and feeds data to the |service solr| service, which creates and maintains search data used by the |chef server|. Additional memory may be required by these worker processes depending on the frequency and volume of |chef client| runs across the organization, but only if the back-end machines have available CPU and RAM.. Default value: ``2``."
msgstr ""

#: ../source/runbook.rst:334
# 44686b17093d4930a57f134ebac24007
msgid "opscode-solr"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:4
# 8de82e7548cc457db5d83c1c58c2cf9d
msgid "The following settings are often modified from the default as part of the tuning effort for the |service solr| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:12
# efeb2f5e8d3841169d410ab566924650
msgid "``opscode_solr['heap_size']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:13
# d6590c7803384dcda1815ded95d6c7e2
msgid "|heap_size solr|"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:15
# 5d0eb7a238154b25ac770dbf8926338d
msgid "If |apache solr| is running out of memory, the ``/var/log/opscode/opscode-solr/current`` log file will contain ``SEVERE: java.lang.OutOfMemoryError: Java heap space``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:17
# 4c93c6af53a94026997a3786976f528a
msgid "The default value should work for many organizations with fewer than 25 nodes. Suggested value: ``256`` per every 25 nodes. For example, an organization with 300 nodes, this value should be set to ``3072``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:18
# 3bbf091de01741e5b2b75e38926986b1
msgid "``opscode_solr['max_field_length']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr.rst:19
# 36eda87008844558833b9e1ffa684c80
msgid "|solr_max_field_length| Default value: ``100000`` (increased from the |apache solr| default value of ``10000``)."
msgstr ""

#: ../source/runbook.rst:337
# b8fdce1ec8cd44529e5d48a4a2a37617
msgid "**Update Frequency**"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:4
# a9ecd7f8610e4f6bb8e8c27b40334e4a
msgid "At the end of every |chef client| run, the node object is saved to the |chef server|. From the |chef server|, each node object is then added to the ``SOLR`` search index. This process is asynchronous. By default, node objects are committed to the search index every 60 seconds or per 1000 node objects, whichever occurs first."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:6
# c521c3f64ce7456998175b5507babea8
msgid "|solr_update_frequency_caveat|"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:8
# 7f86f143e2b24b71ac22e13a1bfef6f7
msgid "For |chef server|, these settings are configurable:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:16
# f13f3a06bec743e8bcd9ad2b56598212
msgid "``opscode_solr['commit_interval']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:17
# cbd1c88bd9bd42a2a4fb88ec1f1eeb09
msgid "|solr_commit_interval| Default value: ``60000`` (every 60 seconds)."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:18
# 9c5462435a3c4f8995a880751eefdeb1
msgid "``opscode_solr['max_commit_docs']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_solr_update_frequency.rst:19
# 56a194bb3ec7406687dd908843873f9d
msgid "|solr_max_commit_docs| Default value: ``1000`` (every 1000 documents)."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:4
# 8b791382ca434776bdd08103cfbd4dff
msgid "The following setting is often modified from the default as part of the tuning effort for the |service postgresql| service:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:12
# 5c6a8e3fa7f4432ca3fd23581f499670
msgid "``postgresql['max_connections']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql.rst:13
# 1dcb9d95f85f40088e5afed134d23253
msgid "|max_connections| This value should only be tuned when the ``erchef['db_pool_size']`` value used by the |service erchef| service is modified. Default value: ``350``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:4
# 7eff1faad3984896b3052695f97c7378
msgid "If there are more than two front end machines in a cluster, the ``postgresql['max_connections']`` setting should be increased. The increased value depends on the number of machines in the front end, but also the number of services that are running on each of these machines. Each front end machine always runs the |service bifrost| and |service erchef| services. The |reporting| add-on adds the |service reporting| service. The |push jobs| service adds the |service push_jobs| service. Each of these services requires 25 connections, above the default value."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:6
# 7ba42ae969af444b92f9e6e8c4fd2ec1
msgid "Use the following formula to help determine what the increased value should be:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_postgresql_connection_pool.rst:14
# 0475a8089e294e0086ea01d3402a0c11
msgid "For example, if the current value is 350, there are four front end machines, and all add-ons are installed, then the formula looks like:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:4
# 17eb0114d7b748ed9c28c6993c8360c8
msgid "The following settings must be modified when the |chef analytics| server is configured as a standalone server:"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:12
# 2e06a4cd0d3c4010ac1b7334b23c2073
msgid "``rabbitmq['node_ip_address']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:13
# c7347de98c104133bcc3d7229d72d470
msgid "|ip_address rabbitmq| Default value: ``\"127.0.0.1\"``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:15
# eb11fc8dfda541d7bc4996e65af22395
msgid "|analytics rabbitmq_settings| When the |chef analytics| server is configured as a standalone server, change this value to ``0.0.0.0``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:16
# 4dddf611cc0d4dedad460b5ddc542b04
msgid "``rabbitmq['vip']``"
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:17
# d134fdcbeb62404cbaa0a24d8073e1b9
msgid "|ip_address virtual| Default value: ``\"127.0.0.1\"``."
msgstr ""

#: ../../includes_server_tuning/includes_server_tuning_rabbitmq.rst:19
# 116035c03a35420aa5a0599ec9c60322
msgid "|analytics rabbitmq_settings| When the |chef analytics| server is configured as a standalone server, change this value to the backend VIP address for the |chef server|."
msgstr ""

#: ../source/runbook.rst:353
# cd270184c11046b1bb2c2e9360af824b
msgid "Backup and Restore"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore.rst:4
# 0a84425e64cf478788186fbbdcf623db
msgid "Periodic backups of |chef server| data are an essential part of managing and maintaining a healthy configuration and to help ensure that important data can be restored, if required."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:4
# f3958a6899ca4fed9d774aeb16e4f15a
msgid "To configure backups on the backend servers in a |ha| configuration, set a |cron| job in ``/etc/cron.d/opc_snapshot`` similar to the following:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:15
# 7808f63547af4381a71518de89b18813
msgid "A |cron| job similar to the previous example will mount a new snapshot logical volume named::"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:19
# 6d26aaa40cc445bcadbf0a9202dd397d
msgid "where ``{+%Y-%m-%d-%H-%M-%S}`` is a format string for year, month, day, so on."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:21
# 48000abe50794b9d95b34826c7dc4cbb
msgid "After the |cron| job has run successfully, the ``mount`` command will show the new logical volume mounted on the ``/var/opt/opscode/drbd-backups`` mount point. The backup script will create a snapshot logical volume in unused space in the ``/opscode`` volume group. After the snapshot is created, the backup script will attempt to mount the snapshot logical volume, after which the snapshot will stay mounted for 24 hours. Upon the next |cron| job run, the backup script will attempt to unmount, destroy the snapshot, and then repeat the sequence."
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_ha.rst:23
# dc78f52ef89a4843ba19dad62e262a47
msgid "The ``drbd-backups`` script with default settings requires at least 40 GB free space in the ``/opscode`` volume group on the backend servers."
msgstr ""

#: ../source/runbook.rst:361
# ed1ea1d2e87d4a30b1544de5b3e67468
msgid "Required Directories"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations.rst:4
# a26f6da07b1249b7a6631c847e65951e
msgid "Data stored in the following directories should be backed up periodically:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations.rst:6
#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:12
# dfa07314500d4b63a43a1b950d79c313
# a884f2276d4945d6bf2413baf5efa9ba
msgid "/etc/opscode"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations.rst:7
#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:13
# 2fb3db0360e9497aa08813d3eac2e6c0
# 235f7d783f6b4edbb113b891f678381f
msgid "/var/opt/opscode"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations.rst:9
# d26b7709a693489e93af299cc14e0ed9
msgid "This data is also essential when any type of backup and restore operation is done for the |chef server|."
msgstr ""

#: ../source/runbook.rst:365
# c27996a46abc40ab9fdaaef63759058c
msgid "Backup"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_backup.rst:5
# dcb37d9974c142849ae431827336243e
msgid "When backing up |chef server| data, be sure that the system is shut down (or otherwise quiet) at the time of the backup. As the ``opscode-pgsql`` user, run the following command:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_backup.rst:11
# 73272e2dc50c43d2b59e88c44c9478d6
msgid "and then synchronize to make sure that all of the data is present on-disk:"
msgstr ""

#: ../source/runbook.rst:369
# eb4ed13f7bde48c38d17134d73a37c9c
msgid "Restore"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:4
# af14f3255e044a6eb29e076bb54b6c61
msgid "When restoring |chef server|  data, the previously backed-up files will be required, along with the |chef server| running only the |service postgresql| service. To restore the database, as the ``opscode-pgsql`` user, run the following command:"
msgstr ""

#: ../../includes_server_backup_restore/includes_server_backup_restore_locations_restore.rst:10
# 224d5b6bee2540f19dfed4eac6092649
msgid "and then restore the previously backed-up files to the following locations:"
msgstr ""

#: ../source/runbook.rst:377
# 47958efd1e264b468cee63755382950b
msgid "Manage Organizations"
msgstr ""

#: ../source/runbook.rst:378
#: ../source/runbook.rst:425
# b1bb7a94de8449769938163e0f181661
# d9daf1762557464dae649c09c14a3779
msgid "The following commands are built-in to the |chef server ctl| command line tool:"
msgstr ""

#: ../source/runbook.rst:381
# ea1d7ddcf4434feca7a5437af5fcf0ae
msgid "org-create"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create.rst:6
# e3d63c1be0f742a8bdd29e3ed088a999
msgid "The ``org-create`` subcommand is used to create an organization."
msgstr ""

#: ../source/runbook.rst:384
#: ../source/runbook.rst:396
#: ../source/runbook.rst:404
#: ../source/runbook.rst:416
#: ../source/runbook.rst:431
#: ../source/runbook.rst:439
#: ../source/runbook.rst:451
#: ../source/runbook.rst:459
#: ../source/runbook.rst:467
#: ../source/runbook.rst:475
#: ../source/runbook.rst:487
# 9608fcd2802b4009a94db3e59c129298
# 2c647861dafe4db5ae5c681c50a811ca
# d16d87fb086a429390b587e1155581c3
# 9876a199adc34bea89c8d2cc5480db16
# 1630bdf2c3084e598bb5b6205545aedf
# ad02b9cb5c094ab4a41e34226cf96c8d
# 2b03f9053dc24eb78f7cf58d545724fb
# 15aafa280281411c9f359e90f38e1471
# 9fe387d461c0409ea3f47b330dde1a18
# c97eaf2c1e4e4297921f5d4e3f56108b
# eaa802e401954585b6252150667ce0e6
msgid "**Syntax**"
msgstr ""

#: ../source/runbook.rst:388
#: ../source/runbook.rst:408
#: ../source/runbook.rst:443
#: ../source/runbook.rst:479
#: ../source/runbook.rst:491
# 51eb996e69e74f7b83af9b075b899a62
# 1e0e23572194483aa6c50bc69dae36dc
# 6fac2dce4cd04efdb937ff2f24bfbafc
# 9c691b1b742241b3b5d6699701631d81
# d32884851c3642cabe3c9643cdfb3d5d
msgid "**Options**"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list_options.rst:6
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show_options.rst:6
# a40785f412844979b153ced0d821d7ca
# 1e2e474246d5450e9c43ac5fe876e29d
# 2a825308bc654460b3b9b1fa8dded706
# 7d6dfd0ad0f343e594e3ca1667f2c9f0
# 45805b84b70e4fba8d097b37a7f00657
msgid "This subcommand has the following options:"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:9
# b1fc34d0addd4800b5c7f0a22d47394d
msgid "``-a USER_NAME``, ``--association_user USER_NAME``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:9
# 97782aa961e94b8c8475ee7867b42b42
msgid "Use to associate a user with an organization."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:13
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create_options.rst:9
# d831413e1b8a42a1b2b2adaf0f12c049
# 36eb2fd1bb5d4bf4a5395a79ce06b621
msgid "``-f FILE_NAME``, ``--filename FILE_NAME``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_create_options.rst:12
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create_options.rst:9
# 1a17848e9733453980621f73cb119e0b
# e790f8c5a4a440b293904c048adac2d8
msgid "Use to write the private key to a file instead of ``STDOUT``."
msgstr ""

#: ../source/runbook.rst:393
# 31f5be989cda4fec8a43432198809344
msgid "org-delete"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_delete.rst:6
# d8bc6fea6bd04d4986f3e3d66469c891
msgid "The ``org-delete`` subcommand is used to delete an organization."
msgstr ""

#: ../source/runbook.rst:401
# 6b58c69ffebf4715bd98f21f1978ba5a
msgid "org-list"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list.rst:6
# a316763b3c5d417792c40679ef7140a8
msgid "The ``org-list`` subcommand is used to list all of the organizations currently present on the |chef server|."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:9
# 59470b7a063e4ef4b8d8dfd8fce6f6ae
msgid "``-a``, ``--all-orgs``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:9
# b0b43a258ff447baab750991a2228485
msgid "Use to show all organizations."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:12
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list_options.rst:9
# 1d783611d5794b30a248594d21316ad6
# 221f05407ec0406ba7d7506df6825d52
msgid "``-w``, ``--with-uri``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_list_options.rst:12
#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list_options.rst:9
# a07b136562034fa084ae6d51c2cf81a5
# 1dad10673ce740eb81a9d6ce59c8a27b
msgid "|with_uri|"
msgstr ""

#: ../source/runbook.rst:413
# cf38f2822c894bcea822a0e45a888ac5
msgid "org-show"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_org_show.rst:6
# 48e715fd0e8e4f2da80bdf0958c7c125
msgid "The ``org-show`` subcommand is used to show the details for an organization."
msgstr ""

#: ../source/runbook.rst:424
# 59ad2f5c098c43a3b26b6f8797fbb4b4
msgid "Manage Users"
msgstr ""

#: ../source/runbook.rst:428
# fa6f2f7c417441ff92234a8cb763aace
msgid "user-associate"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_associate.rst:6
# 2b9443820f0c449ca5e228bba9a6de46
msgid "The ``user-associate`` subcommand is used to associate a user to an organization."
msgstr ""

#: ../source/runbook.rst:436
# 1dd44da528d14489a6d84baf478d9b9d
msgid "user-create"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_create.rst:6
# 7172be7ecbce4c9bb573b39f1cf4a91e
msgid "The ``user-create`` subcommand is used to create a user."
msgstr ""

#: ../source/runbook.rst:448
# 4377f47ecf8f44c4874c1710e1f0c769
msgid "user-delete"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_delete.rst:6
# 4ac6efd9a3674bb5bd7e2a6938647feb
msgid "The ``user-delete`` subcommand is used to delete a user."
msgstr ""

#: ../source/runbook.rst:456
# 0261080e92564de3aabdff51a326bbcf
msgid "user-disassociate"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_disassociate.rst:6
# 8abd7c0a211248bb8a1b1f62960da917
msgid "The ``user-disassociate`` subcommand is used to disassociate a user from an organization."
msgstr ""

#: ../source/runbook.rst:464
# f51d48c47d5e4c85b8de69a8b417f835
msgid "user-edit"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_edit.rst:6
# a7b245e11c3b40c5949b43cd971a3ae0
msgid "The ``user-edit`` subcommand is used to edit the details for a user. The data will be made available in the |chef editor| for editing."
msgstr ""

#: ../source/runbook.rst:472
# 7204663d33244f5fbf0802b3acfe3669
msgid "user-list"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_list.rst:6
# c0d9cdcec3764f36890c1b81d7968df9
msgid "The ``user-list`` subcommand is used to view a list of users."
msgstr ""

#: ../source/runbook.rst:484
# faf92f7fe77f413dae3680eb84eb94d7
msgid "user-show"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show.rst:6
# 840e1d13b2f04f598d7368726359945c
msgid "The ``user-show`` subcommand is used to show the details for a user."
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show_options.rst:9
# e0b5cb026b284faba1c8b99b1d2fe304
msgid "``-l``, ``--with-orgs``"
msgstr ""

#: ../../includes_ctl_chef_server/includes_ctl_chef_server_user_show_options.rst:9
# 68dbb8b674c84f14b38f47783e70ab1c
msgid "Use to show the corresponding organizations."
msgstr ""

