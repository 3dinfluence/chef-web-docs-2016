# SOME DESCRIPTIVE TITLE.
# Copyright (C) This work is licensed under a Creative Commons Attribution 3.0 Unported License
# This file is distributed under the same license as the Chef Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Chef Docs \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2013-11-25 13:38\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/upgrade_server_open_source.rst:33
# 784901ecae9043b2864a2d52a66ec9a0
msgid "Upgrade to Open Source Server 11"
msgstr ""

#: ../source/upgrade_server_open_source.rst:35
# 1f2f823dbd814f379beed266abf1a3ed
msgid "Upgrading to |chef server 11| from |chef server 10| is a relatively simple process: install the |chef server 11| and then move the data from |chef server 10| to the new one. Because the |chef server 10| database is |couch db| and the |chef server 11| database is |postgresql|, the data cannot be moved directly. Instead, use the following |knife| subcommands:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:37
# 02cc54dde14f4b3b990f63d1f57a51bd
msgid "``knife download``"
msgstr ""

#: ../source/upgrade_server_open_source.rst:38
# f1c8d39882744977a8aa938573515118
msgid "``knife list``"
msgstr ""

#: ../source/upgrade_server_open_source.rst:39
# 3ca044513e63427b98433d41ee53dcb6
msgid "``knife upload``"
msgstr ""

#: ../source/upgrade_server_open_source.rst:41
# 3f1c73effdaa4474b0e1906f669b1f8b
msgid "These subcommands will be used to download the data from |chef server 10| (as |json|), and then upload it to the |chef server 11| server. This approach bypasses the need to interact directly with either database or having to worry about how the data is stored in either location."
msgstr ""

#: ../source/upgrade_server_open_source.rst:43
# 235f7a4c746e4c439e94c2cbce84c905
msgid "Install the latest version of the ``knife-essentials`` plugin using the following command:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:49
# 7ea387ed814b487c9329369e7bbde005
msgid "For more information about ``knife-essentials``, see https://github.com/jkeiser/knife-essentials."
msgstr ""

#: ../source/upgrade_server_open_source.rst:53
# 90defc85666742faa791085760578aed
msgid "Requirements"
msgstr ""

#: ../source/upgrade_server_open_source.rst:55
# 0796ef91f3a443f8aff216e223d0ddaf
msgid "A live |chef server 10| server"
msgstr ""

#: ../source/upgrade_server_open_source.rst:56
# 04294b72a22c4331a59ed1d169f4cdfc
msgid "A live |chef server 11| server"
msgstr ""

#: ../source/upgrade_server_open_source.rst:57
# 0ed4a7c8ac8144279f66723377e80580
msgid "A workstation (running |knife|) that can access both the |chef server 10| and |chef server 11| servers"
msgstr ""

#: ../source/upgrade_server_open_source.rst:58
# 8ff8ca08357d45bc8440b36aec9a8640
msgid "The ability to run the |subcommand knife download| and |subcommand knife upload| subcommands"
msgstr ""

#: ../source/upgrade_server_open_source.rst:62
# ae1f8017b98a4145861ebb57e84ff2a9
msgid "Set up Access to |chef server 10|"
msgstr ""

#: ../source/upgrade_server_open_source.rst:63
# 9cae80f7b22844f6a731bb23626f2c8e
msgid "Use the following steps to configure a workstation so that it can communicate with the |chef server 10| server:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:65
# e26745f40d1f405bb280b6d2f0ceabea
msgid "Create a directory to use as the location to which data will be downloaded. This topic uses a directory named ``~/transfer``."
msgstr ""

#: ../source/upgrade_server_open_source.rst:66
# 7364bb5eb3c14a398d8a9befcb83f393
msgid "In the ``~/transfer`` directory, create a file named ``.chef/knife-chef10.rb``. The contents of this file should be similar to the following:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:78
# e63a42c6a40a48bd878fa063be023f67
msgid "where ``chef_server_url`` is the URL for the |chef server 10| server from which the data will be downloaded and ``node_name`` is the name of the workstation from which |knife| runs (with admin rights)."
msgstr ""

#: ../source/upgrade_server_open_source.rst:79
# a665680b47f34f8f9e51e9f00824fae0
msgid "Copy the private key for the |chef server 10| server to the ``.chef`` directory. The private key is typically located at ``/etc/chef/webui.pem``. For example:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:85
#: ../source/upgrade_server_open_source.rst:129
#: ../source/upgrade_server_open_source.rst:160
#: ../source/upgrade_server_open_source.rst:193
# 92046d3ad1ed47d6ad89d72f9ffe4e49
# a1d14f5a86aa40d2be54286709291323
# 99be669512de4c60ad6de48baa852635
# eaed8f81e41b4e6ba83efe94aa21906a
msgid "Verify the configuration by running the following command:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:91
# 038bdcc458e84d45b209ce5e0f05fb7a
msgid "to return a list of all clients, including ``clients/chef-webui.json`` and ``clients/chef-validator.json``."
msgstr ""

#: ../source/upgrade_server_open_source.rst:95
# e70094cbde1c43ebbb2bb8e53ff84f0a
msgid "Download Data from |chef server 10|"
msgstr ""

#: ../source/upgrade_server_open_source.rst:96
# ede33e4246144750b53c5af3072d7433
msgid "To download data from the |chef server 10|, run the following command:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:102
# ebaba6555464456bb934840d9c565206
msgid "This will transfer all of the data on |chef server 10| to the transfer directory."
msgstr ""

#: ../source/upgrade_server_open_source.rst:106
# 2f4197b2683d4ebab3f389aea96bfe33
msgid "Set up Access to |chef server 11|"
msgstr ""

#: ../source/upgrade_server_open_source.rst:107
# b826e26ba5f8427d92ad066661da160e
msgid "Use the following steps to configure a workstation so that it can communicate with the |chef server 11| server:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:109
# 04929fe15da044c5a0bd2cc50e43e8aa
msgid "In the same ``~/transfer`` directory, create a file named ``.chef/knife.rb``. The contents of this file should be similar to the following:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:121
# cde8becab91e46c893f104056a4f0959
msgid "where ``chef_server_url`` is the URL for the |chef server 11| server to which the data will be uploaded."
msgstr ""

#: ../source/upgrade_server_open_source.rst:123
# 9dabba37c1174b17ac69fc784db7cb05
msgid "Copy the private key for the |chef server 11| server to the ``.chef`` directory. For example:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:135
#: ../source/upgrade_server_open_source.rst:199
# 4083476379b84b4b966916d27bcc66f9
# 9747196d252f413f919dbc3753886f16
msgid "to return a list of all users, including ``users/admin.json``."
msgstr ""

#: ../source/upgrade_server_open_source.rst:139
# 651e9e2371e443d2af63d8ee07c669ab
msgid "Update the chef-validator settings"
msgstr ""

#: ../source/upgrade_server_open_source.rst:140
# 79ef166e71d846d8ba6c1353c62916c4
msgid "The |chef validator| client is no longer special; |chef server 11| requires the ``chef-validator`` flag to be set in order for the |chef validator| to be created."
msgstr ""

#: ../source/upgrade_server_open_source.rst:142
# a457c8e9356840f9abdee601144a95c5
msgid "Edit the ``clients/chef-validator.json`` file and add ``\"validator\": true`` as a property, like this:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:166
# f730a1df5dc7455da9016cd073e05415
msgid "to return a list of all clients, including ``clients/chef-validator.json``."
msgstr ""

#: ../source/upgrade_server_open_source.rst:170
# bf514947b2b141079b299da62d51232a
msgid "Verify the admin public key"
msgstr ""

#: ../source/upgrade_server_open_source.rst:171
# d37b3b036d9f4a5db8f8eb89af4cab0e
msgid "The ``admin.pem`` private key must be correct for each workstation that will have access to |chef server 11|. |chef server 11| has a new user named ``admin``, whereas many instances of |chef server 10| have an admin client named ``admin``. For |chef 11|, |knife| requires a private key named ``admin.pem``. This naming similarity can be an issue if the name of the client doesn't match the name of the private key."
msgstr ""

#: ../source/upgrade_server_open_source.rst:173
# cfbc8119774a4888a57b6b784d1709d1
msgid "Copy the ``admin.pem`` to each workstation or replace the |chef 11| admin private key with the old private key. To do this, run the following commands:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:180
# b5c014751c2c4b37bcbc72fa5b063a08
msgid "Replace the public key in ``users/admin.json`` with the results of the previous step:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:187
# 780ced0aca7244679fc7d9494ae5ce86
msgid "Remove the following:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:202
# 17116d8f4d14416d96e43c5c9e76a20a
msgid "Verify User Passwords"
msgstr ""

#: ../source/upgrade_server_open_source.rst:203
# 5741d769b10e40af8539e91aadd4aa43
msgid "User-hashed passwords are not transferred to or from the |chef server| when using the |subcommand knife download| or |subcommand knife upload| subcommands. When using these commands to upgrade to a newer version of the |chef server osc| server, each user should run the following command:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:209
# 6d28ba5a3b434d60a71e2d4a8da07f2c
msgid "and then add the following to the |json| data:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:218
# b4a8ccf14c0041ebbe6a7fb36d9f3140
msgid "Upload Data to |chef server 11|"
msgstr ""

#: ../source/upgrade_server_open_source.rst:219
# 1b58d6c9a4614b798bc046116c9340e1
msgid "To upload data to the |chef server 11|, run the following command:"
msgstr ""

#: ../source/upgrade_server_open_source.rst:225
# efc285ab7c3e4180b1a11874ff4599ba
msgid "This will transfer all of the data in the transfer directory to |chef server 11|."
msgstr ""

#: ../source/upgrade_server_open_source.rst:229
# 7988dacae66b44c0a9da3b2e61a9a7c6
msgid "Last Steps"
msgstr ""

#: ../source/upgrade_server_open_source.rst:230
# ceb7348410f446bd96f273c3a2fdad63
msgid "At this point, the |chef server 11| should have all of the data that used to be on the |chef server 10|. Point the DNS or load balancer at the new |chef server|. The |chef client| should continue to run properly on all nodes and each workstation should be able to manage objects on the |chef server| using |knife|. If issues remain, try the IRC channel or email the chef@lists.opscode.com discussion alias. If ``knife-essentials`` is the issue, file an issue in |github| or check the IRC channel."
msgstr ""

