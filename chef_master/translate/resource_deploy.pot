# SOME DESCRIPTIVE TITLE.
# Copyright (C) This work is licensed under a Creative Commons Attribution 3.0 Unported License
# This file is distributed under the same license as the Chef Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Chef Docs 0.0.1\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2013-01-08 14:34\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/resource_deploy.rst:34
# dedb13c6732f4b1ea7e9992c587b1028
msgid "deploy"
msgstr ""

#: ../../includes_resources/includes_resource_deploy.rst:4
# d33ca8d84c28432986c330832d100519
msgid "|resource desc deploy| It is one of the most popular resources available in |chef| and is also the most complex, having the most attributes, multiple providers, the added complexity of callbacks, plus four attributes that support layout modifications from within a recipe."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano.rst:4
# 8a5cfc15f81246c2bb5e0ffdc8644b8d
msgid "The |resource deploy| resource is modeled after |capistrano|, a utility and framework for executing commands in parallel on multiple remote machines via |ssh|. The |resource deploy| resource in |chef| is designed to behave in a way that is similar to the ``deploy`` and ``deploy:migration`` tasks in |capistrano|."
msgstr ""

#: ../source/resource_deploy.rst:41
# 8e369459e5624f48b3bf793b4d0222f9
msgid "Syntax"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:4
# f77f704b42c14ee9866b8a7d4dcda4b7
msgid "The syntax for using the |resource deploy| resource in a recipe is as follows:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:21
# 250c8d4ca7bd4caab6aea2f62487b82f
msgid "where"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:23
# 70094d35cdd34ae5a34a306b51350fd6
msgid "``deploy`` tells |chef| to use either the ``Deploy::Revision`` or ``Deploy::Timestamped`` provider during the |chef| run. More specific short names---``timestamped_deploy``, ``deploy_revision``, or ``deploy_branch``---can be used instead of the ``deploy`` short name."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:24
# 37bdf856e0c84854b026439e26a4a67b
msgid "``\"name\"`` is the path to the location in which the deployment steps will occur"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:25
# c2ebedd42a064b0c9a737869fca48c39
msgid "``attribute`` is zero (or more) of the attributes that are available for this resource"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:26
# e923f7b5252b44c8bdf14bf1cdff5a86
msgid "``callback`` represents additional |ruby| code that is used to pass a block or to specify a file, and then provide additional information to |chef| at specific times during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:27
# 018c5a8258bb44b1ab96e6f5dc370c34
msgid "``purge_before_symlink``, ``create_dirs_before_symlink``, and ``symlink`` are attributes that are used to link configuration files, remove directories, create directories, or map files and directories during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:28
# 25fdc664924548e4ab80d27ba74a80a2
msgid "``:action`` is the step that the resource will ask the provider to take during the |chef| run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:30
# d8eeb99dd2934fcf93d6bd0d79dced86
msgid "The following is an example of how the ``deploy_revision`` resource can work when used in a recipe. In this example, an application will be deployed to a folder named \"/path/to/application\":"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:51
# 4464779623e048c6b1da718b5caacca9
msgid "For the example shown above:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:53
# a1a97a46a4304fad90376eeaed9c3c2f
msgid "Because an action is not explicitly specified, |chef| will use the default action: ``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:54
# cf58552d56e64cdea819bdf08e15432f
msgid "The ``purge_before_symlink`` application layout is an array of paths that will be cleared before the ``symlinks`` attribute is run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:55
# 2db4579e426347d6b8ab517bdf8791ab
msgid "The ``create_dirs_before_symlink`` attribute is empty, which is different from the default"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:56
# 8c175d31bf4b43aeaa435a2e5d29cdfc
msgid "The ``symlinks`` attribute is creating three symbolic links"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:57
# 40339dd74d894db98c9bbd8ea02acd5c
msgid "The ``before_restart`` callback is being used to add custom actions that will occur at the end of the deployment process, but before any services have been notified"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:58
# 974ebcfc974f4d5d8f7b967b0cd4d0de
msgid "At the end, the recipe is using the ``notifies`` attribute---a common attribute available to all resources in |chef|---to alert two services (named \"foo\" and \"bar\") that they should restart."
msgstr ""

#: ../source/resource_deploy.rst:45
# 13461cdd1bfe4e04914e10e6295070bd
msgid "Deploy Strategies"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:4
# 06195d83c0374e668c2e12f444e26622
msgid "In the ``deploy`` directory, a sub-directory named ``shared`` must be created. This sub-directory is where configuration and temporary files will be kept. A typical |ruby on rails| application will have ``config``, ``log``, ``pids``, and ``system`` directories within the ``shared`` directory to keep the files stored there independent of the code in the source repository."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:6
# 96a9e81f477c468f929e1923bde6512b
msgid "In addition to the ``shared`` sub-directory, the deploy process will create sub-directories named ``releases`` and ``current`` (also in the ``deploy`` directory). The ``release`` directory holds (up to) five most recently deployed versions of an application. The ``current`` directory holds the currently-released version."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:8
# 20feb3b2e4a0400a83efb3a6745011f5
msgid "For example::"
msgstr ""

#: ../source/resource_deploy.rst:49
# 7512cf85e6ac4e1790b6d75dcf01f776
msgid "Deploy Phases"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:4
# 2642bf07d9f14f2f9a231a81472a5efd
msgid "A deployment happens in four phases:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:6
# 0333d298878e4b9f9dde92a1eddad848
msgid "**Checkout** |chef| uses the |resource scm| resource to get the specified application revision, placing a clone or checkout in the sub-directory of the ``deploy`` directory named ``cached-copy``. A copy of the application is then placed in a sub-directory under ``releases``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:7
# e22b5da50aa14268b8db1878785bc189
msgid "**Migrate** If a migration is to be run, |chef| symlinks the database configuration file into the checkout (``config/database.yml`` by default) and runs the migration command. For a |ruby on rails| application, the ``migration_command`` is usually set to ``rake db:migrate``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:8
# fbdb53556a0c48668f5d354ea547ed9e
msgid "**Symlink** Directories for shared and temporary files are removed from the checkout (``log``, ``tmp/pids``, and ``public/system`` by default). After this step, any needed directories (``tmp``, ``public``, and ``config`` by default) are created if they don't already exist. This step is completed by symlinking shared directories into the current ``release``, ``public/system``, ``tmp/pids``, and ``log`` directories, and then symlinking the ``release`` directory to ``current``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:9
# cbda294a3e4042929fa9b97a5844a384
msgid "**Restart** The application is restarted according to the restart command set in the recipe."
msgstr ""

#: ../source/resource_deploy.rst:53
# 6306b8f4cff84bc2be7bf04d6fdbfc95
msgid "Deploy Cache File"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_start_over.rst:4
# 1b1f8ef521e94579a67284f08da5a0ff
msgid "|chef| uses a cache file to keep track of the order in which each revision of an application is deployed. If a re-deployment must be forced---by deleting the deployed code from a node, for example---the cache file must be deleted as well. The cache file is located in the default configuration at |path chef deploy cache file|."
msgstr ""

#: ../source/resource_deploy.rst:57
# 08944c03e93348e6ae02d28f5e1dfe71
msgid "Callbacks"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:4
# 8dc291155eb74944815b835119e780d6
msgid "In-between each step in a deployment process, callbacks can be run using arbitrary |ruby| code, including recipes. All callbacks support embedded recipes given in a block, but each callback assumes a shell command (instead of a deploy hook filename) when given a string."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:6
# 4188771666cc4f49abd13ca223965fe8
msgid "The following callback types are available:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:12
# 7ba33bb19e2549848c7e5803d3b66a09
msgid "Callback"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:13
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:11
#: ../../includes_resources/includes_resource_deploy_actions.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:64
#: ../../includes_resources/includes_resource_deploy_attributes.rst:83
# 49b352ac4d224f6f89ac2898eabd5113
# 729d4fbf2f0e49e4a70714d0c98709b1
# 791a63d386664c7fac3e79cb0ee794c6
# b3c1e9ec2ac84f61adbb2e792675edca
# 7c6baf4295cb46e7b3879238513a79fe
# c6dfd0e43fa54f979e248d903b5fcf5a
msgid "Description"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:12
# 7c15924ac4d341eb9abd76adf3ffeb1b
# 1a85b3c3528e4212afd64ad3dcd53574
msgid "``after_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:15
#: ../../includes_resources/includes_resource_deploy_attributes.rst:13
# 9979ddc41ab74a30a7f5ab5ce5e08a94
# 46c75ba4829245cfb6138330ce5bfee3
msgid "|after_restart| Default value: ``deploy/after_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:14
# 750c56f2b61b4dc5bc57655111125117
# 65406279a99e4c55a84a2a834183fb7f
msgid "``before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:17
#: ../../includes_resources/includes_resource_deploy_attributes.rst:15
# 3b26676894cc4bd0a3989653deededc0
# 72a4ae1e94714565bd298e0c9a007707
msgid "|before_migrate| Default value: ``deploy/before_migrate.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:16
# a80db4e242b2423fadac82b4db3bf093
# 5bb396c0f9d74eed9eeae0fa39e68025
msgid "``before_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:19
#: ../../includes_resources/includes_resource_deploy_attributes.rst:17
# 355c1984cfc14a6aab5455546c362d5d
# 0ec12ca8a1d54234a1edcf41f3487b10
msgid "|before_restart| Default value: ``deploy/before_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:20
#: ../../includes_resources/includes_resource_deploy_attributes.rst:18
# 66b06902fa5442a3bd742a88ab1bdd3a
# 34b412f40342409d91c94c0aba1cb409
msgid "``before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:21
#: ../../includes_resources/includes_resource_deploy_attributes.rst:19
# 02c9cd03b8664d05b9a794d294b34315
# 6637b089a88d49e0a8b584752ceb13e2
msgid "|before_symlink| Default value: ``deploy/before_symlink.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:23
# b3d5590690e447a3922b1a61db51e1ac
msgid "Each of these callback types can be used in one of three ways:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:25
# d09e579618594f189d61383c334629c4
msgid "To pass a block of code, such as |ruby| or |python|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:26
# 75e57f9d7b564bfdafaf052b74f3769b
msgid "To specify a file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:27
# 5363811525964ecfa8e7ec8414a1411b
msgid "To do neither; |chef| will look for a callback file named after one of the callback types (``before_migrate.rb``, for example) and if the file exists, to evaluate it as if it were a specified file."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:29
# 875e544a9e5f4a7aa4cd287c36c34d88
msgid "Within a callback, there are two ways to get access to information about the deployment:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:31
# 52362e207aae4807a86db1fb4b8717e2
msgid "``release_path`` can be used to get the path to the current release."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:32
# 287620ddacad486db1eb2147e8dd34e6
msgid "``new_resource`` can be used to access the deploy resource, including environment variables that have been set there. (``new_resource`` is a preferred approach over using the ``@configuration`` variable.)"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:34
# ed1e6bd35c9a4e06bd6f6d036f9d06bc
msgid "Both of these options must be available at the top-level within the callback, along with any assigned values that will be used later in the callback."
msgstr ""

#: ../source/resource_deploy.rst:60
# 94fc1c0ef4c64fcca60b0b627ee04c40
msgid "**Callbacks and Capistrano**"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:5
# c42ff6267b024434b4aedd461ea1ad6a
msgid "If you are familiar with |capistrano|, the following examples should help you know when to use the various callbacks that are available in |chef|. If you are not familiar with |capistrano|, then follow the semantic names of these callbacks to help you determine when to use each of the callbacks within a recipe that is built with the |resource deploy| resource."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:7
# 2e8fe7f7ba36440b80c4ce049c829a88
msgid "The following example shows where callbacks in |chef| fit in relation to the steps taken by the ``deploy`` process in |capistrano|:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:11
# 1a27918643714e05982664a30bc6afed
msgid "and the following example shows the same comparison, but with the ``deploy:migrations`` process:"
msgstr ""

#: ../source/resource_deploy.rst:65
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:10
# 4f4520adfae644eea40ea90ad0be4004
# e8416a47fb574ebeb71bad67f60052cb
msgid "Layout Modifiers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:4
# be80ac03760d40a4987d5394f3bb4670
msgid "The |resource deploy| resource expects an application to be structured like a |ruby on rails| application, but the layout can be modified to meet custom requirements as needed. Use the following attributes within a recipe to modify the layout of a recipe that is using the |resource deploy| resource:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:12
#: ../../includes_resources/includes_resource_deploy_attributes.rst:22
# fb77b29f045b40ddae6f08eff07cf0c8
# 019b23fb98e24d9ca97ac48b786ada11
msgid "``create_dirs_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:13
#: ../../includes_resources/includes_resource_deploy_attributes.rst:23
# 378cec2989214e3a94f7596cffa163b7
# ab7dec10739248dbad78cde99bf4f5f1
msgid "|create_dirs_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:34
# 92dcab5850da4c6796537a9120c3c738
# db115d75739a4c82b071a63b339f21eb
msgid "``purge_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:15
#: ../../includes_resources/includes_resource_deploy_attributes.rst:35
# 3946e955071741468ff3d80a4f9eace8
# 0412bb2e547548ecb1f381e8c49c10ae
msgid "|purge_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:52
# feb94e58bd9c4fe1b35eab4e08b96d5d
# cc14cf92b62d480ba7c7be539c98c4c3
msgid "``symlink_before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:17
#: ../../includes_resources/includes_resource_deploy_attributes.rst:53
# f8960783d3634d91af95490cb1b2d884
# 3a8901925ef24a1bac81263a04e597ef
msgid "|symlink_before_migrate|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:50
# 75dae7fb086047c780b72d09370f9e22
# 66fc0fdf59b94c1f8d0c63bfeaa4f372
msgid "``symlinks``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:19
#: ../../includes_resources/includes_resource_deploy_attributes.rst:51
# 85b19f3d3e0c49ef93b57238dbc6973a
# 22f92774ce9b401a8013c81efb161bb3
msgid "|symlinks|"
msgstr ""

#: ../source/resource_deploy.rst:69
# afa021fd31404f9da1fda4d6dd595af3
msgid "Actions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:4
# 6b778bd6114e4d46a0a7a923dcc29f47
msgid "This resource has the following has the following actions:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:10
# c07e3f7363b24d539e7bfef4398c2009
msgid "Action"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:12
# 04c98dbf49994245a90c320abe918324
msgid "``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:13
# 551faec805604fc6a4a3ef017350f0ff
msgid "Default. |resource action deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:14
# 6a603acb80174ff0bb85bf73f9728a97
msgid "``:force_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:15
# 59a4715005ee45c2bc533691207b4225
msgid "|resource action force_deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:16
# 26b57e6123904d95b1177fe7d2bc7140
msgid "``:rollback``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:17
# 5c42df902f89499990e24e6d9da59d2a
msgid "|resource action rollback deploy|"
msgstr ""

#: ../source/resource_deploy.rst:73
# 9f5bf06c679d4da7b6fd29e76e78a716
msgid "Attributes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:4
# 82169e27f2c54ea0858ef9a8574ce1e8
msgid "This resource has the following has the following attributes:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:10
#: ../../includes_resources/includes_resource_deploy_attributes.rst:63
#: ../../includes_resources/includes_resource_deploy_attributes.rst:82
# e032f5ab30034318bff5fd8146a2ac11
# 8e13cd2e607a4cc68cf24eeb39027e1b
# e40da94257b5412b982e8a7953f884a2
msgid "Attribute"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:20
# c580015b695a438aa61085ee63c7d8fc
msgid "``branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:21
# abd5aadfb74c422b96b335e1e7413587
msgid "The alias for the revision."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:24
# 45672dce60004a31a642adce35ba418d
msgid "``deploy_to``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:25
# 80132741f604455199a314479975293a
msgid "|deploy_to|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:26
# 8ee21bdd0f124377a12fd28f9557f9c5
msgid "``environment``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:27
# 6ac2e5c1448b4a7489c217664f14eaec
msgid "|environment resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:28
# 59e7412961db4cc1967ec9b975e85e07
msgid "``group``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:29
# 83960928bb3344f9844cc55cf9ddda82
msgid "|group resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:30
# 95f8cbae9168469e8b0f6367d01434fc
msgid "``migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:31
# 1f3fbd24d85f47ed93d568858831aeec
msgid "|migrate resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:32
# 61057775a01d4b3db73e7a29562dbe63
msgid "``migration_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:33
# 22af425b4c814543a05f61460985059c
msgid "|migration_command resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:36
# fc6d18098d1b4714b1c41bdc6d6f2104
msgid "``repo``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:37
# 963179377e934b18974715f616bec7b2
msgid "|repo resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:38
# 1a3622f5578c4018ae3d5956cf0f136a
msgid "``repository``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:39
# 6c2c606a19f94107b663a3af3ad8e9af
msgid "|repository resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:40
# 479ede592a2043ca89bd980b3a9354b2
msgid "``repository_cache``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:41
# 949e931f1010403d9a514a62d82b6e2e
msgid "|repository_cache resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:42
# 2491c1f7ec3f4626941633af9eaa246b
msgid "``restart_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:43
# d5df3fa641304e8598a1cf6ad0f74386
msgid "|restart_command resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:44
# 6bbc11ec3f904669a1c944c7b7ada0c5
msgid "``revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:45
# 1ecf6816accc4f55925d93b3250f66cb
msgid "|revision resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:46
# 9d688267dcd742e7866ab87ae246977e
msgid "``rollback_on_error``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:47
# 072b42fa7f07400eba601c7c531bf6d1
msgid "|rollback_on_error resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:48
# 1870f47309be4c00baa4e0518b069948
msgid "``scm_provider``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:49
# f410e6e5a1e4482ca0f3e65b0944e829
msgid "|scm_provider resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:54
# e74017bc528441149787fbf84b7b161e
msgid "``user``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:55
# 4c9be0e4bd9e4aeb90402d3b53e4894e
msgid "|user resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:57
# 7d7dc1994f9a4adf952b87c8d811acfe
msgid "The following attributes are for use with |git| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:65
# 94f80edc9a0044f5b25ad39f8438f366
msgid "``enable_submodules``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:66
# 8aea1505431e431d91d45b05bc21dce3
msgid "|enable_submodules resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:67
# 4b368555fdb847a9b4e8e0fa9e9f229a
msgid "``git_ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:68
# 552580262a0d4c92bf68968ac1963374
msgid "|git_ssh_wrapper|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:69
# b9aacf78e9bc4a73a1defde7d9f115f7
msgid "``remote``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:70
# 3e6e1c8f685a42639570def840cf61b3
msgid "|remote resource| Default value: ``origin``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:71
# b2c085f7972b4166bd05c44337cc3e05
msgid "``shallow_clone``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:72
# 091856a482cf41ee8d615029f7cb00f9
msgid "|shallow_clone resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:73
# 693b38cd5c63456293b6954652fe21cc
msgid "``ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:74
# b3025860aafa4f17bb73ad49797f021a
msgid "|ssh_wrapper resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:76
# 2e1ca0e4cf194bbc8291c4887a43364d
msgid "The following attributes are for use with |svn| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:84
# 5d7ff6c7695a4424ad365da3f37414d1
msgid "``svn_arguments``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:85
# b1284cf2426949809d02698489fabc9b
msgid "|svn_arguments resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:86
# a2eb7e5f19ca41aaa0799165ba07e37d
msgid "``svn_password``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:87
# 15af1828b4b1450395e7416b74a23041
msgid "|svn_password resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:88
# 7149bed03216457aa314ae96af598127
msgid "``svn_username``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:89
# 029061935c1f40988404da8a3a9fa3ff
msgid "|svn_username resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:91
# ec9c79182e944146a2dae71d1bc54886
msgid "For example:"
msgstr ""

#: ../source/resource_deploy.rst:77
# 0b538c69e134405e8e6a6defb6a0bbcf
msgid "Providers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:4
# 38f68f828504436db798d2ab65cc1578
msgid "The |resource deploy| resource providers are used to determine whether to deploy based on whether the release directory in which the deployment is to be made actually exists. The following providers are available. Use the short name to use the provider in a recipe:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:10
# 4f02dbc59e3d4abc9ff4df44500c79ae
msgid "Long name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:11
# 5fe324c0a205415c83351f3c143bbe04
msgid "Short name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:12
# 9ba4a7b8a7af40a2903fb02adf3117fa
msgid "Notes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:13
# 2cd4624f78f64f95a836697bae0d8f64
msgid "``Chef::Provider::Deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:14
# 65917ca056e746ffbeb39669e3304d06
msgid "``deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:15
# 0c04178e9696487abf658b4e2abedc83
msgid "When this short name is used, |chef| will determine the correct provider during the |chef| run."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:16
#: ../../includes_resources/includes_resource_deploy_providers.rst:19
# 9e2212f5837143959ec3d1a40b4453be
# 9f1c106dbba8489584624b9e05435d01
msgid "``Chef::Provider::Deploy::Revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:17
# b65d1829296241dbb21dd0a94a2aa9ae
msgid "``deploy_branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:18
#: ../../includes_resources/includes_resource_deploy_providers.rst:21
# 8b7ba7bb3fae4141b110e5989c847a51
# fb6676c2080549038a2107b9674c7e16
msgid "See below for more information."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:20
# 6572b6d854024c7b9b498d50f4650f0e
msgid "``deploy_revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:22
# 57ec0f3ef4e14b7a960f0bccf7722443
msgid "``Chef::Provider::Deploy::TimestampedDeploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:23
# 420fdf8c06384635aeb164986342a5bc
msgid "``timestamped_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:24
# 6ec5a6b8f8264f0888aab71d877e4d36
msgid "The default provider for all platforms. See below for more information."
msgstr ""

#: ../source/resource_deploy.rst:81
# 3c3e4151f80f4ea380751bd23274bae6
msgid "deploy_branch"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_branch.rst:5
# 1363873dccda4af9bcb3a5b0a889c09e
msgid "The ``deploy_branch`` resource is used in the same way as the ``deploy_resource`` resource. It uses the ``Deploy::Revision`` provider and has uses the same set of actions and attributes."
msgstr ""

#: ../source/resource_deploy.rst:85
# 4008270446cb4fd0bfe42904d6303ee9
msgid "deploy_revision"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_resource.rst:4
# 6f1ae93a0004423f98e1cef65695e56c
msgid "The ``deploy_revision`` provider is the recommended provider, even if it is not listed as the default. The ``deploy_revision`` provider is used to ensure that the name of a release sub-directory is based on a revision identifier. For users of |git|, this will be the familiar SHA checksum. For users of |svn|, it will be the integer revision number. If a name other than a revision identifier is provided---branch names, tags, and so on---|chef| will ignore the alternate names and will look up the revision identifier and use it to name the release sub-directory. When the ``deploy_revision`` provider is given an exact revision to deploy, it will behave in an idempotent manner."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_resource.rst:6
# 06c23391c80d4f1694a834dd3d9235fc
msgid "The ``deploy_revision`` provider results in deployed components under the destination location that is owned by the user who runs the application. This is sometimes an issue for certain workflows. If issues arise, consider the following:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_resource.rst:8
# 5f0946e2bdc242de9021fda0af822d09
msgid "Incorporate changing permissions to the desired end state from within a recipe;"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_resource.rst:9
# e655f0258df8470ea78b8ff63001800b
msgid "Add a ``before_restart`` block to fix up the permissions;"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_resource.rst:10
# dd735b9c7ad245d3b900ccf3672a040c
msgid "Have an unprivileged user (for example: ``opscode``) be the owner of the ``deploy`` directory and another unprivileged user (for example: ``opscodeapp``) run the application. Most often, this is the solution that works best."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_resource.rst:12
# 6d24774c30cc4bbe9cdec51ddda808bb
msgid "When using the ``deploy_revision`` provider, and when the deploy fails for any reason, and when the same code is used to re-deploy, the action should be set manually to ``:force_deploy``. Forcing the re-deploy will remove the old release directory, after which the deploy can proceed as usual. (Forcing a re-deploy over the current release can cause some downtime.) Deployed revisions are stored in ``(file_cache_path)/revision-deploys/(deploy_path)``."
msgstr ""

#: ../source/resource_deploy.rst:89
# e0a7940c63264525a9f3b5158242dcf1
msgid "timestamped_deploy"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_timestamped_deploy.rst:4
# d87fa09313a24abcb322c8384bf2a0d0
msgid "The ``timestamped_deploy`` provider is the default |resource deploy| provider. It is used to name release directories with a timestamp in the form of ``YYYYMMDDHHMMSS``. For example: ``/my/deploy/dir/releases/20121120162342``. The |resource deploy| resource will determine whether or not to deploy code based on the existence of the release directory in which it is attempting to deploy. Because the timestamp is different for every |chef| run, the ``timestamped_deploy`` provider is not idempotent. When the ``timestamped_deploy`` provider is used, it requires that the action setting on a resource be managed manually in order to prevent unintended continuous deployment."
msgstr ""

#: ../source/resource_deploy.rst:93
# d4a8800a94ce491fb7c71643be914bb2
msgid "Examples"
msgstr ""

#: ../source/resource_deploy.rst:94
# c36ca02009f044df9f502384327b5910
msgid "|generic resource statement|"
msgstr ""

#: ../source/resource_deploy.rst:96
# e030020adf6146a38e16176c4159bc89
msgid "**Modify the layout of a Ruby on Rails application**"
msgstr ""

#: ../../step_resource/step_resource_deploy_custom_application_layout.rst:3
# 312b76783acc4d2cb5d171794495d12c
msgid "The layout of the application matches a Rails app by default, but you can customize it to fit your needs. To customize the application layout:"
msgstr ""

#: ../source/resource_deploy.rst:100
# 17c4f094b9954cb186277b937c5298be
msgid "**Use resources within callbacks**"
msgstr ""

#: ../../step_resource/step_resource_deploy_embedded_recipes_for_callbacks.rst:3
# f8c1f3339f4b41559c0a55a2b3605223
msgid "Using resources from within your callbacks as blocks or within callback files distributed with your application's source code. To use embedded recipes for callbacks:"
msgstr ""

#: ../source/resource_deploy.rst:104
# f7b058691e5e465b8a51f5f1522c5759
msgid "**Deploy from a private git repository without using the application cookbook**"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:3
# 6ad79d050f6743319a3c1a566d616621
msgid "To deploy from a private |git| repositopry without using the application cookbook, first ensure that:"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:5
# 12d3bf28a6b84ea892c8d4e0495c40b3
msgid "the private key does not have a passphrase, as this will pause a |chef| run to wait for input"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:6
# a0ba8d7ba5c24ce3907e0cd625bca094
msgid "an |ssh| wrapper is being used"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:7
# e4840c0a26e741f6bba0d81e79ea78fc
msgid "a private key has been added to the node"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:9
# 47d96c1f4bc4438294d44a924546708e
msgid "and then use code like the following to remove a passphrase from a private key:"
msgstr ""

#: ../source/resource_deploy.rst:108
# 0d641b4b452f4326a27420ccde65780b
msgid "**Use an SSH wrapper**"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:3
# 6471602b0b454950bcba73fe4a698be3
msgid "To write a recipe that uses an |ssh| wrapper:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:5
# de093568814d4f37b8fab1de359105de
msgid "Create a file in the ``cookbooks/COOKBOOK_NAME/files/default`` directory that is named ``wrap-ssh4git.sh`` and which contains the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:12
# eb62b2ffc3d64f8eb28cdea7f69b85e6
msgid "Set up the cookbook file."
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:13
# 29e2a6be2e164e5491f4013539b0672c
msgid "Add a recipe to the cookbook file similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:36
# c6a89ba8736a4e079b75a5291c16b303
msgid "This will deploy the |git| repository at ``git@github.com:acctname/private-repo.git`` in the ``/tmp/private_code`` directory."
msgstr ""

#: ../source/resource_deploy.rst:112
# 7c6c4dfea4e04a0fb6f22e3eb770a0e8
msgid "**Use a callback to include a file that will be passed as a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:3
# 7b066029acd94576a58fa84852f44a41
msgid "The code in a file that is included in a recipe using a callback is evaluated exactly as if the code had been put in the recipe as a block. Files are searched relative to the current release."
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:5
# 6d9f590c62474534b93f0ce95e4582a2
msgid "To specify a file that contains code to be used as a block:"
msgstr ""

#: ../source/resource_deploy.rst:116
# 76fd94832c0041aebbc38954a2a8d05f
msgid "**Use a callback to pass a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_pass_python.rst:3
# dcfcd85923104b148e4b4f4e682f818d
msgid "To pass a block of |python| code before a migration is run:"
msgstr ""

#: ../source/resource_deploy.rst:120
# 8b46558eda7b485eac015a40d334ee27
msgid "**Use the same API for all recipes using the same gem**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_same_api_as_gitdeploy_gems.rst:3
# 8f8ca10a4c0e4a9a9e068e1c4eaec901
msgid "Any recipes using the ``git-deploy`` |gem| can continue using the same API. To include this behavior in a recipe, do something like the following:"
msgstr ""

#: ../source/resource_deploy.rst:124
# 3cd36b4fef4e4b58b71d9068b6db36cc
msgid "**Deploy without creating symbolic links to a shared folder**"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:3
# 900a5b84473f447b88c2e0f3638332a2
msgid "To deploy without creating symbolic links to a shared folder:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:11
# b2c5fdeaf59b4abfa018fe12faca947a
msgid "When deploying code that is not |ruby on rails| and symbolic links to a shared folder are not wanted, use parentheses () or ``Hash.new`` to avoid ambiguity. For example, using parentheses:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:19
# 6699bbacea664afe92feedb44ea45913
msgid "or using ``Hash.new``:"
msgstr ""

#: ../source/resource_deploy.rst:128
# 73edc6e8fe104772b4d91d16be9f7198
msgid "**Clear a layout modifier attribute**"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:3
# fa91374b77c647e7ab66a13b594238b9
msgid "Using the default attribute values that |chef| provides is the recommended baseline when working with recipes. Then, depending on what each node requires, these default values can be overridden with node-, role-, environment-, and cookbook-specific values. The |resource deploy| resource has four layout modifiers: ``create_dirs_before_symlink``, ``purge_before_symlink``, ``symlink_before_migrate``, and ``symlinks``. These are |ruby| hashes that behave as attributes of the |resource deploy| resource. When these layout modifiers are used in a recipe, they appear similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:19
# 28be648b6e924a008fafb8e729383aba
msgid "and then what these layout modifiers look like if they were empty:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:32
# 316be6cc07b24f569cf0fff8d1a30eef
msgid "In most cases, using the empty values for the layout modifiers will prevent |chef| from passing symbolic linking information to a node during the |chef| run. However, in some cases, it may be preferable to ensure that one (or more) of these layout modifiers do not pass any symbolic linking information to a node during the |chef| run at all. Because each of these layout modifiers are a hash, the ``clear`` instance method can be used to clear out these values."
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:34
# 70e9d96b3052430a843febc99fbf38d1
msgid "To clear the default values for a layout modifier:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:47
# cdc4c1e40fda4fd8ae17db5c203ba9bf
msgid "In general, use this approach carefully and only after it is determined that nil or empty values won't provide the expected result."
msgstr ""

