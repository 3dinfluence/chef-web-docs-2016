# SOME DESCRIPTIVE TITLE.
# Copyright (C) This work is licensed under a Creative Commons Attribution 3.0 Unported License
# This file is distributed under the same license as the Chef Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Chef Docs \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2013-10-31 17:02\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/resource_deploy.rst:33
# 32bae3387941431db4a52b045e778a14
msgid "deploy"
msgstr ""

#: ../../includes_resources/includes_resource_generic.rst:4
# eceee04d80ca46b1b05b715b27c4dd19
msgid "A `resource <http://docs.opscode.com/resource.html>`_ is a key part of a `recipe <http://docs.opscode.com/essentials_cookbook_recipes.html>`_ that defines the actions that can be taken against a piece of the system. These actions are identified during each `chef-client run <http://docs.opscode.com/essentials_nodes_chef_run.html>`_ as the resource collection is compiled. Once identified, each resource (in turn) is mapped to a provider, which then configures each piece of the system."
msgstr ""

#: ../../includes_resources/includes_resource_deploy.rst:4
# d65d0bd8107f4ca18bcaed3d1293c863
msgid "The |resource deploy| resource is used to manage and control deployments. This is a popular resource, but is also complex, having the most attributes, multiple providers, the added complexity of callbacks, plus four attributes that support layout modifications from within a recipe."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano.rst:4
# 5d110a2af1024c8f82cc728d73f01681
msgid "The |resource deploy| resource is modeled after |capistrano|, a utility and framework for executing commands in parallel on multiple remote machines via |ssh|. The |resource deploy| resource is designed to behave in a way that is similar to the ``deploy`` and ``deploy:migration`` tasks in |capistrano|."
msgstr ""

#: ../source/resource_deploy.rst:42
# 9e0f24e04b25434cb932646f0e34609b
msgid "Syntax"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:4
# 9737d03243f14b97b03d3c337f0c7be7
msgid "The syntax for using the |resource deploy| resource in a recipe is as follows:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:21
# efeaa5af408843c389dcca8608d3bfaa
msgid "where"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:23
# 3f7a798d24324f09ae4fc6f260e86bd0
msgid "``deploy`` tells the |chef client| to use either the ``Chef::Provider::Deploy::Revision`` or ``Chef::Provider::Deploy::Timestamped`` provider during the |chef client| run. More specific short names---``timestamped_deploy``, ``deploy_revision``, or ``deploy_branch``---can be used instead of the ``deploy`` short name."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:24
# edf6cbada5674e0f9db5274ed878cea7
msgid "``name`` is the name of the resource block; when the ``deploy_to`` attribute is not specified as part of a recipe, ``name`` is also the location in which the deployment steps will occur"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:25
# 29414944d6b640c09838f9af76b0dfe5
msgid "``attribute`` is zero (or more) of the attributes that are available for this resource"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:26
# ba365068546345bdb34dc46b04ce8a8e
msgid "``callback`` represents additional |ruby| code that is used to pass a block or to specify a file, and then provide additional information to the |chef client| at specific times during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:27
# a796e2a12d0740c0bc058d5a45b8c624
msgid "``purge_before_symlink``, ``create_dirs_before_symlink``, and ``symlink`` are attributes that are used to link configuration files, remove directories, create directories, or map files and directories during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:28
# 323379e67efe495aaf5b3481ef00e95e
msgid "``:action`` is the step that the resource will ask the provider to take during the |chef client| run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:30
# 3851e0abeb2b4080965e68c72a9e7293
msgid "The following is an example of how the ``deploy_revision`` resource can work when used in a recipe. In this example, an application will be deployed to a folder named \"/path/to/application\":"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:51
# d5a16c116c264f75af3d3f46d095c89d
msgid "For the example shown above:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:53
# 0855ed8143c241baafbd47e2d050f25d
msgid "Because an action is not explicitly specified, the |chef client| will use the default action: ``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:54
# dfaa73bfa2bf439abb991943bfc59878
msgid "The ``purge_before_symlink`` application layout is an array of paths that will be cleared before the ``symlinks`` attribute is run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:55
# e6c0ae07c54f4c83b20775b5e41762ff
msgid "The ``create_dirs_before_symlink`` attribute is empty, which is different from the default"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:56
# 00635d052bf4437fbb21764036140f71
msgid "The ``symlinks`` attribute is creating three symbolic links"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:57
# b2864a50456d487ab6ad46bb7c4ff56c
msgid "The ``before_restart`` callback is being used to add custom actions that will occur at the end of the deployment process, but before any services have been notified"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:58
# 68f5750d9eb5435abd81c4299b782e6b
msgid "At the end, the recipe is using the ``notifies`` attribute---a common attribute available to all resources---to alert two services (named \"foo\" and \"bar\") that they should restart."
msgstr ""

#: ../source/resource_deploy.rst:46
# f9233f35ec7041fcac9373757962fbbc
msgid "Deploy Strategies"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:4
# b384b93dcef54afdbc09ce1fda11670e
msgid "In the ``deploy`` directory, a sub-directory named ``shared`` must be created. This sub-directory is where configuration and temporary files will be kept. A typical |ruby on rails| application will have ``config``, ``log``, ``pids``, and ``system`` directories within the ``shared`` directory to keep the files stored there independent of the code in the source repository."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:6
# a15ce0db04d949a0a45e8745730615dc
msgid "In addition to the ``shared`` sub-directory, the deploy process will create sub-directories named ``releases`` and ``current`` (also in the ``deploy`` directory). The ``release`` directory holds (up to) five most recently deployed versions of an application. The ``current`` directory holds the currently-released version."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:8
# f59036776b49423c98d8ca39de362ba7
msgid "For example::"
msgstr ""

#: ../source/resource_deploy.rst:50
# 74a797b1556a409a863d9fe75b0ea089
msgid "Deploy Phases"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:4
# 26db203518c940dab9d41abb650f4fdb
msgid "A deployment happens in four phases:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:6
# c3f00eaa39b2446e8760f9720d7d03cd
msgid "**Checkout**---the |chef client| uses the |resource scm| resource to get the specified application revision, placing a clone or checkout in the sub-directory of the ``deploy`` directory named ``cached-copy``. A copy of the application is then placed in a sub-directory under ``releases``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:7
# 6b6c46abb748459faedeb01a43fb384a
msgid "**Migrate**---If a migration is to be run, the |chef client| symlinks the database configuration file into the checkout (``config/database.yml`` by default) and runs the migration command. For a |ruby on rails| application, the ``migration_command`` is usually set to ``rake db:migrate``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:8
# 7ee080ab50bb40aca11beff61897ceb6
msgid "**Symlink**---Directories for shared and temporary files are removed from the checkout (``log``, ``tmp/pids``, and ``public/system`` by default). After this step, any needed directories (``tmp``, ``public``, and ``config`` by default) are created if they don't already exist. This step is completed by symlinking shared directories into the current ``release``, ``public/system``, ``tmp/pids``, and ``log`` directories, and then symlinking the ``release`` directory to ``current``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:9
# a3f56b37411e4b97b434c603b89fb082
msgid "**Restart**---The application is restarted according to the restart command set in the recipe."
msgstr ""

#: ../source/resource_deploy.rst:54
# 616929cd61bd48ff9d5b90e1978db52a
msgid "Deploy Cache File"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_start_over.rst:4
# 2dbf2a5443c34547b7ead8f51d879508
msgid "The |chef client| uses a cache file to keep track of the order in which each revision of an application is deployed. By default, the cache file is located at |path chef deploy cache file|. To force a re-deploy, delete the deployment directory or delete the cache file."
msgstr ""

#: ../source/resource_deploy.rst:58
# 383c0ff32d9f4cb18a6ae867e18c313b
msgid "Callbacks"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:4
# f9670963706d47199e8a764c13d59836
msgid "In-between each step in a deployment process, callbacks can be run using arbitrary |ruby| code, including recipes. All callbacks support embedded recipes given in a block, but each callback assumes a shell command (instead of a deploy hook filename) when given a string."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:6
# 67f8146fa78441b98887e629d39a1453
msgid "The following callback types are available:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:12
# 9cc07d1b6a15423d90a5283fe4c8dcf6
msgid "Callback"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:13
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:11
#: ../../includes_resources/includes_resource_deploy_actions.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:68
#: ../../includes_resources/includes_resource_deploy_attributes.rst:87
# c22f7c56d4a6412c98f95272f884a1df
# fbd065c4f67649f482eeb2d4aec9b290
# b67b2b5b919a4b7389a828b44371c64c
# 7a4f97071a36474f9169ec5fd2f2b42a
# f2d4d28330cd439280adf289929f7f9d
# 7a8b4ed54b7c4b179c9af0fbf098cec3
msgid "Description"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:12
# e54b4074c5494abcaab49aa09e0b7e6e
# 1d3dc88d07b14f9da2bbe84d0d5a1091
msgid "``after_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:15
#: ../../includes_resources/includes_resource_deploy_attributes.rst:13
# 79ace6e06a3448e7b5d9fc7603e34a14
# 89a48424405049b69893c9752b2d9500
msgid "|after_restart| Default value: ``deploy/after_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:14
# 4eec083245bc4718a5fb86ae3aa5abc4
# 4b9a517296b74b14aab57baa409ff60c
msgid "``before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:17
#: ../../includes_resources/includes_resource_deploy_attributes.rst:15
# b590d86253ff4453959eadcddfa9ed88
# cd14921cba3c4fe990082d41acee2e66
msgid "|before_migrate| Default value: ``deploy/before_migrate.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:16
# 818f4554f2124acb8ff62b32ac56e6da
# 2961f972b01d4e309df21c6a4d664532
msgid "``before_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:19
#: ../../includes_resources/includes_resource_deploy_attributes.rst:17
# e2bd610f9ee24312860fd992b5ec3fcd
# ff9f3461772e4c48b6e8d3306c952572
msgid "|before_restart| Default value: ``deploy/before_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:20
#: ../../includes_resources/includes_resource_deploy_attributes.rst:18
# 576d8c904a63421d9bbdcc6a8532afb4
# 11253a04c7a54e41baf82287cbab0de9
msgid "``before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:21
#: ../../includes_resources/includes_resource_deploy_attributes.rst:19
# c522cf52fff94b42a6bed68621242434
# e2c5faf460824e6fa0057422c07d34a3
msgid "|before_symlink| Default value: ``deploy/before_symlink.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:23
# e072ab6e64a44901b1ff3cc0e49d2638
msgid "Each of these callback types can be used in one of three ways:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:25
# 2507cf94e28041f08266e42921dfaabc
msgid "To pass a block of code, such as |ruby| or |python|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:26
# 9e88b15ecfea4295b39f5ba02b2481c0
msgid "To specify a file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:27
# 50be284acb214ff5bc1b6f2ab3e8613b
msgid "To do neither; the |chef client| will look for a callback file named after one of the callback types (``before_migrate.rb``, for example) and if the file exists, to evaluate it as if it were a specified file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:29
# ddf3d939c9e348539de7c7591f7b727a
msgid "Within a callback, there are two ways to get access to information about the deployment:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:31
# c7af1135e8334f2a99ef139d8b5331ce
msgid "``release_path`` can be used to get the path to the current release"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:32
# 8560fdb94d954a4fb57541f1e185bdac
msgid "``new_resource`` can be used to access the deploy resource, including environment variables that have been set there (using ``new_resource`` is a preferred approach over using the ``@configuration`` variable)"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:34
# 255959e7aac7411994f6795a236c3048
msgid "Both of these options must be available at the top-level within the callback, along with any assigned values that will be used later in the callback."
msgstr ""

#: ../source/resource_deploy.rst:61
# 601824d87db04b15859426564c10ad5a
msgid "**Callbacks and Capistrano**"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:5
# a2df0037e3da468190a18732e83e7067
msgid "If you are familiar with |capistrano|, the following examples should help you know when to use the various callbacks that are available. If you are not familiar with |capistrano|, then follow the semantic names of these callbacks to help you determine when to use each of the callbacks within a recipe that is built with the |resource deploy| resource."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:7
# 68551eb158c84c7ca816902fa3ce89c8
msgid "The following example shows where callbacks fit in relation to the steps taken by the ``deploy`` process in |capistrano|:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:11
# 5976c2afcd21427fab76ada3e5eda782
msgid "and the following example shows the same comparison, but with the ``deploy:migrations`` process:"
msgstr ""

#: ../source/resource_deploy.rst:66
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:10
# 98eb912b1b094777a92b468cf34bc426
# 575b23f704874da1bf03967d7330fccb
msgid "Layout Modifiers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:4
# 028ee0004e1f46b2886243f1d6d244e6
msgid "The |resource deploy| resource expects an application to be structured like a |ruby on rails| application, but the layout can be modified to meet custom requirements as needed. Use the following attributes within a recipe to modify the layout of a recipe that is using the |resource deploy| resource:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:12
#: ../../includes_resources/includes_resource_deploy_attributes.rst:22
# 291af3a3bd6245888bb4b7fad068f892
# 884cb217e3f04ebba14b27ebdd95ecdd
msgid "``create_dirs_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:13
# 54e0533750034634aaf9e588bd254b7c
msgid "|create_dirs_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:38
# fff8e92f67224077b908bc7b73ce768c
# b391e8cead1749ffb4961a6ced2449ae
msgid "``purge_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:15
# 72f0588855d54fff829048a17614f19a
msgid "|purge_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:56
# de4d4bc741db4eca86edfcb621e5ee6f
# fb5a1c165c284daab0b6a07cf78faf8a
msgid "``symlink_before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:17
# f9cf587bf9024c5eae8dc7d2ff7396eb
msgid "|symlink_before_migrate|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:54
# be726780ddba46e180697f10419938f0
# 002e4eeca4fa4bf6980c7e3307a6aea2
msgid "``symlinks``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:19
# ae2208c9aa7641c2b2b1cf6826c391a3
msgid "|symlinks|"
msgstr ""

#: ../source/resource_deploy.rst:70
# 219596c2f94649338dd473d8a8ead843
msgid "Actions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:4
# 36867dc961844922a23b753f87ffb680
msgid "This resource has the following actions:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:10
# 1a70adb8a4394c42ab4c78cd12d811ab
msgid "Action"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:12
# 2c0b933234d2454ead4fbddbb97b7731
msgid "``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:13
# 09afd374475b414bbf5d8e404dea0087
msgid "Default. |resource action deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:14
# c3e88e56b262435eb3684285e7beca6c
msgid "``:force_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:15
# ea3f674dd19944cca060fb8d7cbfe285
msgid "|resource action force_deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:16
# bc12f665fbf34308af78bb03673cfbc8
msgid "``:rollback``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:17
# b00862eaf32c4fc393e8639ea5bfce4d
msgid "|resource action rollback deploy|"
msgstr ""

#: ../source/resource_deploy.rst:74
# 9bda447192024ffbb1e6527676c85896
msgid "Attributes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:4
# d5a9267d79a4456092f6cb1449336acd
msgid "This resource has the following attributes:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:10
#: ../../includes_resources/includes_resource_deploy_attributes.rst:67
#: ../../includes_resources/includes_resource_deploy_attributes.rst:86
# 85219ff8ff7c4737892c0f8191a531f0
# baf4b7570fef4772931352b71ccb449e
# 0e17d2f3eeeb41eda124be934b1c343b
msgid "Attribute"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:20
# 76744b98dc9b411a90c09a1b75c7ad43
msgid "``branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:21
# a67cdc93e9ec4c429015903616b77cdc
msgid "The alias for the revision."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:23
# e4420f22c6be44a39abebdcffd4e7343
msgid "|create_dirs_before_symlink| Default value: ``%w{tmp public config}`` (or the same as ``[\"tmp\", \"public\", \"config\"]``)."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:24
# 1fe6700b25ac42d19a7dbf95e1ba14ab
msgid "``deploy_to``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:25
# a290f0af271045c4ac6ec791454c1690
msgid "|deploy_to| Default value: the ``name`` of the resource block (see Syntax section above)."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:26
# 17b6939423114c1b9a8c9dbc93f59332
msgid "``environment``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:27
# 254f92fbe83441a897a47bb9055e521c
msgid "|environment variables|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:28
# 3ba86732ccdc459591775aa3bdf34efe
msgid "``group``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:29
# 22b521d48e5a446eb16f6ba48e4ba1db
msgid "|group deploy| Default value: ``nil``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:30
# 59cd69b349774b88a04571b20f82ae15
msgid "``keep_releases``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:31
# b83f956909f04ac3b381c219fc56295d
msgid "|keep_releases| Default value: ``5``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:32
# ca150b408e55405d89c991893bf800a6
msgid "``migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:33
# 86d8121232ae45c0a4459f7a2aa66c3a
msgid "|migrate command_run| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:34
# 4652f3157c7c4e50a86585d45d6d685c
msgid "``migration_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:35
# 773a41a3f60c4b6dbcf8e87bd1dcca4e
msgid "|migration command_string|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:36
# fb7834cd8af94f96a30cfd4cc8e19c02
msgid "``provider``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:37
# ab5eeadad3664dd79b3b4d903b676a46
msgid "Optional. |provider resource_parameter|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:39
# 0a248f74e867497bb27abdab6ee20c96
msgid "|purge_before_symlink| Default value: ``%w{log tmp/pids public/system}`` (or the same as ``[\"log\", \"tmp/pids\", \"public/system\"]``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:40
# 0b6dcf95b12f4803a1869664e1a9279a
msgid "``repo``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:41
# d9b9404cd56845048a6a70a32fcccc3d
msgid "|repository git_or_svn|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:42
# 5f93ece29efe46a68a732b4559ab0169
msgid "``repository``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:43
# ec05cbe5a0454bc4b5a1e7b6061da8f0
msgid "|uri repository|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:44
# 401ac871aa644d96a02fe112413f7816
msgid "``repository_cache``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:45
# 6fc1cd3f00f44517a443b9f9a79d4044
msgid "|repository_cache| Default value: ``cached-copy``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:46
# 74cd3a4cdd08444f93f0455b63eef494
msgid "``restart_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:47
# 44371eb19c594c1a9a660311eafb764d
msgid "|restart shell_command| Default value: ``nil``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:48
# 4ce527c9093a44179f12c921a2bad21b
msgid "``revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:49
# 0633a00070cd4064b2d6a806abebe5c9
msgid "|revision| Default value: ``HEAD``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:50
# 370b7b62361b441aaf50891db58d18cd
msgid "``rollback_on_error``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:51
# 4bb25db3cc7144e3ba575f92133bb898
msgid "|rollback_on_error| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:52
# eb09d7b5822c48d0aa13d5b979f68b04
msgid "``scm_provider``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:53
# 6e3daee577854ac88e1eeccb93c3a83f
msgid "|name scm_provider| Default value: ``Chef::Provider::Git``. Optional values: ``Chef::Provider::Subversion``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:55
# a76fac6ecd374964a5be238698175e17
msgid "|symlinks| Default value: ``{\"system\" => \"public/system\", \"pids\" => \"tmp/pids\", \"log\" => \"log\"}``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:57
# 6a4a398dceb54cd18b3037d70a906177
msgid "|symlink_before_migrate| Default value: ``{\"config/database.yml\" => \"config/database.yml\"}``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:58
# 77608cb2ff674a79884445d476e16890
msgid "``user``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:59
# 1b00efe316cf408ea805367c724f2a2a
msgid "|user checked_out_code| Default value: ``nil``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:61
# 148cae08ffc44784abbb48d4a0759fd5
msgid "The following attributes are for use with |git| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:69
# a2b053954402472593796a68f57b734c
msgid "``enable_submodules``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:70
# 49a995020397430892641ab85d8b3d45
msgid "|enable_submodules| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:71
# 600d4873503b496e98db7e5dc31059dd
msgid "``git_ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:72
# 6425e4b8da864dd09597a159d89b30c4
msgid "|git_ssh_wrapper|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:73
# c529b5e956324dc686703625075b27ce
msgid "``remote``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:74
# b0e5f9e314334e15aca85ac61e607286
msgid "|remote resource| Default value: ``origin``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:75
# 010a82254752412bbf4980f95e14136b
msgid "``shallow_clone``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:76
# 811186f505b34c32a0f555c5e1a0c4b9
msgid "|shallow_clone| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:77
# a7a13c071c3e48e0871d1b526ac1dc25
msgid "``ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:78
# 1eba34f67afe4f00a079cd46f6da9da2
msgid "|ssh_wrapper resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:80
# 403e6797272c4ac6a1a8049302e620da
msgid "The following attributes are for use with |svn| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:88
# 9ff34dc9d8b14a26ac90bafc6d534f6f
msgid "``svn_arguments``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:89
# f48cbece80804695873c326b07697fda
msgid "|svn_arguments resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:90
# 704c4cbd1b1440df987712a4b4a8e4c9
msgid "``svn_password``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:91
# e46b9ee5065c4356b9d83f352d39266f
msgid "|svn_password resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:92
# 33fe00dabf224c26aef60ba82a160f0a
msgid "``svn_username``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:93
# 10ed13724ffc46559cfbcb413dc52018
msgid "|svn_username resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:95
# fabb25a7faf94d2493102b3373f29132
msgid "For example:"
msgstr ""

#: ../source/resource_deploy.rst:78
# 491cb2c1469c4296904322fdd787b898
msgid "Providers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:4
# 2a5becf2901f4108bcddcf1e3c2cee28
msgid "The |resource deploy| resource providers are used to determine whether to deploy based on whether the release directory in which the deployment is to be made actually exists. The following providers are available. Use the short name to call the provider from a recipe:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:10
# b7481d40d86c4b1db0d44926144812c7
msgid "Long name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:11
# cd3847f1ba574111a19a5e10a1980bc2
msgid "Short name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:12
# b5ab7b7524654bdd948c12f4c2aebb00
msgid "Notes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:13
# 16d5bda3c5de41f385fdce3d7bfe7078
msgid "``Chef::Provider::Deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:14
# faae253883e540fa860a9970836eaffc
msgid "``deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:15
# f9f4cca8212b4ff4b146971821300e0a
msgid "When this short name is used, the |chef client| will determine the correct provider during the |chef client| run."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:16
# fabb292dc9fe4ca39694c3995e8bffe1
msgid "``Chef::Provider::Deploy::Branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:17
# 5226cb9d77cc409e9033654ebb16dd77
msgid "``deploy_branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:18
#: ../../includes_resources/includes_resource_deploy_providers.rst:21
# 087327badf354858a691a855d2ffe2b2
# 3298f422d18d4160b8fade374be9886d
msgid "See below for more information."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:19
# 173e3aeb79d24814ac054dc93df37ce2
msgid "``Chef::Provider::Deploy::Revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:20
# 334c1305f7de4768a6d6549b77d954c5
msgid "``deploy_revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:22
# 552d6065744d4cf5a49a9590d1dabd39
msgid "``Chef::Provider::Deploy::TimestampedDeploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:23
# 33c75ad33e9246b0808cfb6955c08948
msgid "``timestamped_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:24
# 26c3c97324cc478e8e28e165223688ea
msgid "The default provider for all platforms. See below for more information."
msgstr ""

#: ../source/resource_deploy.rst:82
# d31493bd95334cd6bd4832ebc468f08d
msgid "deploy_branch"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_branch.rst:5
# e46cff57dd164895bb203d1f6fa049c9
msgid "The ``deploy_branch`` resource is used in the same way as the ``deploy_resource`` resource. It uses the ``Deploy::Revision`` provider and has uses the same set of actions and attributes."
msgstr ""

#: ../source/resource_deploy.rst:86
# e0e749bb8d084b1ea51ae6137ad5d342
msgid "deploy_revision"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:4
# 57d7dbf4ce3941d89ac26fff31f33e58
msgid "The ``deploy_revision`` provider is the recommended provider, even if it is not listed as the default. The ``deploy_revision`` provider is used to ensure that the name of a release sub-directory is based on a revision identifier. For users of |git|, this will be the familiar SHA checksum. For users of |svn|, it will be the integer revision number. If a name other than a revision identifier is provided---branch names, tags, and so on---the |chef client| will ignore the alternate names and will look up the revision identifier and use it to name the release sub-directory. When the ``deploy_revision`` provider is given an exact revision to deploy, it will behave in an idempotent manner."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:6
# 916f98d7dcd645b2bdfb17376906ea1b
msgid "The ``deploy_revision`` provider results in deployed components under the destination location that is owned by the user who runs the application. This is sometimes an issue for certain workflows. If issues arise, consider the following:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:8
# b74b52cf6c014fe1bc2bc31d8f3c475a
msgid "Incorporate changing permissions to the desired end state from within a recipe"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:9
# f0ed2fe183f745d58b6b4ccf68dcb48b
msgid "Add a ``before_restart`` block to fix up the permissions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:10
# da67e8fd47f14f80978c676bf85c8872
msgid "Have an unprivileged user (for example: ``opscode``) be the owner of the ``deploy`` directory and another unprivileged user (for example: ``opscodeapp``) run the application. Most often, this is the solution that works best"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:12
# ed1d3a4a82ce4b09a619e7af6ed0d795
msgid "When using the ``deploy_revision`` provider, and when the deploy fails for any reason, and when the same code is used to re-deploy, the action should be set manually to ``:force_deploy``. Forcing the re-deploy will remove the old release directory, after which the deploy can proceed as usual. (Forcing a re-deploy over the current release can cause some downtime.) Deployed revisions are stored in ``(file_cache_path)/revision-deploys/(deploy_path)``."
msgstr ""

#: ../source/resource_deploy.rst:90
# 8045565461a74e0a99c2bcf1f9918685
msgid "timestamped_deploy"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_timestamped_deploy.rst:4
# 4b2132dcdd034bc1a492e642c0c53ff5
msgid "The ``timestamped_deploy`` provider is the default |resource deploy| provider. It is used to name release directories with a timestamp in the form of ``YYYYMMDDHHMMSS``. For example: ``/my/deploy/dir/releases/20121120162342``. The |resource deploy| resource will determine whether or not to deploy code based on the existence of the release directory in which it is attempting to deploy. Because the timestamp is different for every |chef client| run, the ``timestamped_deploy`` provider is not idempotent. When the ``timestamped_deploy`` provider is used, it requires that the action setting on a resource be managed manually in order to prevent unintended continuous deployment."
msgstr ""

#: ../source/resource_deploy.rst:94
# 7c251d5ef3e4424ab37c44dbaf5a6b47
msgid "Examples"
msgstr ""

#: ../source/resource_deploy.rst:95
# 6c4d1a482e0a402bb9004ddc9d620343
msgid "|generic resource statement|"
msgstr ""

#: ../source/resource_deploy.rst:97
# e9d30b6892a047dfa3cc21b470cd3efc
msgid "**Modify the layout of a Ruby on Rails application**"
msgstr ""

#: ../../step_resource/step_resource_deploy_custom_application_layout.rst:3
# dab1b5aada5a4d7a9091394c1c49bd52
msgid "The layout of the |resource deploy| resource matches a |ruby on rails| app by default, but this can be customized. To customize the layout, do something like the following:"
msgstr ""

#: ../source/resource_deploy.rst:101
# f2a5ce2b2d6d453499643d0017ee95da
msgid "**Use resources within callbacks**"
msgstr ""

#: ../../step_resource/step_resource_deploy_embedded_recipes_for_callbacks.rst:3
# c777570bf1c54325bd75a236ecc23de4
msgid "Using resources from within your callbacks as blocks or within callback files distributed with your application's source code. To use embedded recipes for callbacks:"
msgstr ""

#: ../source/resource_deploy.rst:105
# 3fa78026020041c0bae0e04a2164e6cc
msgid "**Deploy from a private git repository without using the application cookbook**"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:3
# bcba1becb31f4c5d9100d24c0d4ea6c4
msgid "To deploy from a private |git| repository without using the |cookbook application| cookbook, first ensure that:"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:5
# 0109ad0260824e4d8f598a4913f17d94
msgid "the private key does not have a passphrase, as this will pause a |chef client| run to wait for input"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:6
# 3a4931a271704915842ca2ccd64143dd
msgid "an |ssh| wrapper is being used"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:7
# e2b99ce673734856a70989bebfbd31c4
msgid "a private key has been added to the node"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:9
# 1a5ec6f50d6b4737a3535fffeeb575e0
msgid "and then use code like the following to remove a passphrase from a private key:"
msgstr ""

#: ../source/resource_deploy.rst:109
# de2f8c83305a4cb69a8d67e962f9c44d
msgid "**Use an SSH wrapper**"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:3
# 963216970bd443fa86be26abccb293dd
msgid "To write a recipe that uses an |ssh| wrapper:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:5
# 8ef83eaeec0447bda089605a044ba916
msgid "Create a file in the ``cookbooks/COOKBOOK_NAME/files/default`` directory that is named ``wrap-ssh4git.sh`` and which contains the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:12
# 065b410b61bc4beda5b25b3ac8691743
msgid "Set up the cookbook file."
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:13
# 698d2a5de7464833a37b4c535374ce19
msgid "Add a recipe to the cookbook file similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:36
# 8ba7d5179d694f698ef34c432bd29248
msgid "This will deploy the |git| repository at ``git@github.com:acctname/private-repo.git`` in the ``/tmp/private_code`` directory."
msgstr ""

#: ../source/resource_deploy.rst:113
# 926315c6fe3046cfbea25f621c4709cf
msgid "**Use a callback to include a file that will be passed as a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:3
# 6639a9a02bb34efa89aa0ae5e461a961
msgid "The code in a file that is included in a recipe using a callback is evaluated exactly as if the code had been put in the recipe as a block. Files are searched relative to the current release."
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:5
# 336a82939e09492bb3b11e6df43b8a15
msgid "To specify a file that contains code to be used as a block:"
msgstr ""

#: ../source/resource_deploy.rst:117
# 5259b6e2e2e14833ace2f0826e58aade
msgid "**Use a callback to pass a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_pass_python.rst:3
# 828c8dbf1db34241921132feaa428dfd
msgid "To pass a block of |python| code before a migration is run:"
msgstr ""

#: ../source/resource_deploy.rst:121
# b7cd2d0d49df457f8e24768cb57678e6
msgid "**Use the same API for all recipes using the same gem**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_same_api_as_gitdeploy_gems.rst:3
# cc357b2c77414b3f9ca74fe7a7f16b22
msgid "Any recipes using the ``git-deploy`` |gem| can continue using the same API. To include this behavior in a recipe, do something like the following:"
msgstr ""

#: ../source/resource_deploy.rst:125
# b2ec1f5e12dc4633885416298b3642c4
msgid "**Deploy without creating symbolic links to a shared folder**"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:3
# 3c5ee45811d14837a072fbc139f75da9
msgid "To deploy without creating symbolic links to a shared folder:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:11
# 6b0f93caa87a4a2db8bb5b3fdb18631a
msgid "When deploying code that is not |ruby on rails| and symbolic links to a shared folder are not wanted, use parentheses ``()`` or ``Hash.new`` to avoid ambiguity. For example, using parentheses:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:19
# ae9863f3e46f46b1a4af355c09348d7b
msgid "or using ``Hash.new``:"
msgstr ""

#: ../source/resource_deploy.rst:129
# 4fb10fc108ab42208edf3bfabbd67822
msgid "**Clear a layout modifier attribute**"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:3
# f3d855b781bb4e5887025857f6b32bd0
msgid "Using the default attribute values for the various resources is the recommended starting point when working with recipes. Then, depending on what each node requires, these default values can be overridden with node-, role-, environment-, and cookbook-specific values. The |resource deploy| resource has four layout modifiers: ``create_dirs_before_symlink``, ``purge_before_symlink``, ``symlink_before_migrate``, and ``symlinks``. Each of these is a |ruby| |hash| that behaves as an attribute of the |resource deploy| resource. When these layout modifiers are used in a recipe, they appear similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:19
# 9299efd53adf4bbc84bf70b525dcab34
msgid "and then what these layout modifiers look like if they were empty:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:32
# b9377f5aec14488ea9690c6ef6ba3e5e
msgid "In most cases, using the empty values for the layout modifiers will prevent the |chef client| from passing symbolic linking information to a node during the |chef client| run. However, in some cases, it may be preferable to ensure that one (or more) of these layout modifiers do not pass any symbolic linking information to a node during the |chef client| run at all. Because each of these layout modifiers are a hash, the ``clear`` instance method can be used to clear out these values."
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:34
# b0218fda95024d548d766b2d9e08e085
msgid "To clear the default values for a layout modifier:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:47
# b8817806d246460dbef6adf0cd9f77fd
msgid "In general, use this approach carefully and only after it is determined that nil or empty values won't provide the expected result."
msgstr ""

