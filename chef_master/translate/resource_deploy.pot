# SOME DESCRIPTIVE TITLE.
# Copyright (C) This work is licensed under a Creative Commons Attribution 3.0 Unported License
# This file is distributed under the same license as the Chef Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Chef Docs 0.0.1\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2013-04-08 13:57\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/resource_deploy.rst:34
# 4404565221864459b5127a7471b69345
msgid "deploy"
msgstr ""

#: ../../includes_resources/includes_resource_generic.rst:4
# e1adbb57d65044d5aa71c1d0598a7a35
msgid "A `resource <http://docs.opscode.com/resource.html>`_ is a key part of a `recipe <http://docs.opscode.com/essentials_cookbook_recipes.html>`_ that defines the actions that can be taken against a piece of the system. These actions are identified during each `Chef run <http://docs.opscode.com/essentials_nodes_chef_run.html>`_ as the resource collection is compiled. Once identified, each resource (in turn) is mapped to a provider, which then configures each piece of the system."
msgstr ""

#: ../../includes_resources/includes_resource_deploy.rst:4
# cd7ad5e689aa45549dfe5e820ade0d1c
msgid "|resource desc deploy| It is one of the most popular resources available in |chef| and is also the most complex, having the most attributes, multiple providers, the added complexity of callbacks, plus four attributes that support layout modifications from within a recipe."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano.rst:4
# 69ed1b1e91ff4dc0be168fdead59d995
msgid "The |resource deploy| resource is modeled after |capistrano|, a utility and framework for executing commands in parallel on multiple remote machines via |ssh|. The |resource deploy| resource in |chef| is designed to behave in a way that is similar to the ``deploy`` and ``deploy:migration`` tasks in |capistrano|."
msgstr ""

#: ../source/resource_deploy.rst:43
# 00ff98d3ed714a02aed071b62ff8101d
msgid "Syntax"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:4
# 3ae3aeecb2c748aa9932038eca49475f
msgid "The syntax for using the |resource deploy| resource in a recipe is as follows:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:21
# 189898151aa44b5e9e1891c99c4ce523
msgid "where"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:23
# 9f82f92498d3409ba960cf80520d254e
msgid "``deploy`` tells |chef| to use either the ``Deploy::Revision`` or ``Deploy::Timestamped`` provider during the |chef| run. More specific short names---``timestamped_deploy``, ``deploy_revision``, or ``deploy_branch``---can be used instead of the ``deploy`` short name."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:24
# 1bf636cf599c4a90bd77743015edb9f4
msgid "``\"name\"`` is the path to the location in which the deployment steps will occur"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:25
# 084e0dcb3c214084864312753af88ac3
msgid "``attribute`` is zero (or more) of the attributes that are available for this resource"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:26
# 56b3434b2f064fd2b542e04beb3db329
msgid "``callback`` represents additional |ruby| code that is used to pass a block or to specify a file, and then provide additional information to |chef| at specific times during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:27
# aa001d9d29034c949865de65ecff152b
msgid "``purge_before_symlink``, ``create_dirs_before_symlink``, and ``symlink`` are attributes that are used to link configuration files, remove directories, create directories, or map files and directories during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:28
# 46a702eee52d4d99a975c4d66e1f31b0
msgid "``:action`` is the step that the resource will ask the provider to take during the |chef| run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:30
# 3bc3207d2bd94d1e8690d1030a2cda04
msgid "The following is an example of how the ``deploy_revision`` resource can work when used in a recipe. In this example, an application will be deployed to a folder named \"/path/to/application\":"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:51
# 1294c91aeb6541a4a2c0e6a6d5c88976
msgid "For the example shown above:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:53
# f2daf75f57694ab4b85b123fe6308021
msgid "Because an action is not explicitly specified, |chef| will use the default action: ``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:54
# 923d21f37fa842d6a417eafc49f5d9b7
msgid "The ``purge_before_symlink`` application layout is an array of paths that will be cleared before the ``symlinks`` attribute is run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:55
# 1b91ecd2147049ecb49b274aecb694bd
msgid "The ``create_dirs_before_symlink`` attribute is empty, which is different from the default"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:56
# 07c52933dbfc445588a4a162572264a5
msgid "The ``symlinks`` attribute is creating three symbolic links"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:57
# a58027eda5494c93be5d0f4e94a37be1
msgid "The ``before_restart`` callback is being used to add custom actions that will occur at the end of the deployment process, but before any services have been notified"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:58
# 615d1b53857f45c9a16705b2786e910c
msgid "At the end, the recipe is using the ``notifies`` attribute---a common attribute available to all resources in |chef|---to alert two services (named \"foo\" and \"bar\") that they should restart."
msgstr ""

#: ../source/resource_deploy.rst:47
# 403c0ee2aaf849b7b53d6c5bee7a040e
msgid "Deploy Strategies"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:4
# 993b3b965ebe46f6a6a88906c90177ff
msgid "In the ``deploy`` directory, a sub-directory named ``shared`` must be created. This sub-directory is where configuration and temporary files will be kept. A typical |ruby on rails| application will have ``config``, ``log``, ``pids``, and ``system`` directories within the ``shared`` directory to keep the files stored there independent of the code in the source repository."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:6
# 49e627f2d7d740f2a0b5279cf112ad99
msgid "In addition to the ``shared`` sub-directory, the deploy process will create sub-directories named ``releases`` and ``current`` (also in the ``deploy`` directory). The ``release`` directory holds (up to) five most recently deployed versions of an application. The ``current`` directory holds the currently-released version."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:8
# 631fb35997c640acb93dbfb03fd61ca2
msgid "For example::"
msgstr ""

#: ../source/resource_deploy.rst:51
# 6f19ab8b8716449bbbb7ffcde69effed
msgid "Deploy Phases"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:4
# a409173a80d64babb72e8fe11063aa48
msgid "A deployment happens in four phases:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:6
# c797f23319e5476a85e2981404201e7f
msgid "**Checkout**---|chef| uses the |resource scm| resource to get the specified application revision, placing a clone or checkout in the sub-directory of the ``deploy`` directory named ``cached-copy``. A copy of the application is then placed in a sub-directory under ``releases``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:7
# b4b57fc8ffa448d590a34f7a071fa832
msgid "**Migrate**---If a migration is to be run, |chef| symlinks the database configuration file into the checkout (``config/database.yml`` by default) and runs the migration command. For a |ruby on rails| application, the ``migration_command`` is usually set to ``rake db:migrate``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:8
# 02444a6218884841a44192570c6dc0b9
msgid "**Symlink**---Directories for shared and temporary files are removed from the checkout (``log``, ``tmp/pids``, and ``public/system`` by default). After this step, any needed directories (``tmp``, ``public``, and ``config`` by default) are created if they don't already exist. This step is completed by symlinking shared directories into the current ``release``, ``public/system``, ``tmp/pids``, and ``log`` directories, and then symlinking the ``release`` directory to ``current``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:9
# fcf8a2632b2c42fc9ce657c5145a7b07
msgid "**Restart**---The application is restarted according to the restart command set in the recipe."
msgstr ""

#: ../source/resource_deploy.rst:55
# d7ec8469e5fe4d5c9aef7f868b1ca280
msgid "Deploy Cache File"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_start_over.rst:4
# be433e6daea34e869f5ee2355deeb39d
msgid "|chef| uses a cache file to keep track of the order in which each revision of an application is deployed. If a re-deployment must be forced---by deleting the deployed code from a node, for example---the cache file must be deleted as well. The cache file is located in the default configuration at |path chef deploy cache file|."
msgstr ""

#: ../source/resource_deploy.rst:59
# 045b064352e7469ca7cca5f8947258ac
msgid "Callbacks"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:4
# 39fc2369e9114ca0b4b633f75c6a9ac6
msgid "In-between each step in a deployment process, callbacks can be run using arbitrary |ruby| code, including recipes. All callbacks support embedded recipes given in a block, but each callback assumes a shell command (instead of a deploy hook filename) when given a string."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:6
# 58b661d0b23842a189ba812e4ed3fa4c
msgid "The following callback types are available:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:12
# db27b669d60d4ed1b041eebf93251735
msgid "Callback"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:13
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:11
#: ../../includes_resources/includes_resource_deploy_actions.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:64
#: ../../includes_resources/includes_resource_deploy_attributes.rst:83
# b33146c9f229462f98069f265734407d
# c6ac90fe872b4b00aa5bf080c2c5d39b
# bdcbe911de814e4f9376b5c69d6227c1
# 92edc88d99334cdc98c23e25e706d650
# 46fc3897eeae4200b897f98488822ad4
# 7fdbf8cc30654f89bd0e04684e527006
msgid "Description"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:12
# f3c64905d57b4e3ba13e4dbbea63ba5e
# 09fb8903fd0c4650b5ea29c19291debb
msgid "``after_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:15
#: ../../includes_resources/includes_resource_deploy_attributes.rst:13
# 004247d5f38a4843b975777e950f9995
# 912ff2c2ffb1417cbd73eeac77dce9c0
msgid "|after_restart| Default value: ``deploy/after_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:14
# f10ffb363aac4fb69a1a4b16a1227a95
# 02a2d286c40f44eab86baef5053c9fc1
msgid "``before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:17
#: ../../includes_resources/includes_resource_deploy_attributes.rst:15
# 96e369e1c1864e9c8ebe86355d3b7c85
# 0d6e03f60ea842bbb540f1245f3e8f00
msgid "|before_migrate| Default value: ``deploy/before_migrate.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:16
# 60117b1c2bd040209d684035735c1087
# 98a2bade177f4fef9c7631c09fa24966
msgid "``before_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:19
#: ../../includes_resources/includes_resource_deploy_attributes.rst:17
# 997bc8af22d44bafb4bec08884cd714c
# 3b623e0aaad141a68f7c7c862002dc74
msgid "|before_restart| Default value: ``deploy/before_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:20
#: ../../includes_resources/includes_resource_deploy_attributes.rst:18
# 343f854f23ac4dffab0cceeedaa75bac
# ceb800627e9b4335b118140e9b0d3f38
msgid "``before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:21
#: ../../includes_resources/includes_resource_deploy_attributes.rst:19
# 8afc36358ef34f86bd608347c1f2331f
# 45b527272fcc48e2b56452daeb0168d8
msgid "|before_symlink| Default value: ``deploy/before_symlink.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:23
# 1b24fce2c1634edfb2f13e8e034d2eb0
msgid "Each of these callback types can be used in one of three ways:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:25
# 907746c2bc704b95be8a14527ca93450
msgid "To pass a block of code, such as |ruby| or |python|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:26
# c57747b9b9e1471186fbe2a8515b0576
msgid "To specify a file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:27
# d17abcac748a41beae153ff42e4c7b68
msgid "To do neither; |chef| will look for a callback file named after one of the callback types (``before_migrate.rb``, for example) and if the file exists, to evaluate it as if it were a specified file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:29
# b8c60ae6fcb346b48754e6e49e9b09fd
msgid "Within a callback, there are two ways to get access to information about the deployment:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:31
# bc908f8e147940bf94fda8301f1fcee6
msgid "``release_path`` can be used to get the path to the current release"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:32
# cb490cc09f1d4447ac592e5a3b8ca13d
msgid "``new_resource`` can be used to access the deploy resource, including environment variables that have been set there (using ``new_resource`` is a preferred approach over using the ``@configuration`` variable)"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:34
# 42ebb8c16e7e4a6da3451892dc58325b
msgid "Both of these options must be available at the top-level within the callback, along with any assigned values that will be used later in the callback."
msgstr ""

#: ../source/resource_deploy.rst:62
# 157550f957ca4ffbbb818f0918284d9b
msgid "**Callbacks and Capistrano**"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:5
# 95140554420a4d22941dc01ee3acea03
msgid "If you are familiar with |capistrano|, the following examples should help you know when to use the various callbacks that are available in |chef|. If you are not familiar with |capistrano|, then follow the semantic names of these callbacks to help you determine when to use each of the callbacks within a recipe that is built with the |resource deploy| resource."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:7
# c60119e30dae4ab4969ea2d382a85660
msgid "The following example shows where callbacks in |chef| fit in relation to the steps taken by the ``deploy`` process in |capistrano|:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:11
# 8b0534e55e134fba9291727f65a03787
msgid "and the following example shows the same comparison, but with the ``deploy:migrations`` process:"
msgstr ""

#: ../source/resource_deploy.rst:67
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:10
# 4fe6e4b1dce64e0480c09b33876a768d
# a0ec2b13000b4959a77e66fd1cc7a9a1
msgid "Layout Modifiers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:4
# 6d4c17f07dfb4e1a9469e14e7b586f91
msgid "The |resource deploy| resource expects an application to be structured like a |ruby on rails| application, but the layout can be modified to meet custom requirements as needed. Use the following attributes within a recipe to modify the layout of a recipe that is using the |resource deploy| resource:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:12
#: ../../includes_resources/includes_resource_deploy_attributes.rst:22
# 773d0ae3bcb242d5a8b314c1ee8543e3
# d81d81428fbb497588eb5a52a7f4d3b9
msgid "``create_dirs_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:13
#: ../../includes_resources/includes_resource_deploy_attributes.rst:23
# 2a63ce9607c44ecbae40be7527476199
# fb729380fd8c49b2b4b1ef79a87ddc8b
msgid "|create_dirs_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:34
# 09282be53d294242918a17c247127576
# b2a0d84c97294d55ad21dca0a4f90cea
msgid "``purge_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:15
#: ../../includes_resources/includes_resource_deploy_attributes.rst:35
# 3590f1e33c1a45169e6c00b6f8fe13ef
# db06dad104254835ab95f1ce50d928e6
msgid "|purge_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:52
# b8d5e646234f478da5ca762560c92253
# f256eb03488541159f03b01a6d50792a
msgid "``symlink_before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:17
#: ../../includes_resources/includes_resource_deploy_attributes.rst:53
# 6bc1265acebf47ca9ef8388f6b7553f4
# 7d866181ef1c4ff980e7cbbadd5b157b
msgid "|symlink_before_migrate|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:50
# e255c4e86fe34f56aec4611f0e5d6e68
# 1caf9359c0fa4584a08ab1c8ad1c135b
msgid "``symlinks``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:19
#: ../../includes_resources/includes_resource_deploy_attributes.rst:51
# c58f9ed6c31945479baff5b6e58ae987
# 3eacf30bcb4a458ea8caf00f0584efea
msgid "|symlinks|"
msgstr ""

#: ../source/resource_deploy.rst:71
# 5382b6add51a4e68b738dea0b9d5d8b5
msgid "Actions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:4
# d3c7aea9733942828413b6f96155a3bc
msgid "This resource has the following actions:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:10
# 27edfed7e8b3403eab95fea16b56afb3
msgid "Action"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:12
# bae9d07ab0ad4be59e16f6e35b8add23
msgid "``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:13
# e0a9a0af72734c59bcf0366a24849b48
msgid "Default. |resource action deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:14
# d060f555d4354ddc86357736c080499b
msgid "``:force_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:15
# 743ff7d52fb54e18bedd993a0113b24f
msgid "|resource action force_deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:16
# 252c23c0e1a241e290a4fff8f79961f8
msgid "``:rollback``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:17
# 6c7d3ca02900465f9c506c3ec14f94ef
msgid "|resource action rollback deploy|"
msgstr ""

#: ../source/resource_deploy.rst:75
# 4fc25100eb904835b3ab3a05f250abbe
msgid "Attributes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:4
# bb8611ffd1c4498d97591d1fb5b4ab3b
msgid "This resource has the following attributes:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:10
#: ../../includes_resources/includes_resource_deploy_attributes.rst:63
#: ../../includes_resources/includes_resource_deploy_attributes.rst:82
# 57e033bdc03549629e19672528d4c723
# 33deb04d017a4e7da104e6976babeb46
# abbd6bcab69d4de89da8d044f8ce890b
msgid "Attribute"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:20
# 4da6669f2fa146b9847480d2a7f7dcc4
msgid "``branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:21
# 8b7078bb6bc84ab8b8794aea64d34b99
msgid "The alias for the revision."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:24
# cd6a10f75f47492ca649263eb3ac1e65
msgid "``deploy_to``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:25
# c183bd7de82e43a5ab1a6e151657ad80
msgid "|deploy_to|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:26
# 5d136b5b500c41c2bf1e1b615940c574
msgid "``environment``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:27
# 7e65829783724943a96c40fb5b1db26f
msgid "|environment resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:28
# 506216c9725d4eda926cc640c9f3e707
msgid "``group``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:29
# efb2c0b3367d42efb9a72e20ec8806bc
msgid "|group resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:30
# 46e0e48971f543f0a35dc273439996e0
msgid "``migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:31
# c81f8d353aa142f2a9ae660dd2fe79ff
msgid "|migrate resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:32
# 84de2a8421724e4db83ee508c7f9a1cb
msgid "``migration_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:33
# 4b3ef3136f90485fa1b1df63b5c2aad5
msgid "|migration_command resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:36
# 73ab750f17734c64ad3ab94d8c77c330
msgid "``repo``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:37
# c422b32471654d83a4f55bc90135a01a
msgid "|repo resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:38
# 0cf6971292864542aa2eda9442a74831
msgid "``repository``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:39
# 875a2b69766b4df0874edb494c0abd19
msgid "|repository resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:40
# 272b5909185c47cca5679f39cb78ec00
msgid "``repository_cache``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:41
# ed68c2b4fb2e4debbca19818d3d4c0c6
msgid "|repository_cache resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:42
# 7518068671d247f1a02fa2ec073da2a3
msgid "``restart_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:43
# a1db668171794ea6b59c13bdcb1329d4
msgid "|restart_command resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:44
# 84830ef11fc34f1fa129f2048bb97e8f
msgid "``revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:45
# c2e6ef547a194ed9a8a1f4183ab9b8e7
msgid "|revision resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:46
# e736743419d3483f9b2ff4cd74e287b4
msgid "``rollback_on_error``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:47
# 428db0d767144c6e889c4023092b2de4
msgid "|rollback_on_error resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:48
# 9ef83c42c0c24cd79b3e0694b9a80ecb
msgid "``scm_provider``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:49
# 76fd57a68c9d4e769eac8c76653aefc4
msgid "|scm_provider resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:54
# 4a55edc47dd14a93b576de4eabd99472
msgid "``user``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:55
# e6b89af04fd04a9ba71fcfbf92c14470
msgid "|user resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:57
# 8d3bb37524a64082bfa1039f3546558e
msgid "The following attributes are for use with |git| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:65
# 90faf0d80f5d4a0aabce9fb3a93b0eae
msgid "``enable_submodules``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:66
# c950944c655444a389a0db4a4842c98b
msgid "|enable_submodules resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:67
# ed019d29fa284fa798d07dcb8d34f744
msgid "``git_ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:68
# e0e286cfebf74a11b968955be2c12aa9
msgid "|git_ssh_wrapper|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:69
# c31e7483906d405ea49e9c24f81ac30b
msgid "``remote``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:70
# 9bacc51c625846939fbbcc594138c9ef
msgid "|remote resource| Default value: ``origin``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:71
# fa03bc6f40844cf2a901848dd6c4bf9d
msgid "``shallow_clone``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:72
# db6dd0ed525340b5944eb0c23b3cbaff
msgid "|shallow_clone resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:73
# 2b014f83280b402382999b92cfbb7e92
msgid "``ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:74
# 524c579a180248228d1b6a0b1ed34368
msgid "|ssh_wrapper resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:76
# 4d0b793ba28643f086cacf01436e4cdb
msgid "The following attributes are for use with |svn| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:84
# 5d86d6c88366468ab076f18d02a370b1
msgid "``svn_arguments``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:85
# bf88fac3e7c340ffa6447cefd6ebe2af
msgid "|svn_arguments resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:86
# e0da629a4b1442ce9f1da2dd0e62e1e5
msgid "``svn_password``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:87
# b695bff299804238b453a53aee9ff2cf
msgid "|svn_password resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:88
# 2d4fbd3e37054245b7a3259000c8b394
msgid "``svn_username``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:89
# 7ba575c4ff8a4de7b8792617b34226ed
msgid "|svn_username resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:91
# 33ac7a5622604e499a5bff84c6f29deb
msgid "For example:"
msgstr ""

#: ../source/resource_deploy.rst:79
# d23620eaf09b4a9eb9bdb36e93b223e4
msgid "Providers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:4
# e898624c1fb446a9bba4d2036ce3c0f5
msgid "The |resource deploy| resource providers are used to determine whether to deploy based on whether the release directory in which the deployment is to be made actually exists. The following providers are available. Use the short name to use the provider in a recipe:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:10
# 44f31e5c71544f7e9b8cd5d3c34fdabf
msgid "Long name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:11
# c04c270e3fb54e8d80fc888710e8891a
msgid "Short name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:12
# ca1943cb07e7400c82d860c53ecb1a6d
msgid "Notes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:13
# a59f71af7aee4cf3995cd17b84ecb7a2
msgid "``Chef::Provider::Deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:14
# d8081c82d21c41d3b7a32376543dba54
msgid "``deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:15
# f55f4d6e43334c2784243c74fe062a61
msgid "When this short name is used, |chef| will determine the correct provider during the |chef| run."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:16
#: ../../includes_resources/includes_resource_deploy_providers.rst:19
# 33a631a4debb44148d9cee605bcc4d37
# 10ed849fb0fd4463a02f53d80b4673ad
msgid "``Chef::Provider::Deploy::Revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:17
# 0bac0428e41f4859a55e8103a11ad252
msgid "``deploy_branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:18
#: ../../includes_resources/includes_resource_deploy_providers.rst:21
# 47090f10b2aa45cd94e5697f8b434dfa
# 32ea6513c3874ed1a8f7558fc09d6c65
msgid "See below for more information."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:20
# 62065ada692f40e6bfff086bb4d22ec9
msgid "``deploy_revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:22
# ebc7b1e5d6a24d898507d46900da05e9
msgid "``Chef::Provider::Deploy::TimestampedDeploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:23
# 73de9e4b567c405fb3925e32c0e1415b
msgid "``timestamped_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:24
# 4fbb9ca5437248a2bd03588ffddc451e
msgid "The default provider for all platforms. See below for more information."
msgstr ""

#: ../source/resource_deploy.rst:83
# 6df43b7c202c490cab812aa7a819ccc6
msgid "deploy_branch"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_branch.rst:5
# 3d8def4b70c146029a1a3e23afa081af
msgid "The ``deploy_branch`` resource is used in the same way as the ``deploy_resource`` resource. It uses the ``Deploy::Revision`` provider and has uses the same set of actions and attributes."
msgstr ""

#: ../source/resource_deploy.rst:87
# 8c41ebeb6ab34d6b90a1f396f5057a48
msgid "deploy_revision"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:4
# f207b88454144ead891118b763cab3c5
msgid "The ``deploy_revision`` provider is the recommended provider, even if it is not listed as the default. The ``deploy_revision`` provider is used to ensure that the name of a release sub-directory is based on a revision identifier. For users of |git|, this will be the familiar SHA checksum. For users of |svn|, it will be the integer revision number. If a name other than a revision identifier is provided---branch names, tags, and so on---|chef| will ignore the alternate names and will look up the revision identifier and use it to name the release sub-directory. When the ``deploy_revision`` provider is given an exact revision to deploy, it will behave in an idempotent manner."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:6
# f5c9563b38ce4a7689be0d726ace5168
msgid "The ``deploy_revision`` provider results in deployed components under the destination location that is owned by the user who runs the application. This is sometimes an issue for certain workflows. If issues arise, consider the following:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:8
# 76f33cff5bae470f9c716db709ecd7d2
msgid "Incorporate changing permissions to the desired end state from within a recipe"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:9
# 946f480a1475424fa5dda0161a80a6c9
msgid "Add a ``before_restart`` block to fix up the permissions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:10
# cd4e3722589d44f8915fbb44ef6f36dd
msgid "Have an unprivileged user (for example: ``opscode``) be the owner of the ``deploy`` directory and another unprivileged user (for example: ``opscodeapp``) run the application. Most often, this is the solution that works best"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:12
# 78b7828eb9234ddca63b1da635446122
msgid "When using the ``deploy_revision`` provider, and when the deploy fails for any reason, and when the same code is used to re-deploy, the action should be set manually to ``:force_deploy``. Forcing the re-deploy will remove the old release directory, after which the deploy can proceed as usual. (Forcing a re-deploy over the current release can cause some downtime.) Deployed revisions are stored in ``(file_cache_path)/revision-deploys/(deploy_path)``."
msgstr ""

#: ../source/resource_deploy.rst:91
# 427015f75df64585aa9682f977ab3afc
msgid "timestamped_deploy"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_timestamped_deploy.rst:4
# 016ca929a99a4119ac4ce67979b67e59
msgid "The ``timestamped_deploy`` provider is the default |resource deploy| provider. It is used to name release directories with a timestamp in the form of ``YYYYMMDDHHMMSS``. For example: ``/my/deploy/dir/releases/20121120162342``. The |resource deploy| resource will determine whether or not to deploy code based on the existence of the release directory in which it is attempting to deploy. Because the timestamp is different for every |chef| run, the ``timestamped_deploy`` provider is not idempotent. When the ``timestamped_deploy`` provider is used, it requires that the action setting on a resource be managed manually in order to prevent unintended continuous deployment."
msgstr ""

#: ../source/resource_deploy.rst:95
# 56c5c50ceda442fcb4d22d01039d8faa
msgid "Examples"
msgstr ""

#: ../source/resource_deploy.rst:96
# 961a7d0c03dc4c1f8a050a2f9472cfc9
msgid "|generic resource statement|"
msgstr ""

#: ../source/resource_deploy.rst:98
# ba17ab6f7bf5436fa36428a2de3113fd
msgid "**Modify the layout of a Ruby on Rails application**"
msgstr ""

#: ../../step_resource/step_resource_deploy_custom_application_layout.rst:3
# 2bd8fcb4c8a742d595bcb2b3070cc40d
msgid "The layout of the application matches a Rails app by default, but you can customize it to fit your needs. To customize the application layout:"
msgstr ""

#: ../source/resource_deploy.rst:102
# 350bbcf4ccc640bb882c91db6afd1960
msgid "**Use resources within callbacks**"
msgstr ""

#: ../../step_resource/step_resource_deploy_embedded_recipes_for_callbacks.rst:3
# fb3250d13e29473195bb72ce7564df93
msgid "Using resources from within your callbacks as blocks or within callback files distributed with your application's source code. To use embedded recipes for callbacks:"
msgstr ""

#: ../source/resource_deploy.rst:106
# 89cf7fef872144a9b9985c0254294a23
msgid "**Deploy from a private git repository without using the application cookbook**"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:3
# 67483ccdf2784eea83f1280e1270f053
msgid "To deploy from a private |git| repository without using the application cookbook, first ensure that:"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:5
# 28d9482d01b54faba66c3af6a27aaa2d
msgid "the private key does not have a passphrase, as this will pause a |chef| run to wait for input"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:6
# fcdd52f2a07a41deb2680a62cc5eaa17
msgid "an |ssh| wrapper is being used"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:7
# 1c21202653fb44f4b5707d5166bfbe0a
msgid "a private key has been added to the node"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:9
# 7bb0d6ef0c5841e280aa1dc17e7bb961
msgid "and then use code like the following to remove a passphrase from a private key:"
msgstr ""

#: ../source/resource_deploy.rst:110
# 25afc7d5199d4629a006cf03181652d8
msgid "**Use an SSH wrapper**"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:3
# 541c75f764a64e86973a39c548cca80f
msgid "To write a recipe that uses an |ssh| wrapper:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:5
# 7ebeb75ff13b4534b9d4e6eb43e7a313
msgid "Create a file in the ``cookbooks/COOKBOOK_NAME/files/default`` directory that is named ``wrap-ssh4git.sh`` and which contains the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:12
# 02a61aa9296244b2a9034bb15f8bdc52
msgid "Set up the cookbook file."
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:13
# 87c04f8cd4ce42df82debdf9569431da
msgid "Add a recipe to the cookbook file similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:36
# 35dfb403b6054adc8acb5bcffeb08e6e
msgid "This will deploy the |git| repository at ``git@github.com:acctname/private-repo.git`` in the ``/tmp/private_code`` directory."
msgstr ""

#: ../source/resource_deploy.rst:114
# 91f1f1c44fe741b8b68dacbe7fa19fad
msgid "**Use a callback to include a file that will be passed as a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:3
# ea1b9f87ac5f476fbe9ce60f060fd51c
msgid "The code in a file that is included in a recipe using a callback is evaluated exactly as if the code had been put in the recipe as a block. Files are searched relative to the current release."
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:5
# 6e86f3e1b0ac44a78f58b907a2227d97
msgid "To specify a file that contains code to be used as a block:"
msgstr ""

#: ../source/resource_deploy.rst:118
# b886948e1d8e4a059d760ce656051555
msgid "**Use a callback to pass a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_pass_python.rst:3
# b4140fcb67a44077b93efaaa835d704b
msgid "To pass a block of |python| code before a migration is run:"
msgstr ""

#: ../source/resource_deploy.rst:122
# 88c98cd0713c4d1e952cb423963116e9
msgid "**Use the same API for all recipes using the same gem**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_same_api_as_gitdeploy_gems.rst:3
# cc2b879c01f94e3aaa64a512c30970e5
msgid "Any recipes using the ``git-deploy`` |gem| can continue using the same API. To include this behavior in a recipe, do something like the following:"
msgstr ""

#: ../source/resource_deploy.rst:126
# f432d592ee7545ef89491ba35c6b442c
msgid "**Deploy without creating symbolic links to a shared folder**"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:3
# 0f03d5c7eed941e0a7000b8b518faa09
msgid "To deploy without creating symbolic links to a shared folder:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:11
# bf5428c155cc437eaf5243164746085f
msgid "When deploying code that is not |ruby on rails| and symbolic links to a shared folder are not wanted, use parentheses () or ``Hash.new`` to avoid ambiguity. For example, using parentheses:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:19
# b1afffe75a51476e811ef8edfe401c7f
msgid "or using ``Hash.new``:"
msgstr ""

#: ../source/resource_deploy.rst:130
# 3596a28a93cb40bca3042af4cccdff86
msgid "**Clear a layout modifier attribute**"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:3
# c17c1eab52f141f6a86d26e25df0a507
msgid "Using the default attribute values that |chef| provides is the recommended baseline when working with recipes. Then, depending on what each node requires, these default values can be overridden with node-, role-, environment-, and cookbook-specific values. The |resource deploy| resource has four layout modifiers: ``create_dirs_before_symlink``, ``purge_before_symlink``, ``symlink_before_migrate``, and ``symlinks``. These are |ruby| hashes that behave as attributes of the |resource deploy| resource. When these layout modifiers are used in a recipe, they appear similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:19
# 3e1a8fddfc2043188d52deee2ae5ebd1
msgid "and then what these layout modifiers look like if they were empty:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:32
# 9266a57b5e3c41a094a5688d17f5db9c
msgid "In most cases, using the empty values for the layout modifiers will prevent |chef| from passing symbolic linking information to a node during the |chef| run. However, in some cases, it may be preferable to ensure that one (or more) of these layout modifiers do not pass any symbolic linking information to a node during the |chef| run at all. Because each of these layout modifiers are a hash, the ``clear`` instance method can be used to clear out these values."
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:34
# c5f218638287477391158d52919d07df
msgid "To clear the default values for a layout modifier:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:47
# 144e6a54718944a3b5b6a558953645ca
msgid "In general, use this approach carefully and only after it is determined that nil or empty values won't provide the expected result."
msgstr ""

