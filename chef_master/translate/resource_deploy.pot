# SOME DESCRIPTIVE TITLE.
# Copyright (C) This work is licensed under a Creative Commons Attribution 3.0 Unported License
# This file is distributed under the same license as the Chef Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Chef Docs 0.0.1\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2013-01-30 16:30\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/resource_deploy.rst:34
# 5888e8c61ae44915a1e7883c5b3ac131
msgid "deploy"
msgstr ""

#: ../../includes_resources/includes_resource_deploy.rst:4
# 477d2455f8d54543b7f23e18fc2e3901
msgid "|resource desc deploy| It is one of the most popular resources available in |chef| and is also the most complex, having the most attributes, multiple providers, the added complexity of callbacks, plus four attributes that support layout modifications from within a recipe."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano.rst:4
# 8d6c089995c3461ab924659d8d140606
msgid "The |resource deploy| resource is modeled after |capistrano|, a utility and framework for executing commands in parallel on multiple remote machines via |ssh|. The |resource deploy| resource in |chef| is designed to behave in a way that is similar to the ``deploy`` and ``deploy:migration`` tasks in |capistrano|."
msgstr ""

#: ../source/resource_deploy.rst:41
# 5fc988a7563746388127b5fd4d8881f7
msgid "Syntax"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:4
# 2f4bf371c6134c8fba09c2e345cf1589
msgid "The syntax for using the |resource deploy| resource in a recipe is as follows:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:21
# 60c81af38b84444ba0214c94c3335750
msgid "where"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:23
# f04298c7a3654d9cbe17ab40d6820216
msgid "``deploy`` tells |chef| to use either the ``Deploy::Revision`` or ``Deploy::Timestamped`` provider during the |chef| run. More specific short names---``timestamped_deploy``, ``deploy_revision``, or ``deploy_branch``---can be used instead of the ``deploy`` short name."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:24
# 92f2293e10594d0fb3dc74235156e7eb
msgid "``\"name\"`` is the path to the location in which the deployment steps will occur"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:25
# bbe4ba8b35fc4abcbcfb357f7a61687f
msgid "``attribute`` is zero (or more) of the attributes that are available for this resource"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:26
# bb90925f046245c2b6766fc6e2123292
msgid "``callback`` represents additional |ruby| code that is used to pass a block or to specify a file, and then provide additional information to |chef| at specific times during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:27
# faa5ca06742c4e3e9e38d1fb3e0470d1
msgid "``purge_before_symlink``, ``create_dirs_before_symlink``, and ``symlink`` are attributes that are used to link configuration files, remove directories, create directories, or map files and directories during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:28
# 277731062f4c48d7a021c3a8eff790b9
msgid "``:action`` is the step that the resource will ask the provider to take during the |chef| run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:30
# ae019a5282e0486590261051ca327b3d
msgid "The following is an example of how the ``deploy_revision`` resource can work when used in a recipe. In this example, an application will be deployed to a folder named \"/path/to/application\":"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:51
# 6dc4f7a5d73e467fa59d4742a57eb047
msgid "For the example shown above:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:53
# 2bf6b1d92b384c05b46295a22bc4e31e
msgid "Because an action is not explicitly specified, |chef| will use the default action: ``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:54
# 1cbb0f8925cc49beafddc0cc4854deff
msgid "The ``purge_before_symlink`` application layout is an array of paths that will be cleared before the ``symlinks`` attribute is run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:55
# 03d1dea895334818950179d12143d433
msgid "The ``create_dirs_before_symlink`` attribute is empty, which is different from the default"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:56
# 6e7e6ecc453d438abba54ab315fc889a
msgid "The ``symlinks`` attribute is creating three symbolic links"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:57
# 4a49d453f15645738e871975fdf162d8
msgid "The ``before_restart`` callback is being used to add custom actions that will occur at the end of the deployment process, but before any services have been notified"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:58
# cf501aba89e1481eb4d22d26ff8a0dcf
msgid "At the end, the recipe is using the ``notifies`` attribute---a common attribute available to all resources in |chef|---to alert two services (named \"foo\" and \"bar\") that they should restart."
msgstr ""

#: ../source/resource_deploy.rst:45
# 57d2e3ac43294ac1950e608d949ef140
msgid "Deploy Strategies"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:4
# a109321c08b94c899af7dad208e88e9c
msgid "In the ``deploy`` directory, a sub-directory named ``shared`` must be created. This sub-directory is where configuration and temporary files will be kept. A typical |ruby on rails| application will have ``config``, ``log``, ``pids``, and ``system`` directories within the ``shared`` directory to keep the files stored there independent of the code in the source repository."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:6
# c76e6bf767d1463ebe68d76e575cdd74
msgid "In addition to the ``shared`` sub-directory, the deploy process will create sub-directories named ``releases`` and ``current`` (also in the ``deploy`` directory). The ``release`` directory holds (up to) five most recently deployed versions of an application. The ``current`` directory holds the currently-released version."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:8
# 38864ae417854b65a0094d85ddaf7a66
msgid "For example::"
msgstr ""

#: ../source/resource_deploy.rst:49
# e2583336a7b1457f8050fbdb41038a9e
msgid "Deploy Phases"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:4
# 99eadb92793a48419d56f87d2a52ab01
msgid "A deployment happens in four phases:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:6
# 479e3c163e33459d9aee753720d7876b
msgid "**Checkout**---|chef| uses the |resource scm| resource to get the specified application revision, placing a clone or checkout in the sub-directory of the ``deploy`` directory named ``cached-copy``. A copy of the application is then placed in a sub-directory under ``releases``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:7
# 0b1cf5ebe1714aa2be1517712d35fe2d
msgid "**Migrate**---If a migration is to be run, |chef| symlinks the database configuration file into the checkout (``config/database.yml`` by default) and runs the migration command. For a |ruby on rails| application, the ``migration_command`` is usually set to ``rake db:migrate``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:8
# 620cd96b6cdd4940a2b539ec03243d79
msgid "**Symlink**---Directories for shared and temporary files are removed from the checkout (``log``, ``tmp/pids``, and ``public/system`` by default). After this step, any needed directories (``tmp``, ``public``, and ``config`` by default) are created if they don't already exist. This step is completed by symlinking shared directories into the current ``release``, ``public/system``, ``tmp/pids``, and ``log`` directories, and then symlinking the ``release`` directory to ``current``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:9
# 9c6dccc36629421080e8fcb44c5f5945
msgid "**Restart**---The application is restarted according to the restart command set in the recipe."
msgstr ""

#: ../source/resource_deploy.rst:53
# 6d83f85c7f9441b090d3abbdbe0a0dca
msgid "Deploy Cache File"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_start_over.rst:4
# ac4ebe69c6514f778442274acb3472eb
msgid "|chef| uses a cache file to keep track of the order in which each revision of an application is deployed. If a re-deployment must be forced---by deleting the deployed code from a node, for example---the cache file must be deleted as well. The cache file is located in the default configuration at |path chef deploy cache file|."
msgstr ""

#: ../source/resource_deploy.rst:57
# d5b415e4d7624ef480bc20e56755f118
msgid "Callbacks"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:4
# f58ead4b070849199dd0c6095f63bff8
msgid "In-between each step in a deployment process, callbacks can be run using arbitrary |ruby| code, including recipes. All callbacks support embedded recipes given in a block, but each callback assumes a shell command (instead of a deploy hook filename) when given a string."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:6
# 41261122e13b4ad89e890952e2f68a0d
msgid "The following callback types are available:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:12
# 08ad2a6d3d9942a5939ca765668ba1b4
msgid "Callback"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:13
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:11
#: ../../includes_resources/includes_resource_deploy_actions.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:64
#: ../../includes_resources/includes_resource_deploy_attributes.rst:83
# 6a7e92ce77da4643b3b3de770af4a151
# 9df19d44e8ef4341893e98f1ee2c7d28
# 39aba5105ac449d38308d752aff1b4ba
# a5df5e73ed7c4747a3eb55bd7c03afab
# 40597230e61a475da55eecc8fe56a6ab
# e629c02f8e78408db1bf8320c967929c
msgid "Description"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:12
# 027cbe042cc84d348685eb5e1369dc66
# 5dd11f6d426b48018ddd1222ada20ac1
msgid "``after_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:15
#: ../../includes_resources/includes_resource_deploy_attributes.rst:13
# d307d3f9c46242f7b2bfce44ae1b47c1
# 2d9a0b2c2bd441f6863c79c20acb475b
msgid "|after_restart| Default value: ``deploy/after_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:14
# 1b4f70036f3644ce87eeb6e2e754a66f
# 76944cc76dae417daac8ee1951146ecf
msgid "``before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:17
#: ../../includes_resources/includes_resource_deploy_attributes.rst:15
# 3ce0718f01fa417bb7cc88500208d43d
# f5e10fc4b6c74764aeb931da5b408a64
msgid "|before_migrate| Default value: ``deploy/before_migrate.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:16
# 0c315eb353d44490883fc717a755dcba
# a35c2f988748482da1d2ea63aa297e32
msgid "``before_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:19
#: ../../includes_resources/includes_resource_deploy_attributes.rst:17
# 4cc9dc1a796f400d835470dfee64a6db
# efb877ffc30047219f61d52cddfe0576
msgid "|before_restart| Default value: ``deploy/before_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:20
#: ../../includes_resources/includes_resource_deploy_attributes.rst:18
# 13f303abc5a048bda80265dafe50c964
# 8c6e1b46bcbf4788a2bfd2d68421ef2b
msgid "``before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:21
#: ../../includes_resources/includes_resource_deploy_attributes.rst:19
# 414dfdd0939f42a6980bc834ee6c7e1d
# 8e8b04fd6fc342deabb5c3302b443699
msgid "|before_symlink| Default value: ``deploy/before_symlink.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:23
# c07b8bb3b8dc4a32a4bd052b101c61ea
msgid "Each of these callback types can be used in one of three ways:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:25
# 986806b10d7f4e5a94200b05420b5fd2
msgid "To pass a block of code, such as |ruby| or |python|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:26
# b8ad82341a2149f7a13a742276d8c90e
msgid "To specify a file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:27
# 3c78563a7c2041ba9f21c1c52ac1569e
msgid "To do neither; |chef| will look for a callback file named after one of the callback types (``before_migrate.rb``, for example) and if the file exists, to evaluate it as if it were a specified file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:29
# 654010ef6d1640b3964addadfa5e4645
msgid "Within a callback, there are two ways to get access to information about the deployment:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:31
# 8788148d52a24b029059289d7226955c
msgid "``release_path`` can be used to get the path to the current release"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:32
# a3235dc2498348c38b2b6c92d766ae4e
msgid "``new_resource`` can be used to access the deploy resource, including environment variables that have been set there (using ``new_resource`` is a preferred approach over using the ``@configuration`` variable)"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:34
# dbfd16e12d394b55a26d43be590e9c82
msgid "Both of these options must be available at the top-level within the callback, along with any assigned values that will be used later in the callback."
msgstr ""

#: ../source/resource_deploy.rst:60
# e8662b8c6a754378b85dcb4b4cff7408
msgid "**Callbacks and Capistrano**"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:5
# ba24a411370443a49eec746b9f60a1cf
msgid "If you are familiar with |capistrano|, the following examples should help you know when to use the various callbacks that are available in |chef|. If you are not familiar with |capistrano|, then follow the semantic names of these callbacks to help you determine when to use each of the callbacks within a recipe that is built with the |resource deploy| resource."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:7
# 991904dec82e479ca0310b6029bd79b1
msgid "The following example shows where callbacks in |chef| fit in relation to the steps taken by the ``deploy`` process in |capistrano|:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:11
# 2805ac9372714c8589679bc1f6352e2c
msgid "and the following example shows the same comparison, but with the ``deploy:migrations`` process:"
msgstr ""

#: ../source/resource_deploy.rst:65
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:10
# 3da0e760d40d4157998b2f016ea66db2
# a131d18864d047a6813ff5e3f96eea54
msgid "Layout Modifiers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:4
# 1b78bb2fbbbd45d7988a3494d98d503d
msgid "The |resource deploy| resource expects an application to be structured like a |ruby on rails| application, but the layout can be modified to meet custom requirements as needed. Use the following attributes within a recipe to modify the layout of a recipe that is using the |resource deploy| resource:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:12
#: ../../includes_resources/includes_resource_deploy_attributes.rst:22
# 7537f7bf8f5d468ea2d5acf2171fec78
# 812559020fd645e0abe36deb26131520
msgid "``create_dirs_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:13
#: ../../includes_resources/includes_resource_deploy_attributes.rst:23
# e99b4510031d4cefb92c5fc470574bbe
# 0a70cbfa2c57423fa170ab83f344f273
msgid "|create_dirs_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:34
# d8677daea32d4aa89e86e82f811f457a
# 9a5d3dcccf5945b29d8858e30aaaa03f
msgid "``purge_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:15
#: ../../includes_resources/includes_resource_deploy_attributes.rst:35
# cd363fa84a7a490a86a9236e12bdb738
# 765e53d2b6f445af805a32cdd545e685
msgid "|purge_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:52
# d6a3430a75774402b77343b47236b0ec
# cb780b33a9c84ae0b021e98771a37a25
msgid "``symlink_before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:17
#: ../../includes_resources/includes_resource_deploy_attributes.rst:53
# 65f2865450774ae8b0851f65e50741f6
# 7c95a14553e74af7b9f0ab0e39764eb3
msgid "|symlink_before_migrate|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:50
# 046ce5e5540f424893be2a1667c11e6f
# ca306fb21673475bbc2e53363cdcf9cc
msgid "``symlinks``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:19
#: ../../includes_resources/includes_resource_deploy_attributes.rst:51
# 813b41be0a0145deacbc8c6b92071cac
# c909b4d08ac841a88fe4fa1f268375d7
msgid "|symlinks|"
msgstr ""

#: ../source/resource_deploy.rst:69
# 78c1057e4f8144c8b5cc846f4470d69f
msgid "Actions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:4
# 6758f6cb994e4c2fbcab7d7a9e4522eb
msgid "This resource has the following actions:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:10
# b26769a7776e44d6b0a485ded0632fb3
msgid "Action"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:12
# 059c58f3c9dc413a9a66d19f5892b47d
msgid "``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:13
# 879dbc2c2ba64b37871e9147e90926a2
msgid "Default. |resource action deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:14
# ac2a0995a1264625a15d770f13989c0d
msgid "``:force_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:15
# c52568552f254ab59dc32162c1a65c10
msgid "|resource action force_deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:16
# 5b64c2f44fa4482a856d977c6c167c97
msgid "``:rollback``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:17
# 990181a45fbe44f38a7984a1dc1b8ab3
msgid "|resource action rollback deploy|"
msgstr ""

#: ../source/resource_deploy.rst:73
# 4db82d84f0f94343a3df38184c207dd3
msgid "Attributes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:4
# b78f14d5765b474a89865f47e0da1963
msgid "This resource has the following has the following attributes:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:10
#: ../../includes_resources/includes_resource_deploy_attributes.rst:63
#: ../../includes_resources/includes_resource_deploy_attributes.rst:82
# b7a3fe5ea5d34f23b2244b45fc27046b
# 112431dad4eb47f7862ec76d10d8f600
# 5d67e3e510ff418fa400dba10e50d24d
msgid "Attribute"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:20
# 86457bbc9bb742008a282987f091a97b
msgid "``branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:21
# 936d6407aa3744d5acd200002149183c
msgid "The alias for the revision."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:24
# 89278531085144efbb66c12fcb689adb
msgid "``deploy_to``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:25
# 49ee525b039d41648bb85b6c48b28654
msgid "|deploy_to|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:26
# 6ffbca059c06426d9eb0c04dcd3d890c
msgid "``environment``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:27
# 464adb4f74144fa29ffe132031d91a1a
msgid "|environment resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:28
# c2043dc1d9d84469bd98de1cdef25dda
msgid "``group``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:29
# 1618a746b19344ce8cbae87476a07c22
msgid "|group resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:30
# 3b752c0c5f7e438eabe5b61f19f7cc83
msgid "``migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:31
# 37ddbe8ed1f74ba5a9f25517e2ca7b6b
msgid "|migrate resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:32
# 47e4ca62f5924a90bb76dc1eb1cf1ee7
msgid "``migration_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:33
# 313ace3944524cf5a75f533645487508
msgid "|migration_command resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:36
# d09eb62857994d13a07cf44372170392
msgid "``repo``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:37
# e5a09ddeeac941b2b5a8a1291a475e9d
msgid "|repo resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:38
# a4f903a04953452098218546a19651d4
msgid "``repository``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:39
# f31c3ceefe004e38b59f9f23b2610b0d
msgid "|repository resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:40
# 5469dca737c447ceaf42be6e82e1742e
msgid "``repository_cache``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:41
# 7384c60db6ec41fea972b996c81a75e2
msgid "|repository_cache resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:42
# 1388b6daccda440d8cd588564ee2742d
msgid "``restart_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:43
# a47d527e4ebe422a8ada0d289fac832f
msgid "|restart_command resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:44
# 8bf6167b9bf848eb92ccff66fa029004
msgid "``revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:45
# 5f3cbec95ac642cd8bfbdcd7d42f0e96
msgid "|revision resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:46
# 8b172d3875d845ba80ced7e2236b021e
msgid "``rollback_on_error``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:47
# cbad7e3daa9b40c2b1a9f1a5e4946651
msgid "|rollback_on_error resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:48
# 300431794a0a4aa1bc88eb0db6ecfc59
msgid "``scm_provider``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:49
# cbc6bd5147cf428e87f9fda85c795485
msgid "|scm_provider resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:54
# a2fb58d7d9664363952b48c88a9e4d84
msgid "``user``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:55
# a6e405630af74af1b5a060fb4393d79b
msgid "|user resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:57
# 739a0d9fb0ec4e35ae206dfc8a116308
msgid "The following attributes are for use with |git| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:65
# 49c692fd19b1427e91f3cbca6897a1d9
msgid "``enable_submodules``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:66
# 0dd99566db38446e8ed4e8a9d79b147a
msgid "|enable_submodules resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:67
# 336ae3ffac6d42688806af3f96ceee65
msgid "``git_ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:68
# 6c744c78e86c438f94f88db5f822a8cc
msgid "|git_ssh_wrapper|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:69
# 02de50d5bb1b40cc8a35ed8c550c403c
msgid "``remote``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:70
# 81f29cc4dde847858b4e3c5fa48648c2
msgid "|remote resource| Default value: ``origin``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:71
# 9310c977c89b4a818cd1ca09c59b40f8
msgid "``shallow_clone``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:72
# c41cc7faad49421ca5726de21bba7634
msgid "|shallow_clone resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:73
# 9d4434171d3049579ecd157635bca323
msgid "``ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:74
# abfc1864a7e34c8ab08932e7f3bb9fc1
msgid "|ssh_wrapper resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:76
# 2679c83c76f44fb2975699f490d1e0b2
msgid "The following attributes are for use with |svn| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:84
# d1ce26ee6f804715b03491122c9e3937
msgid "``svn_arguments``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:85
# c13e6408e697409aaf6d79dda15bc4d8
msgid "|svn_arguments resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:86
# 6ce31bbeae8b438ca82ba6798a0d9d32
msgid "``svn_password``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:87
# 0e985f764b5e441ead4d715d3dea0874
msgid "|svn_password resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:88
# c978dabe6fe9405997fc78c17651eefb
msgid "``svn_username``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:89
# 31e20426659b488ea73b82ccda8f0ca5
msgid "|svn_username resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:91
# 22381420f3c94af6b5231a3577af4dad
msgid "For example:"
msgstr ""

#: ../source/resource_deploy.rst:77
# c65d10b49a1844809ec39b08119d1eb3
msgid "Providers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:4
# 08035e7b774f4b55beb5b2f8293b2e7e
msgid "The |resource deploy| resource providers are used to determine whether to deploy based on whether the release directory in which the deployment is to be made actually exists. The following providers are available. Use the short name to use the provider in a recipe:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:10
# 8a0c5e39180f4fa9bba571fc94a8aa22
msgid "Long name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:11
# 2e00964340284d12af336e31f4783d1b
msgid "Short name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:12
# 1b1af55d83364b2cabb5dbc67ca60b96
msgid "Notes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:13
# f19518f2b06a4c27a5134e309706dd67
msgid "``Chef::Provider::Deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:14
# fcf42e4e3366433fb3370a8a697bd384
msgid "``deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:15
# 0d0174b4441d435684d47fccb77ec828
msgid "When this short name is used, |chef| will determine the correct provider during the |chef| run."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:16
#: ../../includes_resources/includes_resource_deploy_providers.rst:19
# 3dd50e7c293547d685bd1f8d5b97c7e8
# 9a0451c9d63e495fa16fbac3a20344a7
msgid "``Chef::Provider::Deploy::Revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:17
# ec58ab6854684458ba97775449695173
msgid "``deploy_branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:18
#: ../../includes_resources/includes_resource_deploy_providers.rst:21
# 6be267432ec54b04985a22cbb4f4af8b
# 5ea94c4249b44453a7d11fcbf7e4928d
msgid "See below for more information."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:20
# 1313a0bbc54744269b640b4f14d3d822
msgid "``deploy_revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:22
# d5cb2f8b005540d69e4989a7940f676a
msgid "``Chef::Provider::Deploy::TimestampedDeploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:23
# 753bd7caccda42a9884d48b2f8bdd723
msgid "``timestamped_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:24
# c412788a843d4ce98d17c16ae2d759a9
msgid "The default provider for all platforms. See below for more information."
msgstr ""

#: ../source/resource_deploy.rst:81
# 875fca4d682e4854a4a0eb5078d5c0d3
msgid "deploy_branch"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_branch.rst:5
# e5dd5d0c694945b680f5a36ed04c0a62
msgid "The ``deploy_branch`` resource is used in the same way as the ``deploy_resource`` resource. It uses the ``Deploy::Revision`` provider and has uses the same set of actions and attributes."
msgstr ""

#: ../source/resource_deploy.rst:85
# b59d958b339446719d1453280e122064
msgid "deploy_revision"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:4
# 3ddbc927054c4371bb156cd07a86f77c
msgid "The ``deploy_revision`` provider is the recommended provider, even if it is not listed as the default. The ``deploy_revision`` provider is used to ensure that the name of a release sub-directory is based on a revision identifier. For users of |git|, this will be the familiar SHA checksum. For users of |svn|, it will be the integer revision number. If a name other than a revision identifier is provided---branch names, tags, and so on---|chef| will ignore the alternate names and will look up the revision identifier and use it to name the release sub-directory. When the ``deploy_revision`` provider is given an exact revision to deploy, it will behave in an idempotent manner."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:6
# 58093ef3c584411abc14ed78ee7b96fc
msgid "The ``deploy_revision`` provider results in deployed components under the destination location that is owned by the user who runs the application. This is sometimes an issue for certain workflows. If issues arise, consider the following:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:8
# a31fa6594ab9479f838f23adca710c3a
msgid "Incorporate changing permissions to the desired end state from within a recipe"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:9
# b46a229c3a7c474aab03e119f94dc5dc
msgid "Add a ``before_restart`` block to fix up the permissions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:10
# 82595a421b22485599b993842f512dd1
msgid "Have an unprivileged user (for example: ``opscode``) be the owner of the ``deploy`` directory and another unprivileged user (for example: ``opscodeapp``) run the application. Most often, this is the solution that works best"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:12
# 54a5f976e72c4299abc4a1efb6d0893d
msgid "When using the ``deploy_revision`` provider, and when the deploy fails for any reason, and when the same code is used to re-deploy, the action should be set manually to ``:force_deploy``. Forcing the re-deploy will remove the old release directory, after which the deploy can proceed as usual. (Forcing a re-deploy over the current release can cause some downtime.) Deployed revisions are stored in ``(file_cache_path)/revision-deploys/(deploy_path)``."
msgstr ""

#: ../source/resource_deploy.rst:89
# 344c1c83eb324d4f8b89c6f948aebd94
msgid "timestamped_deploy"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_timestamped_deploy.rst:4
# 8d6907c2ab8b4df587ae941e7f6f949c
msgid "The ``timestamped_deploy`` provider is the default |resource deploy| provider. It is used to name release directories with a timestamp in the form of ``YYYYMMDDHHMMSS``. For example: ``/my/deploy/dir/releases/20121120162342``. The |resource deploy| resource will determine whether or not to deploy code based on the existence of the release directory in which it is attempting to deploy. Because the timestamp is different for every |chef| run, the ``timestamped_deploy`` provider is not idempotent. When the ``timestamped_deploy`` provider is used, it requires that the action setting on a resource be managed manually in order to prevent unintended continuous deployment."
msgstr ""

#: ../source/resource_deploy.rst:93
# 765051867ba74c169c95822a2bd7e698
msgid "Examples"
msgstr ""

#: ../source/resource_deploy.rst:94
# 96de554e5feb4ca99f0dbe1f1cb07868
msgid "|generic resource statement|"
msgstr ""

#: ../source/resource_deploy.rst:96
# bf86ecb4d69c42b7899bbba2103d2020
msgid "**Modify the layout of a Ruby on Rails application**"
msgstr ""

#: ../../step_resource/step_resource_deploy_custom_application_layout.rst:3
# 1e9b4c6f0abd4cbcae7c641ee1ec2933
msgid "The layout of the application matches a Rails app by default, but you can customize it to fit your needs. To customize the application layout:"
msgstr ""

#: ../source/resource_deploy.rst:100
# 124de6ea530b4a708a7c2c7a79d5a54a
msgid "**Use resources within callbacks**"
msgstr ""

#: ../../step_resource/step_resource_deploy_embedded_recipes_for_callbacks.rst:3
# 7e0e2547113142e7898f3bdd7e1cb09e
msgid "Using resources from within your callbacks as blocks or within callback files distributed with your application's source code. To use embedded recipes for callbacks:"
msgstr ""

#: ../source/resource_deploy.rst:104
# f8b94857a1dd484280fcaf7633857add
msgid "**Deploy from a private git repository without using the application cookbook**"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:3
# ef3780e018f14e7b9d49abb540eb9e05
msgid "To deploy from a private |git| repositopry without using the application cookbook, first ensure that:"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:5
# 4e4235ca3bfb4446ba9c62cea00b2adf
msgid "the private key does not have a passphrase, as this will pause a |chef| run to wait for input"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:6
# 035aed63266e45a6a316f8b3b931934b
msgid "an |ssh| wrapper is being used"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:7
# efd7c5762ab14e0fbe8324bd6b4eb71f
msgid "a private key has been added to the node"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:9
# 758c9e9583324261b0dab4439d12b8e3
msgid "and then use code like the following to remove a passphrase from a private key:"
msgstr ""

#: ../source/resource_deploy.rst:108
# c99f7f7a78ce4614948b19cf775a5f90
msgid "**Use an SSH wrapper**"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:3
# 487d3c03c07c493882af0df2c68d74c3
msgid "To write a recipe that uses an |ssh| wrapper:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:5
# f5c51fb4837242459d96d48ba2acb908
msgid "Create a file in the ``cookbooks/COOKBOOK_NAME/files/default`` directory that is named ``wrap-ssh4git.sh`` and which contains the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:12
# b3c69e09cd7a4bcd841753646c1c9835
msgid "Set up the cookbook file."
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:13
# f32d17f6104d4308ab836b90dc9cc7c4
msgid "Add a recipe to the cookbook file similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:36
# 1351854cb2484d828609618a0c830f2e
msgid "This will deploy the |git| repository at ``git@github.com:acctname/private-repo.git`` in the ``/tmp/private_code`` directory."
msgstr ""

#: ../source/resource_deploy.rst:112
# e5605a02d7584076beb3b081b77f952e
msgid "**Use a callback to include a file that will be passed as a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:3
# 1ff4a7dca8584927bfe7f517d27a1323
msgid "The code in a file that is included in a recipe using a callback is evaluated exactly as if the code had been put in the recipe as a block. Files are searched relative to the current release."
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:5
# 9a2060db5bf549fdb11a296e1d895725
msgid "To specify a file that contains code to be used as a block:"
msgstr ""

#: ../source/resource_deploy.rst:116
# be371fd20f374621be370fa2c9248f76
msgid "**Use a callback to pass a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_pass_python.rst:3
# 5acb5610dd894123bbb82dfa317c34f6
msgid "To pass a block of |python| code before a migration is run:"
msgstr ""

#: ../source/resource_deploy.rst:120
# 4640da1da8f44de5a4e179ec898aa66f
msgid "**Use the same API for all recipes using the same gem**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_same_api_as_gitdeploy_gems.rst:3
# 13d04ffc7c6a40f08e541a5e636660a6
msgid "Any recipes using the ``git-deploy`` |gem| can continue using the same API. To include this behavior in a recipe, do something like the following:"
msgstr ""

#: ../source/resource_deploy.rst:124
# 26c08ca78c6e49778aa1d46b2c39ccb5
msgid "**Deploy without creating symbolic links to a shared folder**"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:3
# dbe43c0ee19b40288b37313b35590165
msgid "To deploy without creating symbolic links to a shared folder:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:11
# c0cadf4b5337483586bfdccad3709330
msgid "When deploying code that is not |ruby on rails| and symbolic links to a shared folder are not wanted, use parentheses () or ``Hash.new`` to avoid ambiguity. For example, using parentheses:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:19
# 35873803170041f198e4e8e79f6e9a86
msgid "or using ``Hash.new``:"
msgstr ""

#: ../source/resource_deploy.rst:128
# bd9ef944a736408ab7971f2b5244ed40
msgid "**Clear a layout modifier attribute**"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:3
# b1087ce2665a4e79aae427c0704762f3
msgid "Using the default attribute values that |chef| provides is the recommended baseline when working with recipes. Then, depending on what each node requires, these default values can be overridden with node-, role-, environment-, and cookbook-specific values. The |resource deploy| resource has four layout modifiers: ``create_dirs_before_symlink``, ``purge_before_symlink``, ``symlink_before_migrate``, and ``symlinks``. These are |ruby| hashes that behave as attributes of the |resource deploy| resource. When these layout modifiers are used in a recipe, they appear similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:19
# aa69203ce6944adba83b727860dbb4c0
msgid "and then what these layout modifiers look like if they were empty:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:32
# 4b562ca462ad4c18b4f74a1181088d64
msgid "In most cases, using the empty values for the layout modifiers will prevent |chef| from passing symbolic linking information to a node during the |chef| run. However, in some cases, it may be preferable to ensure that one (or more) of these layout modifiers do not pass any symbolic linking information to a node during the |chef| run at all. Because each of these layout modifiers are a hash, the ``clear`` instance method can be used to clear out these values."
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:34
# 76f0b5c093bb440eac7f9f5a492efa1d
msgid "To clear the default values for a layout modifier:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:47
# 115614653caa4748aff110c8f0279414
msgid "In general, use this approach carefully and only after it is determined that nil or empty values won't provide the expected result."
msgstr ""

