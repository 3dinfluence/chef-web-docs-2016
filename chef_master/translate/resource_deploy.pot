# SOME DESCRIPTIVE TITLE.
# Copyright (C) This work is licensed under a Creative Commons Attribution 3.0 Unported License
# This file is distributed under the same license as the Chef Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Chef Docs 0.0.1\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2013-01-07 18:11\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/resource_deploy.rst:3
# f9dc4f199ac54c63904bc541a79c82bc
msgid "deploy"
msgstr ""

#: ../../includes_resources/includes_resource_deploy.rst:4
# b2600bb1e79d4779b062316ae8329cc9
msgid "|resource desc deploy| It is one of the most popular resources available in |chef| and is also the most complex, having the most attributes, multiple providers, the added complexity of callbacks, plus four attributes that support layout modifications from within a recipe."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano.rst:4
# 54f378b3229f45aab9e6c8eb9b351088
msgid "The |resource deploy| resource is modeled after |capistrano|, a utility and framework for executing commands in parallel on multiple remote machines via |ssh|. The |resource deploy| resource in |chef| is designed to behave in a way that is similar to the ``deploy`` and ``deploy:migration`` tasks in |capistrano|."
msgstr ""

#: ../source/resource_deploy.rst:40
# f4cf9c61c40c46cf97467c6103ac2bd4
msgid "Syntax"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:4
# f5a40d9aeb2446ef9e963bd6065229c4
msgid "The syntax for using the |resource deploy| resource in a recipe is as follows:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:21
# 1f515840b6984cd08eff1a949c5d7a9f
msgid "where"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:23
# 26f8c7c1e8164e92bbf03b35dd37a703
msgid "``deploy`` tells |chef| to use either the ``Deploy::Revision`` or ``Deploy::Timestamped`` provider during the |chef| run. More specific short names---``timestamped_deploy``, ``deploy_revision``, or ``deploy_branch``---can be used instead of the ``deploy`` short name."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:24
# a990f68785974038b2a7649d65e489a4
msgid "``\"name\"`` is the path to the location in which the deployment steps will occur"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:25
# 576260ac01d14381b07d95a3f8128f40
msgid "``attribute`` is zero (or more) of the attributes that are available for this resource"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:26
# b6ceeef9d6c64b3b83012d76e4757c47
msgid "``callback`` represents additional |ruby| code that is used to pass a block or to specify a file, and then provide additional information to |chef| at specific times during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:27
# d9ef11fa8d314a60839ba00daa767275
msgid "``purge_before_symlink``, ``create_dirs_before_symlink``, and ``symlink`` are attributes that are used to link configuration files, remove directories, create directories, or map files and directories during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:28
# d2c6a4a92f314d43adead4a4fd9f510e
msgid "``:action`` is the step that the resource will ask the provider to take during the |chef| run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:30
# 70f3dde8c5184dc0882f9f9e865cb8f8
msgid "The following is an example of how the ``deploy_revision`` resource can work when used in a recipe. In this example, an application will be deployed to a folder named \"/path/to/application\":"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:51
# 29caac61055044b690ef083509be8e06
msgid "For the example shown above:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:53
# 449c35c316dd4a27b9bc9e241e8c61c0
msgid "Because an action is not explicitly specified, |chef| will use the default action: ``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:54
# 4a7a23b54a2f41cebe1942ee294a9f89
msgid "The ``purge_before_symlink`` application layout is an array of paths that will be cleared before the ``symlinks`` attribute is run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:55
# 7b60f3972558446491ae92d3a6d10406
msgid "The ``create_dirs_before_symlink`` attribute is empty, which is different from the default"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:56
# e78b645af8244738badbc5675bc3b365
msgid "The ``symlinks`` attribute is creating three symbolic links"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:57
# 35f585d984ca428991009a4fedf2975e
msgid "The ``before_restart`` callback is being used to add custom actions that will occur at the end of the deployment process, but before any services have been notified"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:58
# eb7bc8d224ae4bb1bdeb63a67b3ea757
msgid "At the end, the recipe is using the ``notifies`` attribute---a common attribute available to all resources in |chef|---to alert two services (named \"foo\" and \"bar\") that they should restart."
msgstr ""

#: ../source/resource_deploy.rst:44
# 20e003bb1dc341f4927940cbe40441d2
msgid "Deploy Strategies"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:4
# 91fb032c93cb4daa86a5218b7289c4ba
msgid "In the ``deploy`` directory, a sub-directory named ``shared`` must be created. This sub-directory is where configuration and temporary files will be kept. A typical |ruby on rails| application will have ``config``, ``log``, ``pids``, and ``system`` directories within the ``shared`` directory to keep the files stored there independent of the code in the source repository."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:6
# 3e31667eda214a2ca627180c6830f2cf
msgid "In addition to the ``shared`` sub-directory, the deploy process will create sub-directories named ``releases`` and ``current`` (also in the ``deploy`` directory). The ``release`` directory holds (up to) five most recently deployed versions of an application. The ``current`` directory holds the currently-released version."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:8
# 3d6c6d51198d4f7f8e44fbec679f4be2
msgid "For example::"
msgstr ""

#: ../source/resource_deploy.rst:48
# 8dfca4c15aff4fb0a4e539bc9b2b5cc6
msgid "Deploy Phases"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:4
# b1cb16d21f3e4e4bb69250880e83c9c1
msgid "A deployment happens in four phases:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:6
# 164a8cf0f7c44c73be63be04067075ab
msgid "**Checkout** |chef| uses the |resource scm| resource to get the specified application revision, placing a clone or checkout in the sub-directory of the ``deploy`` directory named ``cached-copy``. A copy of the application is then placed in a sub-directory under ``releases``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:7
# 932776060d4149a3a506ad02281fbe2e
msgid "**Migrate** If a migration is to be run, |chef| symlinks the database configuration file into the checkout (``config/database.yml`` by default) and runs the migration command. For a |ruby on rails| application, the ``migration_command`` is usually set to ``rake db:migrate``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:8
# 7b83353c90b04796b39b437edabd3722
msgid "**Symlink** Directories for shared and temporary files are removed from the checkout (``log``, ``tmp/pids``, and ``public/system`` by default). After this step, any needed directories (``tmp``, ``public``, and ``config`` by default) are created if they don't already exist. This step is completed by symlinking shared directories into the current ``release``, ``public/system``, ``tmp/pids``, and ``log`` directories, and then symlinking the ``release`` directory to ``current``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:9
# 36480bb87dfb416b97fdc097aeafee04
msgid "**Restart** The application is restarted according to the restart command set in the recipe."
msgstr ""

#: ../source/resource_deploy.rst:52
# 62d041d0767246fc987a62019dfc3c3c
msgid "Deploy Cache File"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_start_over.rst:4
# a4a5822d536c451686867fda0bd358f1
msgid "|chef| uses a cache file to keep track of the order in which each revision of an application is deployed. If a re-deployment must be forced---by deleting the deployed code from a node, for example---the cache file must be deleted as well. The cache file is located in the default configuration at |path chef deploy cache file|."
msgstr ""

#: ../source/resource_deploy.rst:56
# 4af1026bc47b405da72267ad9eed68d0
msgid "Callbacks"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:4
# cb102e4c78304e89b65cebd9a1fa5dd4
msgid "In-between each step in a deployment process, callbacks can be run using arbitrary |ruby| code, including recipes. All callbacks support embedded recipes given in a block, but each callback assumes a shell command (instead of a deploy hook filename) when given a string."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:6
# 98a7e3612b354b12ab478559fd007c74
msgid "The following callback types are available:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:12
# d819f50454ae4000bbdb4275947d77e6
msgid "Callback"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:13
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:11
#: ../../includes_resources/includes_resource_deploy_actions.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:64
#: ../../includes_resources/includes_resource_deploy_attributes.rst:83
# b18001b159d748798a67e7b8d0731952
# e97adf1bd5874609922bd98426992d17
# 61812ea672b049828dc730c202b899c3
# efb15f5953d8492ab9b36c3f7894f46e
# f70306ef0bde4ec0bd61fff7c3f401e0
# 675e6b0288274d2189a4e89f49481d40
msgid "Description"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:12
# af184314417d43cd9bc3ea5328edfda7
# 1daaffe7d78b4f5d9e9e643454fb030a
msgid "``after_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:15
#: ../../includes_resources/includes_resource_deploy_attributes.rst:13
# 9c356e763384454ca489e6410310ae58
# f8b3a6da06814a0b9c88843998c71a6d
msgid "|after_restart| Default value: ``deploy/after_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:14
# 2af6c4665d4146e590bd7e171ea9df1d
# cb684dcb535e4c319805ee8966aaf1ab
msgid "``before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:17
#: ../../includes_resources/includes_resource_deploy_attributes.rst:15
# 9b541159479945d98da6b7a8acdb7efe
# 1714ffa5be184714a275703ea9e9f3d9
msgid "|before_migrate| Default value: ``deploy/before_migrate.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:16
# 5789329a3dba4b79b24ce12f4c347e8c
# eb889214741148e19545dd912d951691
msgid "``before_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:19
#: ../../includes_resources/includes_resource_deploy_attributes.rst:17
# 1510d0aca9bb4c9e941f8a34083b5c14
# 5d874d24617248df9656b422008bba34
msgid "|before_restart| Default value: ``deploy/before_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:20
#: ../../includes_resources/includes_resource_deploy_attributes.rst:18
# 4ddfb02ad0c84c10a0dfed4c8eadff8d
# e75f601a5c7b485babf08a3e67923db9
msgid "``before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:21
#: ../../includes_resources/includes_resource_deploy_attributes.rst:19
# e63806dba0c34e7aa7da4ac6c7521bc9
# 164db9d9ee0f4dc8bcb387cf375bf5bc
msgid "|before_symlink| Default value: ``deploy/before_symlink.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:23
# 2e3a0ae0da0a4b2da777d0dc36394f02
msgid "Each of these callback types can be used in one of three ways:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:25
# 27a26b5057bd4dd3ae16d4c74cf52b18
msgid "To pass a block of code, such as |ruby| or |python|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:26
# a895cb7ab32f4cbf8f720c9307cc91d7
msgid "To specify a file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:27
# 6a7a26cbfd1e4ca5a818a95decb027dd
msgid "To do neither; |chef| will look for a callback file named after one of the callback types (``before_migrate.rb``, for example) and if the file exists, to evaluate it as if it were a specified file."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:29
# b668e08c81d04103b1fc5c6905b6e5c4
msgid "Within a callback, there are two ways to get access to information about the deployment:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:31
# 52df509e70bb453a89f07217489afca1
msgid "``release_path`` can be used to get the path to the current release."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:32
# d6e28e73e8304d46a1f7d9d320363602
msgid "``new_resource`` can be used to access the deploy resource, including environment variables that have been set there. (``new_resource`` is a preferred approach over using the ``@configuration`` variable.)"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:34
# 9fa148c948a4484c8990dddfcec39e2c
msgid "Both of these options must be available at the top-level within the callback, along with any assigned values that will be used later in the callback."
msgstr ""

#: ../source/resource_deploy.rst:59
# e320630c4077433fa21aaf275aceb2ee
msgid "**Callbacks and Capistrano**"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:5
# 6c28d365ac5f4c52b53ba6d6816ba030
msgid "If you are familiar with |capistrano|, the following examples should help you know when to use the various callbacks that are available in |chef|. If you are not familiar with |capistrano|, then follow the semantic names of these callbacks to help you determine when to use each of the callbacks within a recipe that is built with the |resource deploy| resource."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:7
# 564213f3d7c8403c81f2a4feac433494
msgid "The following example shows where callbacks in |chef| fit in relation to the steps taken by the ``deploy`` process in |capistrano|:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:11
# 78776ea9af9c49748c7864db0b57ad23
msgid "and the following example shows the same comparison, but with the ``deploy:migrations`` process:"
msgstr ""

#: ../source/resource_deploy.rst:64
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:10
# 5f2eb20cd0f64980a07156f6f82a9403
# 474522aa38ef4467834a465f74d98546
msgid "Layout Modifiers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:4
# 340d15957d5a49d8b589eea5fff4799b
msgid "The |resource deploy| resource expects an application to be structured like a |ruby on rails| application, but the layout can be modified to meet custom requirements as needed. Use the following attributes within a recipe to modify the layout of a recipe that is using the |resource deploy| resource:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:12
#: ../../includes_resources/includes_resource_deploy_attributes.rst:22
# 4cfc034d178443d2b6ad966d6e8089c7
# 3644d22b50e0464ebf99f9e81ad85b0c
msgid "``create_dirs_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:13
#: ../../includes_resources/includes_resource_deploy_attributes.rst:23
# 294eb8f236bf42c1b7a1f1199403cdbb
# 3b9437ac742d40c9ac86368095f6e583
msgid "|create_dirs_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:34
# 159e557dbbff4453b8d711477aa5699c
# 27dd84e5c05541e18e421acb776a8c9e
msgid "``purge_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:15
#: ../../includes_resources/includes_resource_deploy_attributes.rst:35
# 08b2b684878a4e05834ba908f38765bc
# c0776124a6384c969a65304d884fcc69
msgid "|purge_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:52
# 23604590d53444daa5ec804f966dd133
# 37d243d2064f4339990625bb2329b3f9
msgid "``symlink_before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:17
#: ../../includes_resources/includes_resource_deploy_attributes.rst:53
# 98e1ba2bca724724b131a660d0f4c6dd
# 9863ff2d974340e8adb83a65b7f9f260
msgid "|symlink_before_migrate|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:50
# 0b74136e0866467d8951ba6b25016504
# 87feff01247545d69fb15c5fbc6ebd71
msgid "``symlinks``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:19
#: ../../includes_resources/includes_resource_deploy_attributes.rst:51
# 9cb699bc45bd4909a49c15cf25ffb673
# 662638ae7de243c3956aeae65253fc81
msgid "|symlinks|"
msgstr ""

#: ../source/resource_deploy.rst:68
# 3f93ab24aa96484ab7ce9b71c0812b31
msgid "Actions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:4
# fc29fa8aed7049079625a2deaeb78adc
msgid "This resource has the following has the following actions:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:10
# bd151510b0a140f1bd7a6bd3a3bad5ee
msgid "Action"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:12
# 2fdd384c87f84366846c9af6bf4e6e4a
msgid "``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:13
# 332081dc3d604591b3bf32388cf34283
msgid "Default. |resource action deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:14
# e039e8695ca8425da1512390e2598427
msgid "``:force_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:15
# 5da21726afb84013947ebb6d831d03f4
msgid "|resource action force_deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:16
# 173d55a487d344cea2960957c6e8e94e
msgid "``:rollback``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:17
# 6a9493c6fdd549098475fb13137bf51a
msgid "|resource action rollback deploy|"
msgstr ""

#: ../source/resource_deploy.rst:72
# 4db44ede68cb4289aed1980af0f8473d
msgid "Attributes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:4
# 20cf2d143a4b4840ae33c3e5cd27214b
msgid "This resource has the following has the following attributes:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:10
#: ../../includes_resources/includes_resource_deploy_attributes.rst:63
#: ../../includes_resources/includes_resource_deploy_attributes.rst:82
# 93688d48e9574453a7040c3dd0dcd02e
# 85a172b87e9544d4a80608cf5bbfe6a3
# 7e32cf1d2c29446e80cc6aede067d6e1
msgid "Attribute"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:20
# 10dba31923f24a3988d9eb112dcfc36b
msgid "``branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:21
# 54387ba6caee47a8bffeeb7b34e82f48
msgid "The alias for the revision."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:24
# abba454095b2485f92445ed76b8ecdda
msgid "``deploy_to``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:25
# fb9b762c7cb84d94beb7156c14d04c9d
msgid "|deploy_to|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:26
# d1129898e696447bbff4281436b28e92
msgid "``environment``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:27
# ad45adfd2d9849e3a8c0b50d41260019
msgid "|environment resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:28
# 353652f0efb0489cafe1428681a9e002
msgid "``group``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:29
# f77e68dc542a455da7317e6b6d1a2435
msgid "|group resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:30
# c35526f8d1ac4dffb1fc61d661e5bc70
msgid "``migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:31
# 21bbe7610bff4861a85ac4ae1f5efe62
msgid "|migrate resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:32
# 254c6e9ea7a74216bae82d546ff8eafc
msgid "``migration_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:33
# ba7541990e914ab782d8dcea682d3a78
msgid "|migration_command resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:36
# 7ffe28ed418e4aceb382dd723f4b637a
msgid "``repo``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:37
# 5ffb89022a364c628dda5d829167de5a
msgid "|repo resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:38
# 3437a64054534dac9187ea8f2a3b2746
msgid "``repository``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:39
# fcc3999fa102419e9ec3ce15e0631555
msgid "|repository resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:40
# 943da011a5c44d48a14fea5dbd7e0e1a
msgid "``repository_cache``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:41
# d133df0dfe374ff9a79bca2957f04abf
msgid "|repository_cache resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:42
# d7806e5a4f024b4c88ab6c53a02d0451
msgid "``restart_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:43
# 272e7efdb43b4ecab778b23f4a3da062
msgid "|restart_command resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:44
# 34288b65752042c7b61f6fb9496e67ec
msgid "``revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:45
# 6cb495bd52c24a3aa4bfa9db6e97d138
msgid "|revision resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:46
# 5fd4d28ec4954c90a894358453992fbd
msgid "``rollback_on_error``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:47
# a4524da1dd564028873e176ab4d75de3
msgid "|rollback_on_error resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:48
# 2faa8d81e4a644bf8d5c717508069e2f
msgid "``scm_provider``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:49
# 95ed96f069f04f0faf45a954221616ed
msgid "|scm_provider resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:54
# 22f8682984a844d6b573bf2bf0283165
msgid "``user``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:55
# 994f97a9a9d54b5ba7079afed729475a
msgid "|user resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:57
# 76522c8a23a1480fbf98555fc1d428f4
msgid "The following attributes are for use with |git| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:65
# b2b6cb9b49134e4d9240c3f051f92c9a
msgid "``enable_submodules``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:66
# a3758350db4b42a387cbc49424bde7b8
msgid "|enable_submodules resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:67
# 0506b43dd30c4e6ea267eb318b0fc94d
msgid "``git_ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:68
# ed1cdaa777f24568ae20d6879017e95e
msgid "|git_ssh_wrapper|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:69
# dc92cf40960a47f8bee8932ed13dc4ae
msgid "``remote``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:70
# 70e99903a7514a1ca4a53695f7e55460
msgid "|remote resource| Default value: ``origin``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:71
# bf894acc7145448597cc00f9fc72c2cb
msgid "``shallow_clone``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:72
# 136e1b3545c64cdd94a92cbbbf2b841b
msgid "|shallow_clone resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:73
# eb9192e61fc74151adeefdd4fa103f57
msgid "``ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:74
# 799afb26367848d2945f3c1d80bd1bfa
msgid "|ssh_wrapper resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:76
# 5ef5146a349f4227989cd9b33ad3d66f
msgid "The following attributes are for use with |svn| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:84
# 46467a7ca2da4f729604d47d40be6a9c
msgid "``svn_arguments``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:85
# cd065d5cd624488b96fb7ae5ed3edd85
msgid "|svn_arguments resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:86
# 9658a058fec34725af87c9310d94595d
msgid "``svn_password``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:87
# 0ae1679eda9849ca97664b23386db6d9
msgid "|svn_password resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:88
# 689c1fcb4d424a71822a488e3c546273
msgid "``svn_username``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:89
# 06b847d411ae4e3e980bc0cd16139175
msgid "|svn_username resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:91
# 9f82649644d74e88a7b99228f1370350
msgid "For example:"
msgstr ""

#: ../source/resource_deploy.rst:76
# 7e792fe7f397438a97844929cda55dff
msgid "Providers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:4
# f11f8d4df4e34520877f3cb1a6333556
msgid "The |resource deploy| resource providers are used to determine whether to deploy based on whether the release directory in which the deployment is to be made actually exists. The following providers are available. Use the short name to use the provider in a recipe:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:10
# bcb672710bce476089a2b62cf444ef55
msgid "Long name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:11
# 589e45743629441a83b58a7a7b1d9987
msgid "Short name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:12
# 24805565d1434ba0aae7cdd1c970c81b
msgid "Notes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:13
# b14a555a01f0467f93ca7a7026119d51
msgid "``Chef::Provider::Deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:14
# c97458105d6d4aa39d166d491e5da732
msgid "``deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:15
# 45012a6981ac4edda8155c87b1cbc9ca
msgid "When this short name is used, |chef| will determine the correct provider during the |chef| run."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:16
#: ../../includes_resources/includes_resource_deploy_providers.rst:19
# 6a740464c246401087d99c8143f05d7b
# 0baaae039a2b4171a99f61bb3a36edfd
msgid "``Chef::Provider::Deploy::Revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:17
# 395b3f208e4247fcbed40ed5f78702af
msgid "``deploy_branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:18
#: ../../includes_resources/includes_resource_deploy_providers.rst:21
# f07876269bf14c7fbd2e28a3c5962dfc
# 5f898f4532684dbeb512076ea434a925
msgid "See below for more information."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:20
# c550472c29c4401ea8ef71b8fd2dc009
msgid "``deploy_revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:22
# 0dc319edb52043b7bd24f8fc1b072ab4
msgid "``Chef::Provider::Deploy::TimestampedDeploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:23
# 902e5046e4244acaa4e26dcd1b7acc60
msgid "``timestamped_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:24
# da9eb1862685436ea9c822de2ff3d5d2
msgid "The default provider for all platforms. See below for more information."
msgstr ""

#: ../source/resource_deploy.rst:80
# bc176515a7034b7e966fe4f14ec0f59f
msgid "deploy_branch"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_branch.rst:5
# 5859e4bf6f2b4d13be1ae0dda49b23d2
msgid "The ``deploy_branch`` resource is used in the same way as the ``deploy_resource`` resource. It uses the ``Deploy::Revision`` provider and has uses the same set of actions and attributes."
msgstr ""

#: ../source/resource_deploy.rst:84
# 24ff4515cb05415b8101ac9cb68674c0
msgid "deploy_revision"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_resource.rst:4
# e9cbe56da24246e88c471b52672e6c19
msgid "The ``deploy_revision`` provider is the recommended provider, even if it is not listed as the default. The ``deploy_revision`` provider is used to ensure that the name of a release sub-directory is based on a revision identifier. For users of |git|, this will be the familiar SHA checksum. For users of |svn|, it will be the integer revision number. If a name other than a revision identifier is provided---branch names, tags, and so on---|chef| will ignore the alternate names and will look up the revision identifier and use it to name the release sub-directory. When the ``deploy_revision`` provider is given an exact revision to deploy, it will behave in an idempotent manner."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_resource.rst:6
# eb27959243f94740bc2c5a97504be835
msgid "The ``deploy_revision`` provider results in deployed components under the destination location that is owned by the user who runs the application. This is sometimes an issue for certain workflows. If issues arise, consider the following:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_resource.rst:8
# cbfae40904b445a1af1ea6f850c1b765
msgid "Incorporate changing permissions to the desired end state from within a recipe;"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_resource.rst:9
# 2babea2df3b64aedb6e504767750d966
msgid "Add a ``before_restart`` block to fix up the permissions;"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_resource.rst:10
# 541dbb3b61854cf0881a4ed7d2c2827d
msgid "Have an unprivileged user (for example: ``opscode``) be the owner of the ``deploy`` directory and another unprivileged user (for example: ``opscodeapp``) run the application. Most often, this is the solution that works best."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_resource.rst:12
# 48cb3a68b54f401da8949bb21031e278
msgid "When using the ``deploy_revision`` provider, and when the deploy fails for any reason, and when the same code is used to re-deploy, the action should be set manually to ``:force_deploy``. Forcing the re-deploy will remove the old release directory, after which the deploy can proceed as usual. (Forcing a re-deploy over the current release can cause some downtime.) Deployed revisions are stored in ``(file_cache_path)/revision-deploys/(deploy_path)``."
msgstr ""

#: ../source/resource_deploy.rst:88
# fe5b8ac4251f41dca53ba4d123bca847
msgid "timestamped_deploy"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_timestamped_deploy.rst:4
# fe4cbce62e8748ba875e8b7aa76ab3d6
msgid "The ``timestamped_deploy`` provider is the default |resource deploy| provider. It is used to name release directories with a timestamp in the form of ``YYYYMMDDHHMMSS``. For example: ``/my/deploy/dir/releases/20121120162342``. The |resource deploy| resource will determine whether or not to deploy code based on the existence of the release directory in which it is attempting to deploy. Because the timestamp is different for every |chef| run, the ``timestamped_deploy`` provider is not idempotent. When the ``timestamped_deploy`` provider is used, it requires that the action setting on a resource be managed manually in order to prevent unintended continuous deployment."
msgstr ""

#: ../source/resource_deploy.rst:92
# c81e495dfac34d16bf6fd3ec90b8993b
msgid "Examples"
msgstr ""

#: ../source/resource_deploy.rst:93
# 2d726c893e6147bfaca4959f78f2d58e
msgid "|generic resource statement|"
msgstr ""

#: ../source/resource_deploy.rst:95
# f2e63f3c82dc4918a6ae7655d0989886
msgid "The following examples show how to use the |resource deploy| resource."
msgstr ""

#: ../source/resource_deploy.rst:97
# 5a59de6b1f0e44e3ac0f504140fb4540
msgid "**Modify the layout of a Ruby on Rails application**"
msgstr ""

#: ../../step_resource/step_resource_deploy_custom_application_layout.rst:3
# eaa1133581c1453c90f633154f3aab27
msgid "The layout of the application matches a Rails app by default, but you can customize it to fit your needs. To customize the application layout:"
msgstr ""

#: ../source/resource_deploy.rst:101
# cce21d7c926546739450b2a2c8347207
msgid "**Use resources within callbacks**"
msgstr ""

#: ../../step_resource/step_resource_deploy_embedded_recipes_for_callbacks.rst:3
# 2fea5e5fe02f444193bf29e47e78a356
msgid "Using resources from within your callbacks as blocks or within callback files distributed with your application's source code. To use embedded recipes for callbacks:"
msgstr ""

#: ../source/resource_deploy.rst:105
# b3ae3fc940e84978b68f3d2f48768fe3
msgid "**Deploy from a private git repository without using the application cookbook**"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:3
# 0983607d8166428b84b4bf11ee30556c
msgid "To deploy from a private |git| repositopry without using the application cookbook, first ensure that:"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:5
# f4ec715a3df344b18fb40f51bc6651f9
msgid "the private key does not have a passphrase, as this will pause a |chef| run to wait for input"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:6
# a5ed658f9fa14332917a44094f1ae628
msgid "an |ssh| wrapper is being used"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:7
# 7ada69bd0c2c4f509b91da995e4929b5
msgid "a private key has been added to the node"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:9
# be6ddb27c58e4f1bb7d7b2ee7f0cb5cc
msgid "and then use code like the following to remove a passphrase from a private key:"
msgstr ""

#: ../source/resource_deploy.rst:109
# 30a7eb476bb24c129132f548b7e2003a
msgid "**Use an SSH wrapper**"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:3
# fc3672ede71d475fb6f24aad044f28ab
msgid "To write a recipe that uses an |ssh| wrapper:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:5
# fa234f10b5f144918e72e937ea75a076
msgid "Create a file in the ``cookbooks/COOKBOOK_NAME/files/default`` directory that is named ``wrap-ssh4git.sh`` and which contains the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:12
# 5ce119bd872e41f88fbb6669532a7c84
msgid "Set up the cookbook file."
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:13
# 646f9ca0d1294dcdb66f65a756365ea6
msgid "Add a recipe to the cookbook file similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:36
# 1f7c46857c524cb89aae3750a6a83b32
msgid "This will deploy the |git| repository at ``git@github.com:acctname/private-repo.git`` in the ``/tmp/private_code`` directory."
msgstr ""

#: ../source/resource_deploy.rst:113
# f3b362b603bd414d9be6183c5b8871f3
msgid "**Use a callback to include a file that will be passed as a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:3
# ecb2cc3032284fb297d8c50e003a7495
msgid "The code in a file that is included in a recipe using a callback is evaluated exactly as if the code had been put in the recipe as a block. Files are searched relative to the current release."
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:5
# ab0a7472c5604e4ea87733383242aa8c
msgid "To specify a file that contains code to be used as a block:"
msgstr ""

#: ../source/resource_deploy.rst:117
# 5196acb46cab4373a6f00ce1da5ffdc1
msgid "**Use a callback to pass a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_pass_python.rst:3
# 96c5eb4dfd654ac39ccfde55fbb8a5db
msgid "To pass a block of |python| code before a migration is run:"
msgstr ""

#: ../source/resource_deploy.rst:121
# c8c9173fc6ed4bc2b7d03d2ae803bff1
msgid "**Use the same API for all recipes using the same gem**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_same_api_as_gitdeploy_gems.rst:3
# c2129151b1104a838f0e5fc66d3cfbe9
msgid "Any recipes using the ``git-deploy`` |gem| can continue using the same API. To include this behavior in a recipe, do something like the following:"
msgstr ""

#: ../source/resource_deploy.rst:125
# 6d9591ee695644718cdecd8bd05d8858
msgid "**Deploy without creating symbolic links to a shared folder**"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:3
# 7fe5b322e89344b2ab741c5620917f47
msgid "To deploy without creating symbolic links to a shared folder:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:11
# 529207b1b1dc46fbbaa35806c8fce7ff
msgid "When deploying code that is not |ruby on rails| and symbolic links to a shared folder are not wanted, use parentheses () or ``Hash.new`` to avoid ambiguity. For example, using parentheses:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:19
# 62805c92795346519284e37b82d5b5de
msgid "or using ``Hash.new``:"
msgstr ""

#: ../source/resource_deploy.rst:129
# b5ff0e87708549cb9fd7e16eee96454f
msgid "**Clear a layout modifier attribute**"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:3
# 3e4fbe8f67ff48d696b8c66fcb01b3d3
msgid "Using the default attribute values that |chef| provides is the recommended baseline when working with recipes. Then, depending on what each node requires, these default values can be overridden with node-, role-, environment-, and cookbook-specific values. The |resource deploy| resource has four layout modifiers: ``create_dirs_before_symlink``, ``purge_before_symlink``, ``symlink_before_migrate``, and ``symlinks``. These are |ruby| hashes that behave as attributes of the |resource deploy| resource. When these layout modifiers are used in a recipe, they appear similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:19
# 19cbb00081de44ca91e85ae5b1b83df5
msgid "and then what these layout modifiers look like if they were empty:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:32
# a7a46c7aeea74d099e0d5e3ac02c2cac
msgid "In most cases, using the empty values for the layout modifiers will prevent |chef| from passing symbolic linking information to a node during the |chef| run. However, in some cases, it may be preferable to ensure that one (or more) of these layout modifiers do not pass any symbolic linking information to a node during the |chef| run at all. Because each of these layout modifiers are a hash, the ``clear`` instance method can be used to clear out these values."
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:34
# 81dedc7f2a7b4a1e81029c3197d2ea84
msgid "To clear the default values for a layout modifier:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:47
# 7f726cd475264a8784bcbc08a3f89eb6
msgid "In general, use this approach carefully and only after it is determined that nil or empty values won't provide the expected result."
msgstr ""

