# SOME DESCRIPTIVE TITLE.
# Copyright (C) This work is licensed under a Creative Commons Attribution 3.0 Unported License
# This file is distributed under the same license as the Chef Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Chef Docs 0.0.1\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2013-10-11 18:51\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/resource_deploy.rst:33
# b62d0df20d2246339d67282512751676
msgid "deploy"
msgstr ""

#: ../../includes_resources/includes_resource_generic.rst:4
# f1c7659be088423f93228e0b87bb02ff
msgid "A `resource <http://docs.opscode.com/resource.html>`_ is a key part of a `recipe <http://docs.opscode.com/essentials_cookbook_recipes.html>`_ that defines the actions that can be taken against a piece of the system. These actions are identified during each `chef-client run <http://docs.opscode.com/essentials_nodes_chef_run.html>`_ as the resource collection is compiled. Once identified, each resource (in turn) is mapped to a provider, which then configures each piece of the system."
msgstr ""

#: ../../includes_resources/includes_resource_deploy.rst:4
# 52c905bd31564f2e9f624b40a469a92a
msgid "The |resource deploy| resource is used to manage and control deployments. This is a popular resource, but is also complex, having the most attributes, multiple providers, the added complexity of callbacks, plus four attributes that support layout modifications from within a recipe."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano.rst:4
# a382e236c6924cf49d3a8d75d9a57682
msgid "The |resource deploy| resource is modeled after |capistrano|, a utility and framework for executing commands in parallel on multiple remote machines via |ssh|. The |resource deploy| resource is designed to behave in a way that is similar to the ``deploy`` and ``deploy:migration`` tasks in |capistrano|."
msgstr ""

#: ../source/resource_deploy.rst:42
# 9396c042c9f24803a6218f2f4d00b1f9
msgid "Syntax"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:4
# 8553380c404647d7b0985c8a0e7729ef
msgid "The syntax for using the |resource deploy| resource in a recipe is as follows:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:21
# 5c87b7e1a9c847d4a1f82ea8897b1759
msgid "where"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:23
# 467ff230f9ec449fa9fe213d3a3a44dd
msgid "``deploy`` tells the |chef client| to use either the ``Chef::Provider::Deploy::Revision`` or ``Chef::Provider::Deploy::Timestamped`` provider during the |chef client| run. More specific short names---``timestamped_deploy``, ``deploy_revision``, or ``deploy_branch``---can be used instead of the ``deploy`` short name."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:24
# 7c818fb683f347d58dcd48f3a034537e
msgid "``name`` is the name of the resource block; when the ``deploy_to`` attribute is not specified as part of a recipe, ``name`` is also the location in which the deployment steps will occur"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:25
# f876dc884c1b4836a9f751d42e4b1c6f
msgid "``attribute`` is zero (or more) of the attributes that are available for this resource"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:26
# defbda375acb4e15832ce61e886405b3
msgid "``callback`` represents additional |ruby| code that is used to pass a block or to specify a file, and then provide additional information to the |chef client| at specific times during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:27
# d454227a078744bca41c313c9a53d572
msgid "``purge_before_symlink``, ``create_dirs_before_symlink``, and ``symlink`` are attributes that are used to link configuration files, remove directories, create directories, or map files and directories during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:28
# 022df3f372f74d54b6174a27db849691
msgid "``:action`` is the step that the resource will ask the provider to take during the |chef client| run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:30
# f9572f0bc2f64e9c9f0d4b7f9ef81d2f
msgid "The following is an example of how the ``deploy_revision`` resource can work when used in a recipe. In this example, an application will be deployed to a folder named \"/path/to/application\":"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:51
# 826d9ab011454b34b8d73c9e0c0703e4
msgid "For the example shown above:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:53
# 5f8f3a8742954dd49b4ca23559d9af54
msgid "Because an action is not explicitly specified, the |chef client| will use the default action: ``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:54
# 40f1cfe418a9416eac278d15bd0a17a0
msgid "The ``purge_before_symlink`` application layout is an array of paths that will be cleared before the ``symlinks`` attribute is run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:55
# d5ec16c0200444d8bc099a64e4824bb4
msgid "The ``create_dirs_before_symlink`` attribute is empty, which is different from the default"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:56
# 4179d5ce4eee4a8495ec497b3cee8ae6
msgid "The ``symlinks`` attribute is creating three symbolic links"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:57
# cc42f166a40149bca95753ea4f87496b
msgid "The ``before_restart`` callback is being used to add custom actions that will occur at the end of the deployment process, but before any services have been notified"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:58
# 2d3fb580bf914628b474adafd5e247d4
msgid "At the end, the recipe is using the ``notifies`` attribute---a common attribute available to all resources---to alert two services (named \"foo\" and \"bar\") that they should restart."
msgstr ""

#: ../source/resource_deploy.rst:46
# 4fc8bb7f7ec44736aae79b8332c25542
msgid "Deploy Strategies"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:4
# 0adf2cd150c34a19842537f34c2de687
msgid "In the ``deploy`` directory, a sub-directory named ``shared`` must be created. This sub-directory is where configuration and temporary files will be kept. A typical |ruby on rails| application will have ``config``, ``log``, ``pids``, and ``system`` directories within the ``shared`` directory to keep the files stored there independent of the code in the source repository."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:6
# 2a80c28f48da469695da7c185385f2b3
msgid "In addition to the ``shared`` sub-directory, the deploy process will create sub-directories named ``releases`` and ``current`` (also in the ``deploy`` directory). The ``release`` directory holds (up to) five most recently deployed versions of an application. The ``current`` directory holds the currently-released version."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:8
# 41878499f0b44fe1b6f2013d9f96eea8
msgid "For example::"
msgstr ""

#: ../source/resource_deploy.rst:50
# d7939c560f5046608b0ae13d380833dd
msgid "Deploy Phases"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:4
# 07b2c555d26b4b2990c36e6f34fc1aa4
msgid "A deployment happens in four phases:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:6
# f19071e0052543c49386817aa1810acd
msgid "**Checkout**---the |chef client| uses the |resource scm| resource to get the specified application revision, placing a clone or checkout in the sub-directory of the ``deploy`` directory named ``cached-copy``. A copy of the application is then placed in a sub-directory under ``releases``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:7
# 5be60ac58423418d8b941702184c26b2
msgid "**Migrate**---If a migration is to be run, the |chef client| symlinks the database configuration file into the checkout (``config/database.yml`` by default) and runs the migration command. For a |ruby on rails| application, the ``migration_command`` is usually set to ``rake db:migrate``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:8
# b4f29d0d4080484eba4f61530c52a7dc
msgid "**Symlink**---Directories for shared and temporary files are removed from the checkout (``log``, ``tmp/pids``, and ``public/system`` by default). After this step, any needed directories (``tmp``, ``public``, and ``config`` by default) are created if they don't already exist. This step is completed by symlinking shared directories into the current ``release``, ``public/system``, ``tmp/pids``, and ``log`` directories, and then symlinking the ``release`` directory to ``current``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:9
# 1b09da357b9c4fa5975b46b369b495e5
msgid "**Restart**---The application is restarted according to the restart command set in the recipe."
msgstr ""

#: ../source/resource_deploy.rst:54
# f9dd08c90a83471ebf936332a908ace1
msgid "Deploy Cache File"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_start_over.rst:4
# 84cfae92b3814cbba91150c300ebc46f
msgid "The |chef client| uses a cache file to keep track of the order in which each revision of an application is deployed. By default, the cache file is located at |path chef deploy cache file|. To force a re-deploy, delete the deployment directory or delete the cache file."
msgstr ""

#: ../source/resource_deploy.rst:58
# b5bc897d53034af0be938437486feb0e
msgid "Callbacks"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:4
# c5e5ac408daf408b95841bb6e7b4bda8
msgid "In-between each step in a deployment process, callbacks can be run using arbitrary |ruby| code, including recipes. All callbacks support embedded recipes given in a block, but each callback assumes a shell command (instead of a deploy hook filename) when given a string."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:6
# 8a3b1657c7fd4ff08ebb6ecf10484c2b
msgid "The following callback types are available:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:12
# ffb8bc80895b4ed19937699d5d30cf08
msgid "Callback"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:13
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:11
#: ../../includes_resources/includes_resource_deploy_actions.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:68
#: ../../includes_resources/includes_resource_deploy_attributes.rst:87
# 40ba3eeef7994b69929a40ed211b7513
# 39d8fa024cbd418c982aa164a19ca621
# e1936476351c459db179fbc72156c790
# 3995f72b7b0942dcb894c3bd555646aa
# bcbb08968be04745b261ed6d4776faf6
# 95ce0c80820249bf95f88753d15360da
msgid "Description"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:12
# 0471ff840051496ba4a06ffa4482132b
# 7d4b2b643eea44e88486299ae2fcfb84
msgid "``after_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:15
#: ../../includes_resources/includes_resource_deploy_attributes.rst:13
# c70d0a06551847cf8ad4df76f010e0dd
# efd2e67d2ab04a4fbc42dd7f19a190d3
msgid "|after_restart| Default value: ``deploy/after_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:14
# 07abdbb11ca14fe9a6e3153eb85a0e5e
# f4df183e69ca4baab3e074cbdaf65dd9
msgid "``before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:17
#: ../../includes_resources/includes_resource_deploy_attributes.rst:15
# b85b84b0ed2143a1b8b7f2c01ed975a3
# 84d605fd4b084564968050ee4f755ddb
msgid "|before_migrate| Default value: ``deploy/before_migrate.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:16
# dfebbadd95fc4545ba455bf955416516
# 1475905d8a344d098e22cd1ec977da99
msgid "``before_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:19
#: ../../includes_resources/includes_resource_deploy_attributes.rst:17
# c4f36c88f3ab4d1c9775ac7f4e2a992a
# 729b14b1db3545068ba6723619176b16
msgid "|before_restart| Default value: ``deploy/before_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:20
#: ../../includes_resources/includes_resource_deploy_attributes.rst:18
# 2a83d82513e7419d8ec141369c0d0066
# 45f03349fb884772892d5165e2eff4b3
msgid "``before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:21
#: ../../includes_resources/includes_resource_deploy_attributes.rst:19
# c066d712ed83415f958b477efd6013fb
# b1dc94ac1ef042cdaef71f46b7bfaa94
msgid "|before_symlink| Default value: ``deploy/before_symlink.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:23
# f4bc052caa0c40ca98798a2ed321190d
msgid "Each of these callback types can be used in one of three ways:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:25
# d355ca236f1b40dbb3a7d36b1efab9cf
msgid "To pass a block of code, such as |ruby| or |python|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:26
# d364e7ac14bc42529e9fecea2aa5df0b
msgid "To specify a file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:27
# 53fe8f82aa0141798b6768c1ac373625
msgid "To do neither; the |chef client| will look for a callback file named after one of the callback types (``before_migrate.rb``, for example) and if the file exists, to evaluate it as if it were a specified file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:29
# 740d47d54bd54b47bd7852378fc86805
msgid "Within a callback, there are two ways to get access to information about the deployment:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:31
# 5bbab805dfeb4a53b14e82de97d0d4a2
msgid "``release_path`` can be used to get the path to the current release"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:32
# deb3b7ad753d40fb9211333bccfb26e9
msgid "``new_resource`` can be used to access the deploy resource, including environment variables that have been set there (using ``new_resource`` is a preferred approach over using the ``@configuration`` variable)"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:34
# e5f7bb451e4145afa2db6e683f2ca57b
msgid "Both of these options must be available at the top-level within the callback, along with any assigned values that will be used later in the callback."
msgstr ""

#: ../source/resource_deploy.rst:61
# aa2cea2e050d4f8f8830ab4fefcd45e6
msgid "**Callbacks and Capistrano**"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:5
# 6954bfb3f6a047bbb07ff1deb5b6f168
msgid "If you are familiar with |capistrano|, the following examples should help you know when to use the various callbacks that are available. If you are not familiar with |capistrano|, then follow the semantic names of these callbacks to help you determine when to use each of the callbacks within a recipe that is built with the |resource deploy| resource."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:7
# 5ba607b37a974f7d89653c1600bb2f04
msgid "The following example shows where callbacks fit in relation to the steps taken by the ``deploy`` process in |capistrano|:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:11
# 51a18aa008624bef820f845cc126ea19
msgid "and the following example shows the same comparison, but with the ``deploy:migrations`` process:"
msgstr ""

#: ../source/resource_deploy.rst:66
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:10
# 09927a8ad4684dd39a96112a89dde1d2
# 70d546b1ab5840b79830c497eb37724d
msgid "Layout Modifiers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:4
# ed77a8b8dadd4af2bec22b4d014ad62a
msgid "The |resource deploy| resource expects an application to be structured like a |ruby on rails| application, but the layout can be modified to meet custom requirements as needed. Use the following attributes within a recipe to modify the layout of a recipe that is using the |resource deploy| resource:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:12
#: ../../includes_resources/includes_resource_deploy_attributes.rst:22
# b69626950bc54046be309505ca162a3b
# fffc40910ad74693a9d4b1b5c010b276
msgid "``create_dirs_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:13
# 117360b7e6ee49979d1233103a146e1c
msgid "|create_dirs_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:38
# 72821e495bed43428dcc9ac330e813b3
# d92513ac2b0a47c4a1080ef8a4766b4b
msgid "``purge_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:15
# 4246280952134104a12c3b80a85b25c0
msgid "|purge_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:56
# 1afa840cb87c430d9779411b2c176cb3
# b87a1b50641242938a727ac58209352a
msgid "``symlink_before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:17
# 379be9876dbe4500abcf798170586df1
msgid "|symlink_before_migrate|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:54
# bc50c1e2ab3c4fa4a158c0bdae27f40a
# 13fe13775db24c668a854b9aa7003942
msgid "``symlinks``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:19
# d4bf669b60574fd8888846a8885a36de
msgid "|symlinks|"
msgstr ""

#: ../source/resource_deploy.rst:70
# 8bbfbce738404e86ad3f0efad2651d42
msgid "Actions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:4
# 733030d656644e179d9ec31b3701c838
msgid "This resource has the following actions:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:10
# ebdb687518634aa5911630b89722d3c1
msgid "Action"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:12
# a606227c046940feb0e89e59b17e7a2d
msgid "``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:13
# 0189417a1be249baae99467fd099d8af
msgid "Default. |resource action deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:14
# 824f3dcd4c80476fa3e25ad6b85ea0f2
msgid "``:force_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:15
# 1627c65f8e324271b767f39735326fa4
msgid "|resource action force_deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:16
# d1df75e3246c4d8db1e83fe5d8184746
msgid "``:rollback``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:17
# 707646ef93f6453498b3709729390bc0
msgid "|resource action rollback deploy|"
msgstr ""

#: ../source/resource_deploy.rst:74
# 19208ec1f58e4570ace40e2100d023f1
msgid "Attributes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:4
# f6354c6179b341278317c72fa32054b2
msgid "This resource has the following attributes:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:10
#: ../../includes_resources/includes_resource_deploy_attributes.rst:67
#: ../../includes_resources/includes_resource_deploy_attributes.rst:86
# cee04a59a0234e39966d4dafae6b608a
# ba6eb6e081a644f68207b12c51fcd623
# 4ceafe12e6bc4692970db2a2dfc37475
msgid "Attribute"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:20
# 9dac3977f99c4fb2b8f71bf8f62ba405
msgid "``branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:21
# 6c1146c3101145dcbe27e09302c786c0
msgid "The alias for the revision."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:23
# f9dbd0c7786341ce8bacaa6209d285be
msgid "|create_dirs_before_symlink| Default value: ``%w{tmp public config}`` (or the same as ``[\"tmp\", \"public\", \"config\"]``)."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:24
# 85ff6b654fdf4aeaa5fd5a410c1fab35
msgid "``deploy_to``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:25
# e3ad6ccb9bdb4fdd8f6f177891455caf
msgid "|deploy_to| Default value: the ``name`` of the resource block (see Syntax section above)."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:26
# 3c90f06ebf944b6592c474011172f5e9
msgid "``environment``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:27
# ff7f843fdd47480991b67bb69bf3d1a2
msgid "|environment variables|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:28
# 5fd01cedb3ee4390915139ea92c69831
msgid "``group``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:29
# 409b6183b041486dbff5b81b74c2e604
msgid "|group deploy| Default value: ``nil``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:30
# a1373565adb842dd86d666534c521483
msgid "``keep_releases``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:31
# f7efc6033d8b4a6c9b91918f37c69258
msgid "|keep_releases| Default value: ``5``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:32
# f96707979b954cf6967501b7d08a257d
msgid "``migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:33
# 063dc143c45b4848b213ff5258a183b1
msgid "|migrate command_run| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:34
# 59669b7876a24e699acdf48ccb460ad1
msgid "``migration_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:35
# db755a7ed2d5476b8f3bf71c3169feb8
msgid "|migration command_string|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:36
# 759ea372462f4cfa910f7b69453cf110
msgid "``provider``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:37
# b0c7980fe81d457f80ec602c89365df4
msgid "Optional. |provider resource_parameter|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:39
# 8a8d62bddb50415bb6f485b6bd3d290e
msgid "|purge_before_symlink| Default value: ``%w{log tmp/pids public/system}`` (or the same as ``[\"log\", \"tmp/pids\", \"public/system\"]``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:40
# 9fd282a1288148e2b54c9b001898a70c
msgid "``repo``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:41
# 4e160b6ce2464a06b217361e5434e783
msgid "|repository git_or_svn|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:42
# d9d471552f294e7c812d4f65928b2c7a
msgid "``repository``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:43
# 54bedf91e0a34cbf906a43a896a7bded
msgid "|uri repository|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:44
# ab6ce1fdd9654d98839b3151018aba6b
msgid "``repository_cache``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:45
# 5cf550b9f6ff47639b21f18b8cd089f1
msgid "|repository_cache| Default value: ``cached-copy``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:46
# 3a6209cf7dd64658b0f8c08e7d36645f
msgid "``restart_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:47
# 666bbdb41d694490adcf9a09f6518398
msgid "|restart shell_command| Default value: ``nil``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:48
# b66e4a871fef4c31b1f0cc2b85d8efc3
msgid "``revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:49
# c1351d85bf404e55866a091e895239db
msgid "|revision| Default value: ``HEAD``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:50
# b318c3e04adb4db68b2c1959935870ab
msgid "``rollback_on_error``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:51
# c696be293dd74bab818245839dad4923
msgid "|rollback_on_error| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:52
# 05f4211714a740e686ab64abedd0c15d
msgid "``scm_provider``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:53
# ce0bbd8eab454f248ddaef61438de16b
msgid "|name scm_provider| Default value: ``Chef::Provider::Git``. Optional values: ``Chef::Provider::Subversion``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:55
# 7a8060d4091c42f19ef231be40140b81
msgid "|symlinks| Default value: ``{\"system\" => \"public/system\", \"pids\" => \"tmp/pids\", \"log\" => \"log\"}``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:57
# 7cec20d697ae4e11a15658add4d7fc1d
msgid "|symlink_before_migrate| Default value: ``{\"config/database.yml\" => \"config/database.yml\"}``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:58
# 0278394ab01a45feaa27df209655d6ce
msgid "``user``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:59
# 5f842f64906c45a8947a9a9b2efcbfd8
msgid "|user checked_out_code| Default value: ``nil``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:61
# 39573f652dca44738598c99ed367c5b0
msgid "The following attributes are for use with |git| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:69
# be3473e48d8c4634816af89a00f2fb76
msgid "``enable_submodules``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:70
# fdc35c1765544c3985de3c2d9b2b80c9
msgid "|enable_submodules| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:71
# 57756d21f27d4e4a969ca9674f9a2fd7
msgid "``git_ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:72
# 81bc661fef0c46bdbbbf494f28d6b041
msgid "|git_ssh_wrapper|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:73
# 1a38d333561d4e49821f5cc04bdc8374
msgid "``remote``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:74
# 5b7972ebcce048e08fe667492a9229b8
msgid "|remote resource| Default value: ``origin``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:75
# f273e73431a54203847fc4032b72791a
msgid "``shallow_clone``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:76
# 8b0ab6781b7e4ffabba7df2abb14728d
msgid "|shallow_clone| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:77
# 310e06824d3c4d27981508bd5f4f4625
msgid "``ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:78
# 58a7c4b3b9424146a2c02475c1826c84
msgid "|ssh_wrapper resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:80
# 96c4a4b19b7b45b2a581065a71afed87
msgid "The following attributes are for use with |svn| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:88
# b659f9071caa40208e1307e29f70d0f8
msgid "``svn_arguments``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:89
# 265ee654cd7a4b438e4523738924a565
msgid "|svn_arguments resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:90
# 86b4459c0e80432596908d3139d169e2
msgid "``svn_password``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:91
# 807f830a072b4a6d8a8bcee00487bdac
msgid "|svn_password resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:92
# e4f3367ca1ab45e587db32bbac0a1b3a
msgid "``svn_username``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:93
# c143a5acb2e04c5e95fb4a3335e31333
msgid "|svn_username resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:95
# 5a942df91cbf4bfcabf309c60a8b3c83
msgid "For example:"
msgstr ""

#: ../source/resource_deploy.rst:78
# 70954c2fa5af4239ab32bb16c484f2b5
msgid "Providers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:4
# df856deae0754c9a87527aa35082052b
msgid "The |resource deploy| resource providers are used to determine whether to deploy based on whether the release directory in which the deployment is to be made actually exists. The following providers are available. Use the short name to call the provider from a recipe:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:10
# d99e9610ae7044aeb02db29c2c6bef88
msgid "Long name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:11
# 942a75b4242a4b51b77559679ccf8f6d
msgid "Short name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:12
# f2cd93c4a1484b7392e97544c241dcbb
msgid "Notes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:13
# 9f22be1b6264488ca794acdce13ceddf
msgid "``Chef::Provider::Deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:14
# 6032f757340047449d5b65c1e2601589
msgid "``deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:15
# da3d8c1988cc4d798f02505571cd9d19
msgid "When this short name is used, the |chef client| will determine the correct provider during the |chef client| run."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:16
# 11d6e3fdc4474c20878ba0a1a4cd3ea5
msgid "``Chef::Provider::Deploy::Branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:17
# 647798548f50431a9ddd565c5abd02a3
msgid "``deploy_branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:18
#: ../../includes_resources/includes_resource_deploy_providers.rst:21
# 11c9d935e0864f8e925bce4a5bfa5916
# 0bff39909a804dc48d5ad381ae5e5a94
msgid "See below for more information."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:19
# 148adb3fa7914ef7b2d1780bceb305ca
msgid "``Chef::Provider::Deploy::Revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:20
# 3c95727831594f88afb8158ca48f77b8
msgid "``deploy_revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:22
# 95c0b06c793d461aaaf283aaf96f377b
msgid "``Chef::Provider::Deploy::TimestampedDeploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:23
# 091d6aaa01ea41f4868ddbc430778b26
msgid "``timestamped_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:24
# bc55f318c1534f34a985c7acd1debe22
msgid "The default provider for all platforms. See below for more information."
msgstr ""

#: ../source/resource_deploy.rst:82
# 94959e25e6bb416890f6d533739cef75
msgid "deploy_branch"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_branch.rst:5
# f59f4f3ed40144fca3e6bf69cba39f3b
msgid "The ``deploy_branch`` resource is used in the same way as the ``deploy_resource`` resource. It uses the ``Deploy::Revision`` provider and has uses the same set of actions and attributes."
msgstr ""

#: ../source/resource_deploy.rst:86
# 525db1ce5bc643e78711ec363261e6ee
msgid "deploy_revision"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:4
# f9145f1247fa4f4abe489b13ea69ae4e
msgid "The ``deploy_revision`` provider is the recommended provider, even if it is not listed as the default. The ``deploy_revision`` provider is used to ensure that the name of a release sub-directory is based on a revision identifier. For users of |git|, this will be the familiar SHA checksum. For users of |svn|, it will be the integer revision number. If a name other than a revision identifier is provided---branch names, tags, and so on---the |chef client| will ignore the alternate names and will look up the revision identifier and use it to name the release sub-directory. When the ``deploy_revision`` provider is given an exact revision to deploy, it will behave in an idempotent manner."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:6
# 06f2e3186a6147e0bad5ad65ac87eeaa
msgid "The ``deploy_revision`` provider results in deployed components under the destination location that is owned by the user who runs the application. This is sometimes an issue for certain workflows. If issues arise, consider the following:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:8
# 2a12917bf32c43f5acea0ad8a9bf2ccf
msgid "Incorporate changing permissions to the desired end state from within a recipe"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:9
# 8ed6b33a46eb418d955f8bf47595d99e
msgid "Add a ``before_restart`` block to fix up the permissions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:10
# ef3fa858b693440ba19a07dff97c8364
msgid "Have an unprivileged user (for example: ``opscode``) be the owner of the ``deploy`` directory and another unprivileged user (for example: ``opscodeapp``) run the application. Most often, this is the solution that works best"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:12
# 44997a8f1d494d8181f97ccfd91bc7e0
msgid "When using the ``deploy_revision`` provider, and when the deploy fails for any reason, and when the same code is used to re-deploy, the action should be set manually to ``:force_deploy``. Forcing the re-deploy will remove the old release directory, after which the deploy can proceed as usual. (Forcing a re-deploy over the current release can cause some downtime.) Deployed revisions are stored in ``(file_cache_path)/revision-deploys/(deploy_path)``."
msgstr ""

#: ../source/resource_deploy.rst:90
# aef87798ea22487295b6881135af3a8b
msgid "timestamped_deploy"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_timestamped_deploy.rst:4
# dce3a095111843f18ed98ffaf931d7e4
msgid "The ``timestamped_deploy`` provider is the default |resource deploy| provider. It is used to name release directories with a timestamp in the form of ``YYYYMMDDHHMMSS``. For example: ``/my/deploy/dir/releases/20121120162342``. The |resource deploy| resource will determine whether or not to deploy code based on the existence of the release directory in which it is attempting to deploy. Because the timestamp is different for every |chef client| run, the ``timestamped_deploy`` provider is not idempotent. When the ``timestamped_deploy`` provider is used, it requires that the action setting on a resource be managed manually in order to prevent unintended continuous deployment."
msgstr ""

#: ../source/resource_deploy.rst:94
# 047f3c7d07bd4b2a88d6d4cab24b6a50
msgid "Examples"
msgstr ""

#: ../source/resource_deploy.rst:95
# dcb482724faa4112afde4deb80be8f68
msgid "|generic resource statement|"
msgstr ""

#: ../source/resource_deploy.rst:97
# 824b0b59375a410580eb81bcc7a07717
msgid "**Modify the layout of a Ruby on Rails application**"
msgstr ""

#: ../../step_resource/step_resource_deploy_custom_application_layout.rst:3
# 5cdd6de265d344d185357a821501d8f0
msgid "The layout of the |resource deploy| resource matches a |ruby on rails| app by default, but this can be customized. To customize the layout, do something like the following:"
msgstr ""

#: ../source/resource_deploy.rst:101
# 687712f5595b408d9e50af3cf28c2af7
msgid "**Use resources within callbacks**"
msgstr ""

#: ../../step_resource/step_resource_deploy_embedded_recipes_for_callbacks.rst:3
# 4c8656fc4ea84ceeb39a7326e38a6112
msgid "Using resources from within your callbacks as blocks or within callback files distributed with your application's source code. To use embedded recipes for callbacks:"
msgstr ""

#: ../source/resource_deploy.rst:105
# ae6e7295831e44c8863724881188d58a
msgid "**Deploy from a private git repository without using the application cookbook**"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:3
# c032d7e589f44dccb7a5b6467268d184
msgid "To deploy from a private |git| repository without using the |cookbook application| cookbook, first ensure that:"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:5
# 8573969b69a441c5a0dd72d6bc3e4ebf
msgid "the private key does not have a passphrase, as this will pause a |chef client| run to wait for input"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:6
# 51997649ef2f463e882581b92367a62b
msgid "an |ssh| wrapper is being used"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:7
# d145d6828e134cf48f3adfc90156f404
msgid "a private key has been added to the node"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:9
# 3d6e119555df4845bffb9dfa6f994136
msgid "and then use code like the following to remove a passphrase from a private key:"
msgstr ""

#: ../source/resource_deploy.rst:109
# 9bb1680e116647609214383206d874d3
msgid "**Use an SSH wrapper**"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:3
# 21b938c4e76c4de3a77235a2bd6e91d7
msgid "To write a recipe that uses an |ssh| wrapper:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:5
# 949028188d134a1692091d934710f4b7
msgid "Create a file in the ``cookbooks/COOKBOOK_NAME/files/default`` directory that is named ``wrap-ssh4git.sh`` and which contains the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:12
# 2d7f95ac83a54dee85ad3a6ffb48938c
msgid "Set up the cookbook file."
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:13
# aaf715030226460abe4e71fb08494862
msgid "Add a recipe to the cookbook file similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:36
# 2b27f1cb79904342abb31a614853edb5
msgid "This will deploy the |git| repository at ``git@github.com:acctname/private-repo.git`` in the ``/tmp/private_code`` directory."
msgstr ""

#: ../source/resource_deploy.rst:113
# 17a9b3f6dd464aa78781955d704b4aa0
msgid "**Use a callback to include a file that will be passed as a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:3
# b7cb331b95394bafa7f9b1c4bf40b8f2
msgid "The code in a file that is included in a recipe using a callback is evaluated exactly as if the code had been put in the recipe as a block. Files are searched relative to the current release."
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:5
# 5717fcf956d345b196ce92b0117eb287
msgid "To specify a file that contains code to be used as a block:"
msgstr ""

#: ../source/resource_deploy.rst:117
# 0ef8cb3597a94ee0a8f65be9184cbd1e
msgid "**Use a callback to pass a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_pass_python.rst:3
# ee9e9d117d3c4abc93583bd9397ee363
msgid "To pass a block of |python| code before a migration is run:"
msgstr ""

#: ../source/resource_deploy.rst:121
# 09b3574b3d564c78a734e5c54a409e53
msgid "**Use the same API for all recipes using the same gem**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_same_api_as_gitdeploy_gems.rst:3
# ace420ed1e9a48408089920bda5af0a1
msgid "Any recipes using the ``git-deploy`` |gem| can continue using the same API. To include this behavior in a recipe, do something like the following:"
msgstr ""

#: ../source/resource_deploy.rst:125
# 0fee3b5ff56b4abcb68c4643d65c31a6
msgid "**Deploy without creating symbolic links to a shared folder**"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:3
# 480a5f55fefa4228a0acc255129925f4
msgid "To deploy without creating symbolic links to a shared folder:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:11
# d075b3fd2fee4966a7a3b4626d9a8b17
msgid "When deploying code that is not |ruby on rails| and symbolic links to a shared folder are not wanted, use parentheses ``()`` or ``Hash.new`` to avoid ambiguity. For example, using parentheses:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:19
# 6d91b75cb3044c9a867f862fcbf2f8db
msgid "or using ``Hash.new``:"
msgstr ""

#: ../source/resource_deploy.rst:129
# bbef7a6c582a4e99abb526d9292213de
msgid "**Clear a layout modifier attribute**"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:3
# eb836932ddbf47acaeb2829d64a9d1ae
msgid "Using the default attribute values for the various resources is the recommended starting point when working with recipes. Then, depending on what each node requires, these default values can be overridden with node-, role-, environment-, and cookbook-specific values. The |resource deploy| resource has four layout modifiers: ``create_dirs_before_symlink``, ``purge_before_symlink``, ``symlink_before_migrate``, and ``symlinks``. Each of these is a |ruby| |hash| that behaves as an attribute of the |resource deploy| resource. When these layout modifiers are used in a recipe, they appear similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:19
# 0e8f2ce9811b4318b44c7be529c1522d
msgid "and then what these layout modifiers look like if they were empty:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:32
# 9f1d4271b7964576bede4c4fe66cc019
msgid "In most cases, using the empty values for the layout modifiers will prevent the |chef client| from passing symbolic linking information to a node during the |chef client| run. However, in some cases, it may be preferable to ensure that one (or more) of these layout modifiers do not pass any symbolic linking information to a node during the |chef client| run at all. Because each of these layout modifiers are a hash, the ``clear`` instance method can be used to clear out these values."
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:34
# 6105ee5be69445fc8124c1e7f4227972
msgid "To clear the default values for a layout modifier:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:47
# a0a912e5916e45d0b484084dddd79414
msgid "In general, use this approach carefully and only after it is determined that nil or empty values won't provide the expected result."
msgstr ""

