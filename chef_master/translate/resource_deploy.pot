# SOME DESCRIPTIVE TITLE.
# Copyright (C) This work is licensed under a Creative Commons Attribution 3.0 Unported License
# This file is distributed under the same license as the Chef Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Chef Docs 0.0.1\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2013-09-05 23:33\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/resource_deploy.rst:33
# f6cee795cfab43afa37365c6ce56fcab
msgid "deploy"
msgstr ""

#: ../../includes_resources/includes_resource_generic.rst:4
# e630169a48d54a9aa124430c6c42ab9e
msgid "A `resource <http://docs.opscode.com/resource.html>`_ is a key part of a `recipe <http://docs.opscode.com/essentials_cookbook_recipes.html>`_ that defines the actions that can be taken against a piece of the system. These actions are identified during each `chef-client run <http://docs.opscode.com/essentials_nodes_chef_run.html>`_ as the resource collection is compiled. Once identified, each resource (in turn) is mapped to a provider, which then configures each piece of the system."
msgstr ""

#: ../../includes_resources/includes_resource_deploy.rst:4
# 6f33d63a3dd84835bc58b12ae3fa43f2
msgid "The |resource deploy| resource is used to manage and control deployments. This is a popular resource, but is also complex, having the most attributes, multiple providers, the added complexity of callbacks, plus four attributes that support layout modifications from within a recipe."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano.rst:4
# 4c24fe370270451f8454220763a87b85
msgid "The |resource deploy| resource is modeled after |capistrano|, a utility and framework for executing commands in parallel on multiple remote machines via |ssh|. The |resource deploy| resource is designed to behave in a way that is similar to the ``deploy`` and ``deploy:migration`` tasks in |capistrano|."
msgstr ""

#: ../source/resource_deploy.rst:42
# 61de9b36bbfc4c619696db11e941791d
msgid "Syntax"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:4
# faec3a8b12f24878bad0763b11a09d0a
msgid "The syntax for using the |resource deploy| resource in a recipe is as follows:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:21
# be790590f5b94fde836b1820059f6edf
msgid "where"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:23
# b0e6dc2124294996804cca31e04c87ae
msgid "``deploy`` tells the |chef client| to use either the ``Chef::Provider::Deploy::Revision`` or ``Chef::Provider::Deploy::Timestamped`` provider during the |chef client| run. More specific short names---``timestamped_deploy``, ``deploy_revision``, or ``deploy_branch``---can be used instead of the ``deploy`` short name."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:24
# f134f00e3e9f4e60a2b237d2a3982803
msgid "``\"name\"`` is the path to the location in which the deployment steps will occur"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:25
# 76e121f3970b440191204d4c0319feec
msgid "``attribute`` is zero (or more) of the attributes that are available for this resource"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:26
# d2412337ce9848869ad6e4a0042ea5ee
msgid "``callback`` represents additional |ruby| code that is used to pass a block or to specify a file, and then provide additional information to the |chef client| at specific times during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:27
# aa66c41c3ef64ef88be97450973e98ca
msgid "``purge_before_symlink``, ``create_dirs_before_symlink``, and ``symlink`` are attributes that are used to link configuration files, remove directories, create directories, or map files and directories during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:28
# 00a8c99c46d6405eb036abd155c0cb8f
msgid "``:action`` is the step that the resource will ask the provider to take during the |chef client| run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:30
# dfa5df03d556446cbbd8ce54a29706f8
msgid "The following is an example of how the ``deploy_revision`` resource can work when used in a recipe. In this example, an application will be deployed to a folder named \"/path/to/application\":"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:51
# 558767ee8e30449ea3728bbe5bc51ed0
msgid "For the example shown above:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:53
# d42a78a9b339403ab23e811beecde1e7
msgid "Because an action is not explicitly specified, the |chef client| will use the default action: ``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:54
# 9f103699edaa4e85844c883727032abe
msgid "The ``purge_before_symlink`` application layout is an array of paths that will be cleared before the ``symlinks`` attribute is run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:55
# 2856af0b5a4f4d27b2bbe3ef1aa0b36f
msgid "The ``create_dirs_before_symlink`` attribute is empty, which is different from the default"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:56
# e58d63aa630e4d71b67c199b0dbdf2a8
msgid "The ``symlinks`` attribute is creating three symbolic links"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:57
# 46de64839b3d47b2865d04139d23685a
msgid "The ``before_restart`` callback is being used to add custom actions that will occur at the end of the deployment process, but before any services have been notified"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:58
# cea2b3b996c64b7e982981ac1f2495ee
msgid "At the end, the recipe is using the ``notifies`` attribute---a common attribute available to all resources---to alert two services (named \"foo\" and \"bar\") that they should restart."
msgstr ""

#: ../source/resource_deploy.rst:46
# 823066e540dc445880915cc814733fbb
msgid "Deploy Strategies"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:4
# 4eebe21a3e1e4eabb22c7998e9640ce4
msgid "In the ``deploy`` directory, a sub-directory named ``shared`` must be created. This sub-directory is where configuration and temporary files will be kept. A typical |ruby on rails| application will have ``config``, ``log``, ``pids``, and ``system`` directories within the ``shared`` directory to keep the files stored there independent of the code in the source repository."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:6
# f1b49bfe0edb4016a27519b2851ba4d9
msgid "In addition to the ``shared`` sub-directory, the deploy process will create sub-directories named ``releases`` and ``current`` (also in the ``deploy`` directory). The ``release`` directory holds (up to) five most recently deployed versions of an application. The ``current`` directory holds the currently-released version."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:8
# 91ed030e77dd4012b31c7a383dad2676
msgid "For example::"
msgstr ""

#: ../source/resource_deploy.rst:50
# b9f801bbaf604911bbc8106b136fe118
msgid "Deploy Phases"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:4
# c0527e67fe884c7fa66a0a7ae57a0cf5
msgid "A deployment happens in four phases:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:6
# 00bb4aa191af4186b996c2c207376e0a
msgid "**Checkout**---the |chef client| uses the |resource scm| resource to get the specified application revision, placing a clone or checkout in the sub-directory of the ``deploy`` directory named ``cached-copy``. A copy of the application is then placed in a sub-directory under ``releases``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:7
# f3b846cd4c2e494d8bb477b1b4e1f38e
msgid "**Migrate**---If a migration is to be run, the |chef client| symlinks the database configuration file into the checkout (``config/database.yml`` by default) and runs the migration command. For a |ruby on rails| application, the ``migration_command`` is usually set to ``rake db:migrate``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:8
# 80b44be4011f486e8328ab38a22e58e8
msgid "**Symlink**---Directories for shared and temporary files are removed from the checkout (``log``, ``tmp/pids``, and ``public/system`` by default). After this step, any needed directories (``tmp``, ``public``, and ``config`` by default) are created if they don't already exist. This step is completed by symlinking shared directories into the current ``release``, ``public/system``, ``tmp/pids``, and ``log`` directories, and then symlinking the ``release`` directory to ``current``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:9
# e29f63404a2e4aa5b6f6326c21b3848d
msgid "**Restart**---The application is restarted according to the restart command set in the recipe."
msgstr ""

#: ../source/resource_deploy.rst:54
# 7344969cdb3d48ab88ac255c0d94b2c7
msgid "Deploy Cache File"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_start_over.rst:4
# e992da8c76424c64b3c8d2666c6efef0
msgid "The |chef client| uses a cache file to keep track of the order in which each revision of an application is deployed. By default, the cache file is located at |path chef deploy cache file|. To force a re-deploy, delete the deployment directory or delete the cache file."
msgstr ""

#: ../source/resource_deploy.rst:58
# 7f41cb5d479b4911b0689299de864000
msgid "Callbacks"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:4
# 417e8922ee5f46c4bbcd70c4155e3d2f
msgid "In-between each step in a deployment process, callbacks can be run using arbitrary |ruby| code, including recipes. All callbacks support embedded recipes given in a block, but each callback assumes a shell command (instead of a deploy hook filename) when given a string."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:6
# 833d7af1c7c347749ff77d55a0067e98
msgid "The following callback types are available:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:12
# a9c49c7e887c4809831dc0092f8c6ca1
msgid "Callback"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:13
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:11
#: ../../includes_resources/includes_resource_deploy_actions.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:68
#: ../../includes_resources/includes_resource_deploy_attributes.rst:87
# 45c837bb6f72455ebcac1451a1fd762e
# a86447095f5042c285c5444ef3d567ff
# a3538c5520004f6c924b80ced6b68efe
# 91918d07d2674dc1b43e216c668aa938
# 42f93af070c7400fbcb1d1ec8f00d02a
# c9404b0a411b44ef9e70e5721ea2b2ae
msgid "Description"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:12
# 42577b3d013c4a588d139e57f739396e
# 62a8e98a9b04448c906d2e1158ff72df
msgid "``after_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:15
#: ../../includes_resources/includes_resource_deploy_attributes.rst:13
# eb53089089d04b129cc9145e83a40379
# 0361f0f97c014cdb894803d70dd92b5c
msgid "|after_restart| Default value: ``deploy/after_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:14
# 68b31e8568f2454f8fd07807cc878c51
# e5dab79d28c6444b9f9854b5772f7138
msgid "``before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:17
#: ../../includes_resources/includes_resource_deploy_attributes.rst:15
# 5339937cb07549848ef32c973c0041db
# a7c6aef6ed274831a437d274f178e554
msgid "|before_migrate| Default value: ``deploy/before_migrate.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:16
# feadadba810341f7bda283555cea007b
# bb0027939e7540829117cdcd45726c63
msgid "``before_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:19
#: ../../includes_resources/includes_resource_deploy_attributes.rst:17
# 7b9f461deab34a60bf1f6289413bc2e7
# e2b6b0650d4b401498203bbeab04cac3
msgid "|before_restart| Default value: ``deploy/before_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:20
#: ../../includes_resources/includes_resource_deploy_attributes.rst:18
# 21e85fc0ff5941708e172fe4021a6c7f
# 4a0a495ab6eb4db38edcbad5c32167de
msgid "``before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:21
#: ../../includes_resources/includes_resource_deploy_attributes.rst:19
# 553f1984af5f4f7ab7280e4b8084dd8a
# 25f2270dbc9d4183b8ea74fe3c890e81
msgid "|before_symlink| Default value: ``deploy/before_symlink.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:23
# 6b524ccd6e3e4544bba42a3854967b79
msgid "Each of these callback types can be used in one of three ways:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:25
# b0fb78b1d3af43d7b5760d654830560a
msgid "To pass a block of code, such as |ruby| or |python|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:26
# 4db2e2710c52483e81f3d617ddc33218
msgid "To specify a file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:27
# 786bdd0c9a5d46448702ecc434e4181c
msgid "To do neither; the |chef client| will look for a callback file named after one of the callback types (``before_migrate.rb``, for example) and if the file exists, to evaluate it as if it were a specified file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:29
# ba3819e717534fc58a2323062fbbf912
msgid "Within a callback, there are two ways to get access to information about the deployment:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:31
# 59e97dc8a04544308395c4e7fb851b1d
msgid "``release_path`` can be used to get the path to the current release"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:32
# 0b6f99aa4e284a60a038442d6b11ec88
msgid "``new_resource`` can be used to access the deploy resource, including environment variables that have been set there (using ``new_resource`` is a preferred approach over using the ``@configuration`` variable)"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:34
# 198c07a57fb5485db1830b3c50e5c984
msgid "Both of these options must be available at the top-level within the callback, along with any assigned values that will be used later in the callback."
msgstr ""

#: ../source/resource_deploy.rst:61
# 25fb3f3cfec346ed8ff58795048bb9b3
msgid "**Callbacks and Capistrano**"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:5
# 03a6e334c09840428220dc9a2c14f96c
msgid "If you are familiar with |capistrano|, the following examples should help you know when to use the various callbacks that are available. If you are not familiar with |capistrano|, then follow the semantic names of these callbacks to help you determine when to use each of the callbacks within a recipe that is built with the |resource deploy| resource."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:7
# c6632a85eac749e6a4c5631a041a2eb0
msgid "The following example shows where callbacks fit in relation to the steps taken by the ``deploy`` process in |capistrano|:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:11
# 2d631ee2af48467ab66d7f011b552637
msgid "and the following example shows the same comparison, but with the ``deploy:migrations`` process:"
msgstr ""

#: ../source/resource_deploy.rst:66
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:10
# 33074a00b5e940b186f2e240041061b7
# 2b7a6ffe64d046eb9845394347cdd1a6
msgid "Layout Modifiers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:4
# 72b68290dbbb4d2ebbc903a0a0427ee3
msgid "The |resource deploy| resource expects an application to be structured like a |ruby on rails| application, but the layout can be modified to meet custom requirements as needed. Use the following attributes within a recipe to modify the layout of a recipe that is using the |resource deploy| resource:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:12
#: ../../includes_resources/includes_resource_deploy_attributes.rst:22
# 238fce13078648ebab027ee08afa3afe
# 83e042ef7a4941ddb5fc530c20c88256
msgid "``create_dirs_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:13
# e7a2b80a48c04275a3d5e9767bb86769
msgid "|create_dirs_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:38
# 855be055c0da41458259acd9d357a1ed
# 707a3401234543c6ad24f652a0fa7daa
msgid "``purge_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:15
#: ../../includes_resources/includes_resource_deploy_attributes.rst:39
# 9f812fc5cc9e4e26b3180fde2e0f5eb6
# ead3b1dc8a5b476280fa5d44e18e3fe0
msgid "|purge_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:56
# 9315dea74fdd4558aa590a7f2b525a82
# c09a7feab95e4a78a35ca885c8bee13f
msgid "``symlink_before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:17
#: ../../includes_resources/includes_resource_deploy_attributes.rst:57
# 56c78fa7abd4467aa3883811f4fc8ff9
# 42ea65b2b2cb425ca96533fbf34fc5e9
msgid "|symlink_before_migrate|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:54
# 58c86cb5c3b2498280cb894906db80bf
# 560f5cfa943149ca9c95f6bc7adc4619
msgid "``symlinks``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:19
#: ../../includes_resources/includes_resource_deploy_attributes.rst:55
# 3af2ad0ad4374b049e721ebe68ba5d70
# 39690c92a4d44bb09eea33abbafeee48
msgid "|symlinks|"
msgstr ""

#: ../source/resource_deploy.rst:70
# 98325a1450cb4b7cb835a45daf2f76ce
msgid "Actions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:4
# fe54e10d958d40d1b66f2acb925a6204
msgid "This resource has the following actions:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:10
# f9829c96b1ee4a389bd8042f7e1454d3
msgid "Action"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:12
# 8184da8288a242c5a653125d1332934b
msgid "``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:13
# ed57e9166757487482fb48b08eedb52e
msgid "Default. |resource action deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:14
# cef892ce31944370a1a3c776f3483665
msgid "``:force_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:15
# 093f7a2ea27e461a952c25214a476576
msgid "|resource action force_deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:16
# 67d65e8f3e6b4beda2405270cab5167c
msgid "``:rollback``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:17
# d9d7365f5168457fa86cc8c8b52c40b7
msgid "|resource action rollback deploy|"
msgstr ""

#: ../source/resource_deploy.rst:74
# 5d32a9ed52704ef680ade08e8ac5aaa9
msgid "Attributes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:4
# 73497bb2d804490cbc6c9fa7f74fb856
msgid "This resource has the following attributes:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:10
#: ../../includes_resources/includes_resource_deploy_attributes.rst:67
#: ../../includes_resources/includes_resource_deploy_attributes.rst:86
# 4dcf98c0e5aa40b0982fbe4b59097cef
# 7eddadc6e02c4bdb9f4473e5f5ea0f77
# 7d26cc1c98234ab0af76931d89e022d0
msgid "Attribute"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:20
# cde55965243c43a4a9f789fe0a53a86f
msgid "``branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:21
# c4e9c64339694e718ec22618b4a2dd7a
msgid "The alias for the revision."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:23
# adad039c723a4d169578905d3f493dd4
msgid "|create_dirs_before_symlink| Default value: ``%w{tmp public config}`` (or the same as ``[\"tmp\", \"public\", \"config\"]``)."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:24
# 0c130b345ae3479687d94327c1524d12
msgid "``deploy_to``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:25
# 9a68b3ad911b4a0e971ff0bff5eb2771
msgid "|deploy_to|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:26
# b09187304e014a6e8d1471675696b211
msgid "``environment``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:27
# e4e65a521c12495ab9e28596ed513bbb
msgid "|environment variables|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:28
# aac5d416c33043fd969c0848e4ad2250
msgid "``group``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:29
# bd03705628894f50ab28a4e91419c505
msgid "|group deploy| Default value: ``nil``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:30
# d60d80a251d34822bc74c3fc479d8050
msgid "``keep_releases``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:31
# 3f6365f5799b4f8d86f820ebac07e356
msgid "|keep_releases| Default value: ``5``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:32
# a1dfb465380c4d9493a9420137926408
msgid "``migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:33
# 0cb7cc60964f432992cb2365ea748232
msgid "|migrate resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:34
# 07efb54c7b214da091d02302b7dd191a
msgid "``migration_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:35
# 64a39e47eb464dc88657751a7ac10134
msgid "|migration_command resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:36
# 2d622ccb55f34b949bad9f8274947559
msgid "``provider``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:37
# d7c2e70fd7ba468daa85176c2206724b
msgid "Optional. |provider resource_attribute|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:40
# 114b631fbbdb442e834fe50b367435da
msgid "``repo``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:41
# 1c78b21736e544e1b897e33e8d9a2ed0
msgid "|repository git_or_svn|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:42
# 207923c8173d4621918adef9dcb70d00
msgid "``repository``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:43
# b2c619433c3748e783be7657c94f6bc7
msgid "|uri repository|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:44
# 7eb7a103e3b845e98eff9c8af1ba883d
msgid "``repository_cache``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:45
# f83f5cfd2df44708bf9812eb7d1cc9e7
msgid "|repository_cache| Default value: ``cached-copy``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:46
# bf1a90152d304cd98e364a153a983aca
msgid "``restart_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:47
# f3b188fdce29447a8c1e9b58918b9a3b
msgid "|restart shell_command| Default value: ``nil``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:48
# 017d9f58ac2540b0a90da2160d41bb58
msgid "``revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:49
# ec4e4e19816c4874ade67673cf8b0cec
msgid "|revision| Default value: ``HEAD``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:50
# c507020a570944b4b407ee93840bf517
msgid "``rollback_on_error``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:51
# f9673cf22bf34d11821084f9024f020a
msgid "|rollback_on_error| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:52
# b91db3f0d67746be8b0f946bec1c8632
msgid "``scm_provider``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:53
# a7f65ff2fc464d65aca83ddd4191421b
msgid "|name scm_provider| Default value: ``Chef::Provider::Git``. Optional values: ``Chef::Provider::Subversion``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:58
# b6ccd178f1c843e18b5cd154c5c73b85
msgid "``user``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:59
# 933995f9323b4d05ba112f4a3c883dd8
msgid "|user checked_out_code| Default value: ``nil``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:61
# 5ec049f5f0b74683b975e30d403271dc
msgid "The following attributes are for use with |git| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:69
# 0bbe3679cc7b466bafc4ed963c575a6b
msgid "``enable_submodules``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:70
# 1f3ac1446c864fb582a98048eb729ac9
msgid "|enable_submodules| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:71
# 8dfbc61b34304911b467f5a9d41900f6
msgid "``git_ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:72
# e9e356d7dff8415abd8ea3f33ce3e83b
msgid "|git_ssh_wrapper|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:73
# 56ddc19543b64bcd8c0db06715873075
msgid "``remote``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:74
# d86d69e3e14f43139eaa1a4b9811c30a
msgid "|remote resource| Default value: ``origin``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:75
# c6baf00d03944e1fa2397bf2c06e9b56
msgid "``shallow_clone``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:76
# fae1c2b91ee64c96a0ece8758f966ab6
msgid "|shallow_clone| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:77
# 7c4a351817da4d20bd53b909238f29e2
msgid "``ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:78
# c8be00ebfd824d63ade85c21831b097a
msgid "|ssh_wrapper resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:80
# aba4594d7cd74724aedf5c7a8b6751f4
msgid "The following attributes are for use with |svn| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:88
# 797cacdbad184d409e740659ec912a0f
msgid "``svn_arguments``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:89
# 6061d5d3440a44b28c401123abc9edc2
msgid "|svn_arguments resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:90
# 1b0ad154b241429f935665e71a7626f6
msgid "``svn_password``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:91
# 4a38800a11174fb587275571bffc3c13
msgid "|svn_password resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:92
# 1a40072c8b3b404a86ecc64d895a1871
msgid "``svn_username``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:93
# f6dd55347f674c44ab9a05ea78e71bfb
msgid "|svn_username resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:95
# f3fc41add9154a2e8af3fd786a93e715
msgid "For example:"
msgstr ""

#: ../source/resource_deploy.rst:78
# 73107037494b4dd6b7c635442f04b1d8
msgid "Providers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:4
# 53a56634d2ea494ebaf5c857485af19a
msgid "The |resource deploy| resource providers are used to determine whether to deploy based on whether the release directory in which the deployment is to be made actually exists. The following providers are available. Use the short name to call the provider from a recipe:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:10
# a5049c0718ee42489b7c66798e088d18
msgid "Long name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:11
# cfda2315b0c44c0b815315330d1b09b3
msgid "Short name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:12
# a218da4a3431400e8bfaee4d211e9d33
msgid "Notes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:13
# fa3108eeab324950a2aee95158d6e27a
msgid "``Chef::Provider::Deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:14
# acabafa67024423ead744a8c5080ab8b
msgid "``deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:15
# b47b309241bb46508ccf70621f12f2c6
msgid "When this short name is used, the |chef client| will determine the correct provider during the |chef client| run."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:16
# e8cb0b07f0c84237bd96bb838c2a0cf2
msgid "``Chef::Provider::Deploy::Branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:17
# caae8d39d4bc4c00b5a23c88bca7da8a
msgid "``deploy_branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:18
#: ../../includes_resources/includes_resource_deploy_providers.rst:21
# 792511db000245629995d1f93e7c94c3
# b89d51fc4f124dccb2dcdac8195718ad
msgid "See below for more information."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:19
# 52808298e3f04111ba5f531a9aced8b9
msgid "``Chef::Provider::Deploy::Revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:20
# abe6c2e57e7445a8b26964d189263265
msgid "``deploy_revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:22
# d8c1ab20b241470b80664ebb11ab74c4
msgid "``Chef::Provider::Deploy::TimestampedDeploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:23
# 89a953865e0f4155a13d56171642df75
msgid "``timestamped_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:24
# 26ecf234a90144d8a253b86d0c01d9c5
msgid "The default provider for all platforms. See below for more information."
msgstr ""

#: ../source/resource_deploy.rst:82
# ca1647245bb044efa09f04bcea1a14b0
msgid "deploy_branch"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_branch.rst:5
# c0836b98475a4d9f982487fcf0786b44
msgid "The ``deploy_branch`` resource is used in the same way as the ``deploy_resource`` resource. It uses the ``Deploy::Revision`` provider and has uses the same set of actions and attributes."
msgstr ""

#: ../source/resource_deploy.rst:86
# 72c4f410c013483da826937c72786b6f
msgid "deploy_revision"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:4
# 80862a32a6d940578a75f94407f95049
msgid "The ``deploy_revision`` provider is the recommended provider, even if it is not listed as the default. The ``deploy_revision`` provider is used to ensure that the name of a release sub-directory is based on a revision identifier. For users of |git|, this will be the familiar SHA checksum. For users of |svn|, it will be the integer revision number. If a name other than a revision identifier is provided---branch names, tags, and so on---the |chef client| will ignore the alternate names and will look up the revision identifier and use it to name the release sub-directory. When the ``deploy_revision`` provider is given an exact revision to deploy, it will behave in an idempotent manner."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:6
# 36f97efb3a2a4316900046b49104e04c
msgid "The ``deploy_revision`` provider results in deployed components under the destination location that is owned by the user who runs the application. This is sometimes an issue for certain workflows. If issues arise, consider the following:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:8
# 4c22845847344851abfbc88ed31ece5d
msgid "Incorporate changing permissions to the desired end state from within a recipe"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:9
# f8552f5cc4334ba4a329a035318f63af
msgid "Add a ``before_restart`` block to fix up the permissions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:10
# 15d3bd37cada42cc825a01dcf4c10886
msgid "Have an unprivileged user (for example: ``opscode``) be the owner of the ``deploy`` directory and another unprivileged user (for example: ``opscodeapp``) run the application. Most often, this is the solution that works best"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:12
# 57d0f30dc4a64931801857aefad39db5
msgid "When using the ``deploy_revision`` provider, and when the deploy fails for any reason, and when the same code is used to re-deploy, the action should be set manually to ``:force_deploy``. Forcing the re-deploy will remove the old release directory, after which the deploy can proceed as usual. (Forcing a re-deploy over the current release can cause some downtime.) Deployed revisions are stored in ``(file_cache_path)/revision-deploys/(deploy_path)``."
msgstr ""

#: ../source/resource_deploy.rst:90
# 8a8381d3c4c44815a8ab8e8c868d2861
msgid "timestamped_deploy"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_timestamped_deploy.rst:4
# 0aca6aa6db714d82881d0ae6e038ecdb
msgid "The ``timestamped_deploy`` provider is the default |resource deploy| provider. It is used to name release directories with a timestamp in the form of ``YYYYMMDDHHMMSS``. For example: ``/my/deploy/dir/releases/20121120162342``. The |resource deploy| resource will determine whether or not to deploy code based on the existence of the release directory in which it is attempting to deploy. Because the timestamp is different for every |chef client| run, the ``timestamped_deploy`` provider is not idempotent. When the ``timestamped_deploy`` provider is used, it requires that the action setting on a resource be managed manually in order to prevent unintended continuous deployment."
msgstr ""

#: ../source/resource_deploy.rst:94
# 2a3d15bf4b7642e4afbde0edfa3a386e
msgid "Examples"
msgstr ""

#: ../source/resource_deploy.rst:95
# 1ab0e4cbd3e94c39ae25cfdaa065a759
msgid "|generic resource statement|"
msgstr ""

#: ../source/resource_deploy.rst:97
# 541aaeddc1cb4e388dabe36ce2dabe58
msgid "**Modify the layout of a Ruby on Rails application**"
msgstr ""

#: ../../step_resource/step_resource_deploy_custom_application_layout.rst:3
# db67110133294657acaa2ab7a86ba354
msgid "The layout of the |resource deploy| resource matches a |ruby on rails| app by default, but this can be customized. To customize the layout, do something like the following:"
msgstr ""

#: ../source/resource_deploy.rst:101
# f487ebc8eb414d1e82823dd9064e07ed
msgid "**Use resources within callbacks**"
msgstr ""

#: ../../step_resource/step_resource_deploy_embedded_recipes_for_callbacks.rst:3
# 9fbf90e8fb3c4ce4a55b9a005e46e535
msgid "Using resources from within your callbacks as blocks or within callback files distributed with your application's source code. To use embedded recipes for callbacks:"
msgstr ""

#: ../source/resource_deploy.rst:105
# ced8c74611ec4c0d9584cda99b0feb8e
msgid "**Deploy from a private git repository without using the application cookbook**"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:3
# 32bce38cd7884a90bfaf00c91c75c95b
msgid "To deploy from a private |git| repository without using the |cookbook application| cookbook, first ensure that:"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:5
# 82fde12a347e4fdf9bcdea5f4c20fda5
msgid "the private key does not have a passphrase, as this will pause a |chef client| run to wait for input"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:6
# 8c111b4a5857438e81209da4fd6a07a5
msgid "an |ssh| wrapper is being used"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:7
# d040377b8be449509bdf7f8b9291b4a4
msgid "a private key has been added to the node"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:9
# b6a351a04e9b48f69961958ea8fdbbcc
msgid "and then use code like the following to remove a passphrase from a private key:"
msgstr ""

#: ../source/resource_deploy.rst:109
# a18f70c85965461bbb594e4721e5f0d9
msgid "**Use an SSH wrapper**"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:3
# d003687d2fe9412a96977d3973b0d765
msgid "To write a recipe that uses an |ssh| wrapper:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:5
# 3ddb0a8a7a3b4bfca7c07cfefe1e5442
msgid "Create a file in the ``cookbooks/COOKBOOK_NAME/files/default`` directory that is named ``wrap-ssh4git.sh`` and which contains the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:12
# ee684cba76854ff1a0db832dc09ee688
msgid "Set up the cookbook file."
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:13
# dd08456ecba2416783a29e66321fe5f8
msgid "Add a recipe to the cookbook file similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:36
# aed3b7a5ecb742fbbfed867f8a246b01
msgid "This will deploy the |git| repository at ``git@github.com:acctname/private-repo.git`` in the ``/tmp/private_code`` directory."
msgstr ""

#: ../source/resource_deploy.rst:113
# 56f277a327894255911b7716a7153681
msgid "**Use a callback to include a file that will be passed as a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:3
# 9fdd2e8afe664c9ba999e1958cf2b3d5
msgid "The code in a file that is included in a recipe using a callback is evaluated exactly as if the code had been put in the recipe as a block. Files are searched relative to the current release."
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:5
# b8fb098143c34ec8a8327a1f08212d71
msgid "To specify a file that contains code to be used as a block:"
msgstr ""

#: ../source/resource_deploy.rst:117
# dfce5298f58848ada589afc3aa8b00fc
msgid "**Use a callback to pass a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_pass_python.rst:3
# 3d6a68b784b241f19c8cdfea5c44bea1
msgid "To pass a block of |python| code before a migration is run:"
msgstr ""

#: ../source/resource_deploy.rst:121
# 2f56b57d67074f5db20e1e4319120fe1
msgid "**Use the same API for all recipes using the same gem**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_same_api_as_gitdeploy_gems.rst:3
# 21516b7d69154e9994c6f0158d68b56c
msgid "Any recipes using the ``git-deploy`` |gem| can continue using the same API. To include this behavior in a recipe, do something like the following:"
msgstr ""

#: ../source/resource_deploy.rst:125
# 43b6c62291ef4b3da9d03f8d3e523677
msgid "**Deploy without creating symbolic links to a shared folder**"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:3
# c185cc1ee1734205a92575339df04fce
msgid "To deploy without creating symbolic links to a shared folder:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:11
# 2730c3fed3484efab60c232ceb2bad66
msgid "When deploying code that is not |ruby on rails| and symbolic links to a shared folder are not wanted, use parentheses ``()`` or ``Hash.new`` to avoid ambiguity. For example, using parentheses:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:19
# f34a7df72b8342af9a1b7852869510e1
msgid "or using ``Hash.new``:"
msgstr ""

#: ../source/resource_deploy.rst:129
# 7c565a762c944ce2b7b16990484d3087
msgid "**Clear a layout modifier attribute**"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:3
# 8ff4bd2e24c3424d8e78e47796d6736c
msgid "Using the default attribute values for the various resources is the recommended starting point when working with recipes. Then, depending on what each node requires, these default values can be overridden with node-, role-, environment-, and cookbook-specific values. The |resource deploy| resource has four layout modifiers: ``create_dirs_before_symlink``, ``purge_before_symlink``, ``symlink_before_migrate``, and ``symlinks``. Each of these is a |ruby| |hash| that behaves as an attribute of the |resource deploy| resource. When these layout modifiers are used in a recipe, they appear similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:19
# b173e55da03f46a0a523eb5d749ea46c
msgid "and then what these layout modifiers look like if they were empty:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:32
# 7b88080d3a6343d19acbd807e866351e
msgid "In most cases, using the empty values for the layout modifiers will prevent the |chef client| from passing symbolic linking information to a node during the |chef client| run. However, in some cases, it may be preferable to ensure that one (or more) of these layout modifiers do not pass any symbolic linking information to a node during the |chef client| run at all. Because each of these layout modifiers are a hash, the ``clear`` instance method can be used to clear out these values."
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:34
# 4be5dc77e97a451199aace2580625fb7
msgid "To clear the default values for a layout modifier:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:47
# a7e0a3e5945e40a98f8327ff98aad84d
msgid "In general, use this approach carefully and only after it is determined that nil or empty values won't provide the expected result."
msgstr ""

