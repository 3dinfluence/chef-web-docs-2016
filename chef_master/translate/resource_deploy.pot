# SOME DESCRIPTIVE TITLE.
# Copyright (C) This work is licensed under a Creative Commons Attribution 3.0 Unported License.
# This file is distributed under the same license as the Chef Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Chef Docs \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2014-01-02 14:27\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/resource_deploy.rst:8
# e0f4542f610f447d9e7af1f63c0e8f61
msgid "deploy"
msgstr ""

#: ../../includes_resources/includes_resource_generic.rst:4
# ac8a7334c56b4f5ab05f38d19037fe27
msgid "A `resource <http://docs.opscode.com/resource.html>`_ is a key part of a `recipe <http://docs.opscode.com/essentials_cookbook_recipes.html>`_ that defines the actions that can be taken against a piece of the system. These actions are identified during each `chef-client run <http://docs.opscode.com/essentials_nodes_chef_run.html>`_ as the resource collection is compiled. Once identified, each resource (in turn) is mapped to a provider, which then configures each piece of the system."
msgstr ""

#: ../../includes_resources/includes_resource_deploy.rst:4
# 76053b5f890e403986713db7ddef7d3a
msgid "The |resource deploy| resource is used to manage and control deployments. This is a popular resource, but is also complex, having the most attributes, multiple providers, the added complexity of callbacks, plus four attributes that support layout modifications from within a recipe."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano.rst:4
# 444518f7e5c54a6c936d075a91513bac
msgid "The |resource deploy| resource is modeled after |capistrano|, a utility and framework for executing commands in parallel on multiple remote machines via |ssh|. The |resource deploy| resource is designed to behave in a way that is similar to the ``deploy`` and ``deploy:migration`` tasks in |capistrano|."
msgstr ""

#: ../source/resource_deploy.rst:17
# 2057e4985ca74cfb9a7d6a8a784e06f1
msgid "Syntax"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:4
# a36c4a97a2f54e8f8d5617e6f8444d3c
msgid "The syntax for using the |resource deploy| resource in a recipe is as follows:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:21
# 561fdace24ae438c938c02ee3677ba8a
msgid "where"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:23
# 58a6f0464c914ea3ada6f1180f923c41
msgid "``deploy`` tells the |chef client| to use either the ``Chef::Provider::Deploy::Revision`` or ``Chef::Provider::Deploy::Timestamped`` provider during the |chef client| run. More specific short names---``timestamped_deploy``, ``deploy_revision``, or ``deploy_branch``---can be used instead of the ``deploy`` short name."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:24
# 2f15c486054f45fda8e80d5ded1632bc
msgid "``name`` is the name of the resource block; when the ``deploy_to`` attribute is not specified as part of a recipe, ``name`` is also the location in which the deployment steps will occur"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:25
# 4a9dad55d0cd436b92cfb20856ed422e
msgid "``attribute`` is zero (or more) of the attributes that are available for this resource"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:26
# 2fc7c73b6e9644d7a173cda1b8c27c8f
msgid "``callback`` represents additional |ruby| code that is used to pass a block or to specify a file, and then provide additional information to the |chef client| at specific times during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:27
# 6c2bb844830c439f8006f8e3c748ee0a
msgid "``purge_before_symlink``, ``create_dirs_before_symlink``, and ``symlink`` are attributes that are used to link configuration files, remove directories, create directories, or map files and directories during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:28
# 8a7ba81cbd97406a8ea997ebd7319777
msgid "``:action`` is the step that the resource will ask the provider to take during the |chef client| run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:30
# 6edba004c3fc4bcb938987e0609c82fc
msgid "The following is an example of how the ``deploy_revision`` resource can work when used in a recipe. In this example, an application will be deployed to a folder named \"/path/to/application\":"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:51
# 90b8bfb53e1a4d0fade29bece6eb190e
msgid "For the example shown above:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:53
# b4164c10f0b946b7a2171d40e7be1a9f
msgid "Because an action is not explicitly specified, the |chef client| will use the default action: ``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:54
# 270c9d9d3964409b9672489e702d55c6
msgid "The ``purge_before_symlink`` application layout is an array of paths that will be cleared before the ``symlinks`` attribute is run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:55
# 6c32a41c261d4dc69abb4a93f898b6be
msgid "The ``create_dirs_before_symlink`` attribute is empty, which is different from the default"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:56
# 9d1be6ee15b94761ac14365f8e2c487a
msgid "The ``symlinks`` attribute is creating three symbolic links"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:57
# f3fa4e17d5424d229621446090647fdf
msgid "The ``before_restart`` callback is being used to add custom actions that will occur at the end of the deployment process, but before any services have been notified"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:58
# 5fcd5c061c694b5cb012431c182e225a
msgid "At the end, the recipe is using the ``notifies`` attribute---a common attribute available to all resources---to alert two services (named \"foo\" and \"bar\") that they should restart."
msgstr ""

#: ../source/resource_deploy.rst:21
# 5d8febdde3bb424f8b676e6ab75dfc5c
msgid "Deploy Strategies"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:4
# 69a906e15c204ec59a3dd7cebc24d64e
msgid "In the ``deploy`` directory, a sub-directory named ``shared`` must be created. This sub-directory is where configuration and temporary files will be kept. A typical |ruby on rails| application will have ``config``, ``log``, ``pids``, and ``system`` directories within the ``shared`` directory to keep the files stored there independent of the code in the source repository."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:6
# 6c7dfef5d35e4b33ab94d261538e689c
msgid "In addition to the ``shared`` sub-directory, the deploy process will create sub-directories named ``releases`` and ``current`` (also in the ``deploy`` directory). The ``release`` directory holds (up to) five most recently deployed versions of an application. The ``current`` directory holds the currently-released version."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:8
# 66db2443de5b42aca6d0eb59aa79b246
msgid "For example::"
msgstr ""

#: ../source/resource_deploy.rst:25
# 673cde0d33c04eb89bcabb2f0b73bd26
msgid "Deploy Phases"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:4
# 224f0b08c68c4604afe4a623d544acac
msgid "A deployment happens in four phases:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:6
# 24dd5080c7a74fa5a641a8befd804722
msgid "**Checkout**---the |chef client| uses the |resource scm| resource to get the specified application revision, placing a clone or checkout in the sub-directory of the ``deploy`` directory named ``cached-copy``. A copy of the application is then placed in a sub-directory under ``releases``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:7
# 50892776998a4b73b127fe28d784f032
msgid "**Migrate**---If a migration is to be run, the |chef client| symlinks the database configuration file into the checkout (``config/database.yml`` by default) and runs the migration command. For a |ruby on rails| application, the ``migration_command`` is usually set to ``rake db:migrate``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:8
# 8fce7d20896146c8bab9ad2339382103
msgid "**Symlink**---Directories for shared and temporary files are removed from the checkout (``log``, ``tmp/pids``, and ``public/system`` by default). After this step, any needed directories (``tmp``, ``public``, and ``config`` by default) are created if they don't already exist. This step is completed by symlinking shared directories into the current ``release``, ``public/system``, ``tmp/pids``, and ``log`` directories, and then symlinking the ``release`` directory to ``current``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:9
# 86fe0c7ad82048929a822b5a1e06237e
msgid "**Restart**---The application is restarted according to the restart command set in the recipe."
msgstr ""

#: ../source/resource_deploy.rst:29
# ddf8e1d850d941f98f3c52ddea3fb424
msgid "Deploy Cache File"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_start_over.rst:4
# 878d5e7f03644c4cbd66b0f78e0c29da
msgid "The |chef client| uses a cache file to keep track of the order in which each revision of an application is deployed. By default, the cache file is located at |path chef deploy cache file|. To force a re-deploy, delete the deployment directory or delete the cache file."
msgstr ""

#: ../source/resource_deploy.rst:33
# 4e627fa3537140dbb6c7570edd900056
msgid "Callbacks"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:4
# c5c8b5960a1848ad8f4868b9d2a64ffd
msgid "In-between each step in a deployment process, callbacks can be run using arbitrary |ruby| code, including recipes. All callbacks support embedded recipes given in a block, but each callback assumes a shell command (instead of a deploy hook filename) when given a string."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:6
# 37c3069d0ea14f83b8bad895bd818f0b
msgid "The following callback types are available:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:12
# d3c5e2beaabf48c7a2c5f93a7479c9b9
msgid "Callback"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:13
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:11
#: ../../includes_resources/includes_resource_deploy_actions.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:68
#: ../../includes_resources/includes_resource_deploy_attributes.rst:87
# 796fb7c6b66140b69150a4dde9401ed9
# 19b4be3f255c42a1a7b375868ee8f1ef
# d0a7f03102a144779aceaa5483df4a10
# 633ecb6f6161447d9c0723a94473f2c9
# 39129e368f8a42a7bc09af4ca8bdf01e
# 830ddc778bdf470aa388741d4ecc5cee
msgid "Description"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:12
# 2dfb4a81e9794fac9d6ea69009775b3d
# f93d4a93325447c49a7e668d6e87ae8c
msgid "``after_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:15
#: ../../includes_resources/includes_resource_deploy_attributes.rst:13
# f298a5bb974d4b82a665ea74017939e2
# 320851a664a74dd18e22686a3aff3efd
msgid "|after_restart| Default value: ``deploy/after_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:14
# e8775c2877b2418d8291ade319159c56
# 14a0b5795f95441ea81ee33ad3de8c95
msgid "``before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:17
#: ../../includes_resources/includes_resource_deploy_attributes.rst:15
# 15e02df0a2e24d0daa430d6bf870b8e4
# 25740e94d7464080b9d9320811fed652
msgid "|before_migrate| Default value: ``deploy/before_migrate.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:16
# f7385eea1d8a4dc4bee13d4ba879ada0
# 203d67f76ac344ebbb7e8b19ddc1720b
msgid "``before_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:19
#: ../../includes_resources/includes_resource_deploy_attributes.rst:17
# 26727cbb48594de7858e8d0ba3e60078
# 7e0d45f415c445dd8dba8952a8efff8e
msgid "|before_restart| Default value: ``deploy/before_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:20
#: ../../includes_resources/includes_resource_deploy_attributes.rst:18
# 57233ff2070c4b4e9306fd74dce7d409
# 9da62c47fe4644c18a5945fd208f3271
msgid "``before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:21
#: ../../includes_resources/includes_resource_deploy_attributes.rst:19
# 1f422da015cf470398f15f2d53aa98e9
# 5852e8a7eb5e485fa14afaeed55cb444
msgid "|before_symlink| Default value: ``deploy/before_symlink.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:23
# c6f684d515e147c0a0e4e7ce8a588f62
msgid "Each of these callback types can be used in one of three ways:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:25
# dcabe84d2b034b8dbd7c0a346ed1a219
msgid "To pass a block of code, such as |ruby| or |python|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:26
# d187b687c1214e359ed1adad7a255968
msgid "To specify a file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:27
# 93593dc774104cbabe59d54400d7e18a
msgid "To do neither; the |chef client| will look for a callback file named after one of the callback types (``before_migrate.rb``, for example) and if the file exists, to evaluate it as if it were a specified file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:29
# 7e1ef7b9aa0941e6bb260588513d73b8
msgid "Within a callback, there are two ways to get access to information about the deployment:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:31
# d90c078c39264f52b651b787776b43d9
msgid "``release_path`` can be used to get the path to the current release"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:32
# 58f8f9cba664481baca02bfb485cb1e3
msgid "``new_resource`` can be used to access the deploy resource, including environment variables that have been set there (using ``new_resource`` is a preferred approach over using the ``@configuration`` variable)"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:34
# 004765af1ca3465b95c776b8c5a03d8e
msgid "Both of these options must be available at the top-level within the callback, along with any assigned values that will be used later in the callback."
msgstr ""

#: ../source/resource_deploy.rst:36
# 01412a992e664cf7be8f69bb6835c942
msgid "**Callbacks and Capistrano**"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:5
# 5676dc98c23345f3b74046c5c49c0e56
msgid "If you are familiar with |capistrano|, the following examples should help you know when to use the various callbacks that are available. If you are not familiar with |capistrano|, then follow the semantic names of these callbacks to help you determine when to use each of the callbacks within a recipe that is built with the |resource deploy| resource."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:7
# 32de4d9cca7941faa8a5563748f11502
msgid "The following example shows where callbacks fit in relation to the steps taken by the ``deploy`` process in |capistrano|:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:11
# d020b525b4974e5c82ab6e824920fc7f
msgid "and the following example shows the same comparison, but with the ``deploy:migrations`` process:"
msgstr ""

#: ../source/resource_deploy.rst:41
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:10
# 486ef2b58d914488807c3c5e52f66cbe
# bd5bd13c6c274566a2cd5079217a29d5
msgid "Layout Modifiers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:4
# 34bd07c40c784c289e889af69543d7bb
msgid "The |resource deploy| resource expects an application to be structured like a |ruby on rails| application, but the layout can be modified to meet custom requirements as needed. Use the following attributes within a recipe to modify the layout of a recipe that is using the |resource deploy| resource:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:12
#: ../../includes_resources/includes_resource_deploy_attributes.rst:22
# 077b27d7ff754ecb991dd5f79c695027
# bdac60165c7640f2919170164251a857
msgid "``create_dirs_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:13
# 62ceb18c1a92471d805acdda08022470
msgid "|create_dirs_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:38
# 0d7b5ced7c6240aca9bead19088489cc
# 090f553c6ebf4c2f90879d6702fbc9cb
msgid "``purge_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:15
# 64c53416ac68450abe9e5439d7e6c437
msgid "|purge_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:56
# 1907cc6a1c4441498a4ce624133e7844
# 51d083c5ddf145028b0bb1df75082d40
msgid "``symlink_before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:17
# 80152f118431460b8b9a13b2a1cbc807
msgid "|symlink_before_migrate|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:54
# fd6ea8c96ea94e67aa4933ab59db5367
# 4285cb5271204e3ebdfddf674d1e7707
msgid "``symlinks``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:19
# 8785077e4a8b4a9bb2880d461a0e376c
msgid "|symlinks|"
msgstr ""

#: ../source/resource_deploy.rst:45
# aed4384c61d0482d83109c7251df36f1
msgid "Actions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:4
# d7d91296da594b19a970c71c0160a9fe
msgid "This resource has the following actions:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:10
# 81e48118eb044218953b0fe60e2c5799
msgid "Action"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:12
# 535e4b77810d4d74b6818789a1816fba
msgid "``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:13
# 1d7b87de40b2483886c6df08509f1ca7
msgid "Default. |resource action deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:14
# f6ee975f96dd4ecf9cb8842b60f9d2f4
msgid "``:force_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:15
# 4427f684c71c4fdfa440a9df444cc09f
msgid "|resource action force_deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:16
# 941cf611f2a74692a6cc087f668be731
msgid "``:rollback``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:17
# 07872a1fd71d484d93481360856cf4da
msgid "|resource action rollback deploy|"
msgstr ""

#: ../source/resource_deploy.rst:49
# d95b3f91e9104a2ea54c51dd7337830e
msgid "Attributes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:4
# 27c8139795f3446aa6ec4bbffc091bdf
msgid "|description resource_attributes_intro|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:10
#: ../../includes_resources/includes_resource_deploy_attributes.rst:67
#: ../../includes_resources/includes_resource_deploy_attributes.rst:86
# 986ba72be3d945b68c448f2229167fd2
# c9b1bf0ec1144cea9d5288bbdfbebf93
# 29aeaf89a4fd40a299beb48007270339
msgid "Attribute"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:20
# d3907ec943c042548c059ebe6613679a
msgid "``branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:21
# 23a6cc71481444ca88d8be28ccf5ce4f
msgid "The alias for the revision."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:23
# 338a68079c5d476e96c3f48f1c62e229
msgid "|create_dirs_before_symlink| Default value: ``%w{tmp public config}`` (or the same as ``[\"tmp\", \"public\", \"config\"]``)."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:24
# 71913c8c247e4147b1e5dc82a777728a
msgid "``deploy_to``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:25
# 802bc5b1fe444d93a8806b958e57a0b8
msgid "|deploy_to| Default value: the ``name`` of the resource block (see Syntax section above)."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:26
# 1eb170f80a8242deb01a8791545cd241
msgid "``environment``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:27
# c31bd6d0c3b94391b57e065cb9d466e6
msgid "|environment variables|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:28
# dd52df20832d410481431f642db5a939
msgid "``group``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:29
# ba677075896746efa9861ebf8eae33ca
msgid "|group deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:30
# 699f61b83ab14d46b53777a7ef671fe6
msgid "``keep_releases``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:31
# ee16f68856a7411486897b4ff50df394
msgid "|keep_releases| Default value: ``5``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:32
# 1437972107b34001a13dd431d0dc0279
msgid "``migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:33
# 251cb68dafe64d6387dccf5615370e81
msgid "|migrate command_run| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:34
# de67c23e8dc34ec396dbc48a83dae118
msgid "``migration_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:35
# a9668ad9ef63411c9f653a435911dcad
msgid "|migration command_string|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:36
# a451cce4579b405aa975f3f0460f0401
msgid "``provider``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:37
# 6eb39fab4fd44176a2daae14bc07edd4
msgid "Optional. |provider resource_parameter|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:39
# e472fc77135d4c5ab5ec7835354c5d1e
msgid "|purge_before_symlink| Default value: ``%w{log tmp/pids public/system}`` (or the same as ``[\"log\", \"tmp/pids\", \"public/system\"]``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:40
# 3e610ef5bc954e28851ce4553bb57157
msgid "``repo``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:41
# 3387f54e16d5403b93087df18193cddf
msgid "|repository git_or_svn|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:42
# 8e981269425b460694da2f17deaa54a8
msgid "``repository``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:43
# 5c22076e3dd6415fbece1be2c3c36671
msgid "|uri repository|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:44
# cc9ae520b4464c63a2d2ed5d534718ae
msgid "``repository_cache``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:45
# 33cceaf1c2cd437eb0ee0520e60ec487
msgid "|repository_cache| Default value: ``cached-copy``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:46
# 571f6a6096fe400c83fb15b070a90051
msgid "``restart_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:47
# 30d8ca294d794adbaa09aa80c557e0b6
msgid "|restart shell_command|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:48
# bdbefe4089334a37a7bb24e4a7b68c8c
msgid "``revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:49
# 0a9abf9a21644640854d3524c741ccc7
msgid "|revision| Default value: ``HEAD``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:50
# 8c0e43a548e4484c9fc9ed23357c3520
msgid "``rollback_on_error``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:51
# 78a424ca3faf4c3eb4dc4052c0858964
msgid "|rollback_on_error| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:52
# 60571106121b4ad39196421093417f2f
msgid "``scm_provider``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:53
# 45ec0a8b66f5435393e28a0721618cb8
msgid "|name scm_provider| Default value: ``Chef::Provider::Git``. Optional values: ``Chef::Provider::Subversion``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:55
# 3004a0dd89694b81a333cb36980e045a
msgid "|symlinks| Default value: ``{\"system\" => \"public/system\", \"pids\" => \"tmp/pids\", \"log\" => \"log\"}``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:57
# 0dd70f945841495db9553333abea063a
msgid "|symlink_before_migrate| Default value: ``{\"config/database.yml\" => \"config/database.yml\"}``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:58
# c8e53946617a45759dd7f3f0a1ec557f
msgid "``user``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:59
# e04c1bcf32754a3f84109df6582b9fb9
msgid "|user checked_out_code|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:61
# ac93ae82ae864af3805be2f9b9a64f74
msgid "The following attributes are for use with |git| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:69
# 25b4a298e9354da99269700dab736dcb
msgid "``enable_submodules``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:70
# 07d0eb6665554b2bb3afb5ebd1d477f5
msgid "|enable_submodules| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:71
# d5eb881ca2fe41cf9137795f97a53351
msgid "``git_ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:72
# 8b8d9098c416482e99d00ebcec38b4fc
msgid "|git_ssh_wrapper|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:73
# a7060470fb8847c2b569c635f9af055a
msgid "``remote``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:74
# 491c7105d53e47ccad7942b020b77fd8
msgid "|remote resource| Default value: ``origin``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:75
# 6e75691a2e9e414fae7248c5f6bacb2b
msgid "``shallow_clone``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:76
# f196630a65f34730ad4eaaba61d2ddaa
msgid "|shallow_clone| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:77
# bf238f50e9b941f7a7a04fbb7ad4b84e
msgid "``ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:78
# 246e5b3599f9416d998c807aa857a394
msgid "|ssh_wrapper resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:80
# d1f0d66c7fee4591b1ea16cc98020a8e
msgid "The following attributes are for use with |svn| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:88
# 145429c6d9ae411887c7cdb367222950
msgid "``svn_arguments``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:89
# 599271a4fd8a478286778fe7d15c0758
msgid "|svn_arguments resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:90
# f83b016fe8584176b4d4bb65ff7c55f7
msgid "``svn_password``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:91
# e62a380a246540e1943ad2798f597fb8
msgid "|svn_password resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:92
# c9e6e7e207194fff8cd8156fb738c36f
msgid "``svn_username``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:93
# d62a277b0f884ab8a5ea70930d89645a
msgid "|svn_username resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:95
# af5448899c9a46e18d1d597703a36dd2
msgid "For example:"
msgstr ""

#: ../source/resource_deploy.rst:53
# 912e486df4734e9180bb33734f38e55c
msgid "Providers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:4
# 07bb6e95314c44c99dfc136c2a01d6ed
msgid "The |resource deploy| resource providers are used to determine whether to deploy based on whether the release directory in which the deployment is to be made actually exists. The following providers are available. Use the short name to call the provider from a recipe:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:10
# 8d03510e637243698dcfcf6d709a010a
msgid "Long name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:11
# beba02e58b00472c8fd0d5923d2ba4df
msgid "Short name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:12
# 33600f46bff346e8beef21d0a07cc7ff
msgid "Notes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:13
# c4554e7150e641be920ad0199cc14d9c
msgid "``Chef::Provider::Deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:14
# da784d67f6ef4b31a3c7ebc7e042c2d1
msgid "``deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:15
# 8060827d62ee4338bae327323a0e9b03
msgid "When this short name is used, the |chef client| will determine the correct provider during the |chef client| run."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:16
# e5f81b178c654f6f9abfc10cc10605de
msgid "``Chef::Provider::Deploy::Branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:17
# 06ad339cf0254299a41fc474e9f22f74
msgid "``deploy_branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:18
#: ../../includes_resources/includes_resource_deploy_providers.rst:21
# 5988b82a071a48f8bc1ceb53d18b71a3
# e21831a51604430d82ec2b559eb0c3d5
msgid "See below for more information."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:19
# 2d4a60c590bc453e9b44e05401d90ae7
msgid "``Chef::Provider::Deploy::Revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:20
# f9f7a41a4ae646c5aadaf85383ebcde8
msgid "``deploy_revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:22
# 949f222301a94ef8991426dfee854352
msgid "``Chef::Provider::Deploy::TimestampedDeploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:23
# b79c06723cc442b9baab78ddd9124600
msgid "``timestamped_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:24
# eaab90314b0f472286b89a7c2dbd31e7
msgid "The default provider for all platforms. See below for more information."
msgstr ""

#: ../source/resource_deploy.rst:57
# 5cbcb8df5e174e1181f3b0b15c1822f6
msgid "deploy_branch"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_branch.rst:5
# f910d1ed38df48b39bfd78706f64249a
msgid "The ``deploy_branch`` resource is used in the same way as the ``deploy_resource`` resource. It uses the ``Deploy::Revision`` provider and has uses the same set of actions and attributes."
msgstr ""

#: ../source/resource_deploy.rst:61
# 4042b544d2ab45cebc8e413901be5bd3
msgid "deploy_revision"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:4
# aa36b7eed9e9450593f6be7e0df558b8
msgid "The ``deploy_revision`` provider is the recommended provider, even if it is not listed as the default. The ``deploy_revision`` provider is used to ensure that the name of a release sub-directory is based on a revision identifier. For users of |git|, this will be the familiar SHA checksum. For users of |svn|, it will be the integer revision number. If a name other than a revision identifier is provided---branch names, tags, and so on---the |chef client| will ignore the alternate names and will look up the revision identifier and use it to name the release sub-directory. When the ``deploy_revision`` provider is given an exact revision to deploy, it will behave in an idempotent manner."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:6
# 6cae32a198904fa49124f645fd2ab9a6
msgid "The ``deploy_revision`` provider results in deployed components under the destination location that is owned by the user who runs the application. This is sometimes an issue for certain workflows. If issues arise, consider the following:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:8
# 5ed07a0070aa4ed9b5a892f435a2f817
msgid "Incorporate changing permissions to the desired end state from within a recipe"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:9
# ba7915c4c7cf40158673bc0b95dbbe18
msgid "Add a ``before_restart`` block to fix up the permissions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:10
# 619bc684ecda48b5aa89cf963693c05c
msgid "Have an unprivileged user (for example: ``opscode``) be the owner of the ``deploy`` directory and another unprivileged user (for example: ``opscodeapp``) run the application. Most often, this is the solution that works best"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:12
# ec6582e3d13f42348186cf2d0b8b0d8d
msgid "When using the ``deploy_revision`` provider, and when the deploy fails for any reason, and when the same code is used to re-deploy, the action should be set manually to ``:force_deploy``. Forcing the re-deploy will remove the old release directory, after which the deploy can proceed as usual. (Forcing a re-deploy over the current release can cause some downtime.) Deployed revisions are stored in ``(file_cache_path)/revision-deploys/(deploy_path)``."
msgstr ""

#: ../source/resource_deploy.rst:65
# a5ebc2bb235447c1b37a03381dc505d1
msgid "timestamped_deploy"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_timestamped_deploy.rst:4
# 4fe6e82c3cc44f20b24892be2c99ccaa
msgid "The ``timestamped_deploy`` provider is the default |resource deploy| provider. It is used to name release directories with a timestamp in the form of ``YYYYMMDDHHMMSS``. For example: ``/my/deploy/dir/releases/20121120162342``. The |resource deploy| resource will determine whether or not to deploy code based on the existence of the release directory in which it is attempting to deploy. Because the timestamp is different for every |chef client| run, the ``timestamped_deploy`` provider is not idempotent. When the ``timestamped_deploy`` provider is used, it requires that the action setting on a resource be managed manually in order to prevent unintended continuous deployment."
msgstr ""

#: ../source/resource_deploy.rst:69
# 05b6c4c98b7549548d1ef812d87b672a
msgid "Examples"
msgstr ""

#: ../source/resource_deploy.rst:70
# efe17ae8a35d43b6891486d66013af59
msgid "|generic resource statement|"
msgstr ""

#: ../source/resource_deploy.rst:72
# 97f31dda37174b70819a3dde5c12508f
msgid "**Modify the layout of a Ruby on Rails application**"
msgstr ""

#: ../../step_resource/step_resource_deploy_custom_application_layout.rst:3
# 6657988e873e4fc181f54658eac62a62
msgid "The layout of the |resource deploy| resource matches a |ruby on rails| app by default, but this can be customized. To customize the layout, do something like the following:"
msgstr ""

#: ../source/resource_deploy.rst:76
# 6397690cb26541cda264bc2d126461c0
msgid "**Use resources within callbacks**"
msgstr ""

#: ../../step_resource/step_resource_deploy_embedded_recipes_for_callbacks.rst:3
# 5987d670fdb34f9192fb88f4047d3ec5
msgid "Using resources from within your callbacks as blocks or within callback files distributed with your application's source code. To use embedded recipes for callbacks:"
msgstr ""

#: ../source/resource_deploy.rst:80
# 179bc650dd6d43a4a0901284bc6b6b0a
msgid "**Deploy from a private git repository without using the application cookbook**"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:3
# 3488900181704aa693ce01f4c9b630b7
msgid "To deploy from a private |git| repository without using the |cookbook application| cookbook, first ensure that:"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:5
# 87d5cd8b2cfb4130b2f243d79316bdf0
msgid "the private key does not have a passphrase, as this will pause a |chef client| run to wait for input"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:6
# c35837bb8f6443c8b382beed0e1df44e
msgid "an |ssh| wrapper is being used"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:7
# 986bc98985ca4eafbb6e8fdc5b4648ed
msgid "a private key has been added to the node"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:9
# 9d534c5dd19249ca9878efd680fc21ad
msgid "and then use code like the following to remove a passphrase from a private key:"
msgstr ""

#: ../source/resource_deploy.rst:84
# 7d714db230f7479a96d7f8c1f8257c05
msgid "**Use an SSH wrapper**"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:3
# 36aff923760a430da3fc5c42290a2089
msgid "To write a recipe that uses an |ssh| wrapper:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:5
# d7aa1253d191468db63efdf5c4a8d1f4
msgid "Create a file in the ``cookbooks/COOKBOOK_NAME/files/default`` directory that is named ``wrap-ssh4git.sh`` and which contains the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:12
# a294c80eeb2e40e09d5da593e51c3d86
msgid "Set up the cookbook file."
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:13
# 4338e3f37b664fddb95baeb7cca2b9db
msgid "Add a recipe to the cookbook file similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:36
# 14c2e12bb5a4480bbc454ebf005783b4
msgid "This will deploy the |git| repository at ``git@github.com:acctname/private-repo.git`` in the ``/tmp/private_code`` directory."
msgstr ""

#: ../source/resource_deploy.rst:88
# 6d0c4cb7be144de883f7336bace55106
msgid "**Use a callback to include a file that will be passed as a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:3
# cd866e4c4a1b459e8da4f4c5e030f5aa
msgid "The code in a file that is included in a recipe using a callback is evaluated exactly as if the code had been put in the recipe as a block. Files are searched relative to the current release."
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:5
# 33b2d80e1fd34b4686984b737e160573
msgid "To specify a file that contains code to be used as a block:"
msgstr ""

#: ../source/resource_deploy.rst:92
# ae57eca739b442b3956a922e873fe8bf
msgid "**Use a callback to pass a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_pass_python.rst:3
# c24d0848046543f8ac83c0ca4c192f68
msgid "To pass a block of |python| code before a migration is run:"
msgstr ""

#: ../source/resource_deploy.rst:96
# 7904da9cc36c4239b80106ccfdeac132
msgid "**Use the same API for all recipes using the same gem**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_same_api_as_gitdeploy_gems.rst:3
# 844f3eb0638a4073998e4bc42997655f
msgid "Any recipes using the ``git-deploy`` |gem| can continue using the same API. To include this behavior in a recipe, do something like the following:"
msgstr ""

#: ../source/resource_deploy.rst:100
# 7eacfffabffa4cad8dc136814a17f674
msgid "**Deploy without creating symbolic links to a shared folder**"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:3
# 4414427888194fa3a84f0e56c5961635
msgid "To deploy without creating symbolic links to a shared folder:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:11
# 97d333f37392457bb9554af32f592d5b
msgid "When deploying code that is not |ruby on rails| and symbolic links to a shared folder are not wanted, use parentheses ``()`` or ``Hash.new`` to avoid ambiguity. For example, using parentheses:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:19
# 1684ffcab8b44f88933ccaa210cf0e1c
msgid "or using ``Hash.new``:"
msgstr ""

#: ../source/resource_deploy.rst:104
# 8eca2e6d760c4e0ea7b8ece5bc44ed08
msgid "**Clear a layout modifier attribute**"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:3
# 4f88daa3fc04483ba0c997e911386e49
msgid "Using the default attribute values for the various resources is the recommended starting point when working with recipes. Then, depending on what each node requires, these default values can be overridden with node-, role-, environment-, and cookbook-specific values. The |resource deploy| resource has four layout modifiers: ``create_dirs_before_symlink``, ``purge_before_symlink``, ``symlink_before_migrate``, and ``symlinks``. Each of these is a |ruby| |hash| that behaves as an attribute of the |resource deploy| resource. When these layout modifiers are used in a recipe, they appear similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:19
# aaf3ac6332164e50843516a1db9a4b51
msgid "and then what these layout modifiers look like if they were empty:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:32
# b2db30a5b59245e1802eec6efc2dde1c
msgid "In most cases, using the empty values for the layout modifiers will prevent the |chef client| from passing symbolic linking information to a node during the |chef client| run. However, in some cases, it may be preferable to ensure that one (or more) of these layout modifiers do not pass any symbolic linking information to a node during the |chef client| run at all. Because each of these layout modifiers are a hash, the ``clear`` instance method can be used to clear out these values."
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:34
# 63a2072b90e4412499157cf1a8df6e6a
msgid "To clear the default values for a layout modifier:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:47
# a156a9b7cb5246ccabc41c5ec5c4b050
msgid "In general, use this approach carefully and only after it is determined that nil or empty values won't provide the expected result."
msgstr ""

