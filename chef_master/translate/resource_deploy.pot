# SOME DESCRIPTIVE TITLE.
# Copyright (C) This work is licensed under a Creative Commons Attribution 3.0 Unported License
# This file is distributed under the same license as the Chef Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Chef Docs 0.0.1\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2013-05-06 11:34\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/resource_deploy.rst:34
# 11779ff3cdf14e5a85612dd7c41923b4
msgid "deploy"
msgstr ""

#: ../../includes_resources/includes_resource_generic.rst:4
# c57ddee252154bb1b1bacf1cca5c444b
msgid "A `resource <http://docs.opscode.com/resource.html>`_ is a key part of a `recipe <http://docs.opscode.com/essentials_cookbook_recipes.html>`_ that defines the actions that can be taken against a piece of the system. These actions are identified during each `Chef run <http://docs.opscode.com/essentials_nodes_chef_run.html>`_ as the resource collection is compiled. Once identified, each resource (in turn) is mapped to a provider, which then configures each piece of the system."
msgstr ""

#: ../../includes_resources/includes_resource_deploy.rst:4
# 838755e61b7346db90ddb907a18fd6de
msgid "|resource desc deploy| It is one of the most popular resources available in |chef| and is also the most complex, having the most attributes, multiple providers, the added complexity of callbacks, plus four attributes that support layout modifications from within a recipe."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano.rst:4
# 6e7eea996f4147579576589255b2d156
msgid "The |resource deploy| resource is modeled after |capistrano|, a utility and framework for executing commands in parallel on multiple remote machines via |ssh|. The |resource deploy| resource in |chef| is designed to behave in a way that is similar to the ``deploy`` and ``deploy:migration`` tasks in |capistrano|."
msgstr ""

#: ../source/resource_deploy.rst:43
# 4e0cf51285594a92a108a61435cdc9c9
msgid "Syntax"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:4
# 7051fd29c2944b14a7154ec28004c297
msgid "The syntax for using the |resource deploy| resource in a recipe is as follows:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:21
# 376311b4fde34f35becaa69095e88668
msgid "where"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:23
# f73248550ebe455e935400fccfe070f5
msgid "``deploy`` tells |chef| to use either the ``Chef::Provider::Deploy::Revision`` or ``Chef::Provider::Deploy::Timestamped`` provider during the |chef| run. More specific short names---``timestamped_deploy``, ``deploy_revision``, or ``deploy_branch``---can be used instead of the ``deploy`` short name."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:24
# e85a3e3599a141258a83d351de7758ff
msgid "``\"name\"`` is the path to the location in which the deployment steps will occur"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:25
# 40609d10047e46f29d03eb188fa105aa
msgid "``attribute`` is zero (or more) of the attributes that are available for this resource"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:26
# 95b09d4443fb4ba5870c881a878aec6e
msgid "``callback`` represents additional |ruby| code that is used to pass a block or to specify a file, and then provide additional information to |chef| at specific times during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:27
# 01abbf9b5536412db201f0a6676be252
msgid "``purge_before_symlink``, ``create_dirs_before_symlink``, and ``symlink`` are attributes that are used to link configuration files, remove directories, create directories, or map files and directories during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:28
# d13cd89bc75c4441a5b25c1d92f15741
msgid "``:action`` is the step that the resource will ask the provider to take during the |chef| run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:30
# ae26ea07a2da483da6e08a8cbb15a36d
msgid "The following is an example of how the ``deploy_revision`` resource can work when used in a recipe. In this example, an application will be deployed to a folder named \"/path/to/application\":"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:51
# 762a6851491a45019d2556edded550a6
msgid "For the example shown above:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:53
# d468c744347b4713a6c877b9e37d9296
msgid "Because an action is not explicitly specified, |chef| will use the default action: ``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:54
# d6f0235fd60140498cfd983817fd3d95
msgid "The ``purge_before_symlink`` application layout is an array of paths that will be cleared before the ``symlinks`` attribute is run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:55
# e07ff6e1ea9543dfb5a9327b38cd5a92
msgid "The ``create_dirs_before_symlink`` attribute is empty, which is different from the default"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:56
# 799ef73ad1cb44de8b2657f36499a90f
msgid "The ``symlinks`` attribute is creating three symbolic links"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:57
# 2e8470e9a4734d379d32449ed1e63031
msgid "The ``before_restart`` callback is being used to add custom actions that will occur at the end of the deployment process, but before any services have been notified"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:58
# ace9faeffc144468a4fdca4c6cbeeea2
msgid "At the end, the recipe is using the ``notifies`` attribute---a common attribute available to all resources in |chef|---to alert two services (named \"foo\" and \"bar\") that they should restart."
msgstr ""

#: ../source/resource_deploy.rst:47
# b35692a873af45838351bddd253bc81e
msgid "Deploy Strategies"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:4
# 3f854d8f13a8407fadd17e16d3bf9f73
msgid "In the ``deploy`` directory, a sub-directory named ``shared`` must be created. This sub-directory is where configuration and temporary files will be kept. A typical |ruby on rails| application will have ``config``, ``log``, ``pids``, and ``system`` directories within the ``shared`` directory to keep the files stored there independent of the code in the source repository."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:6
# b4e9e01ff98941dab24c0470912dac06
msgid "In addition to the ``shared`` sub-directory, the deploy process will create sub-directories named ``releases`` and ``current`` (also in the ``deploy`` directory). The ``release`` directory holds (up to) five most recently deployed versions of an application. The ``current`` directory holds the currently-released version."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:8
# 9100aa6287d94c7f81c2b0f9d3a2281e
msgid "For example::"
msgstr ""

#: ../source/resource_deploy.rst:51
# 75003a2335bc457a8afd7fa001299f01
msgid "Deploy Phases"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:4
# 57d2c377770247818658257f4e1f57ec
msgid "A deployment happens in four phases:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:6
# 17d5a6977e1b48d7b149868aac815036
msgid "**Checkout**---|chef| uses the |resource scm| resource to get the specified application revision, placing a clone or checkout in the sub-directory of the ``deploy`` directory named ``cached-copy``. A copy of the application is then placed in a sub-directory under ``releases``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:7
# f51021d1dc454cda83e0145597b88d80
msgid "**Migrate**---If a migration is to be run, |chef| symlinks the database configuration file into the checkout (``config/database.yml`` by default) and runs the migration command. For a |ruby on rails| application, the ``migration_command`` is usually set to ``rake db:migrate``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:8
# efc4f6baab70480dbea5db5f3619353b
msgid "**Symlink**---Directories for shared and temporary files are removed from the checkout (``log``, ``tmp/pids``, and ``public/system`` by default). After this step, any needed directories (``tmp``, ``public``, and ``config`` by default) are created if they don't already exist. This step is completed by symlinking shared directories into the current ``release``, ``public/system``, ``tmp/pids``, and ``log`` directories, and then symlinking the ``release`` directory to ``current``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:9
# 2ea9e82f5c924e7c971918d33c3f0e8a
msgid "**Restart**---The application is restarted according to the restart command set in the recipe."
msgstr ""

#: ../source/resource_deploy.rst:55
# 2691c1b3c94a43a6bb6b4fa52b582e60
msgid "Deploy Cache File"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_start_over.rst:4
# 49234cabd51e458791c55c57dffd9c38
msgid "|chef| uses a cache file to keep track of the order in which each revision of an application is deployed. If a re-deployment must be forced---by deleting the deployed code from a node, for example---the cache file must be deleted as well. The cache file is located in the default configuration at |path chef deploy cache file|."
msgstr ""

#: ../source/resource_deploy.rst:59
# e0866ccab20848b4aa24aacd490136c5
msgid "Callbacks"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:4
# 33dbda5c746b4159a3ec15dcc7d25feb
msgid "In-between each step in a deployment process, callbacks can be run using arbitrary |ruby| code, including recipes. All callbacks support embedded recipes given in a block, but each callback assumes a shell command (instead of a deploy hook filename) when given a string."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:6
# 199420b1ceeb4789b781eef59d26b69f
msgid "The following callback types are available:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:12
# 655bcc8ae99c43e5bcc7d73034e5752d
msgid "Callback"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:13
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:11
#: ../../includes_resources/includes_resource_deploy_actions.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:66
#: ../../includes_resources/includes_resource_deploy_attributes.rst:85
# 744ebec65633438a817e62a15a2ee593
# 90dac0d8075e437ea675412f30bd6071
# 7e2bdc2a8e25495584eae943c64d4761
# 7d259e9c2d1e443e800da078ed80ddfc
# 0ba2ef015010405ab6ab0e284792a13a
# c07b8af9a2954badbf33a69c51576260
msgid "Description"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:12
# 62548efde286402e8860cb5c0cea8ad2
# 2b18a3293fb44b8ca3a0711267ec3789
msgid "``after_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:15
#: ../../includes_resources/includes_resource_deploy_attributes.rst:13
# ece3964c3409452dafa5de9561a98f0f
# 0e90c9958faa45a1bc57c2e1f986530c
msgid "|after_restart| Default value: ``deploy/after_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:14
# f76b7140f3da4fac9d43a64291c50b6e
# 6907fcdd095c4cf3bbf10deb2baf4abc
msgid "``before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:17
#: ../../includes_resources/includes_resource_deploy_attributes.rst:15
# ec5aba1e8f4e41b3a8c63a0c1b79e26b
# 30482254919945f5af471ccc3a6172a6
msgid "|before_migrate| Default value: ``deploy/before_migrate.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:16
# 8b5548c1740246b287b4e92527ee7840
# 7b7677250336468b808e9a14614b7695
msgid "``before_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:19
#: ../../includes_resources/includes_resource_deploy_attributes.rst:17
# fca21ab2c8ea4f2181416d1b4b50d77f
# d603d93674634cf9bbab3c545896efaf
msgid "|before_restart| Default value: ``deploy/before_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:20
#: ../../includes_resources/includes_resource_deploy_attributes.rst:18
# 2f8321bc5d3245cd9f805f5290771ac8
# b6d52023165b45af969fcf96c95c9a4a
msgid "``before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:21
#: ../../includes_resources/includes_resource_deploy_attributes.rst:19
# 5d2ca20df6fb46a5bf08e7ad83c74bae
# 7708ca7ddd6a4e8099cb481bf8ad976b
msgid "|before_symlink| Default value: ``deploy/before_symlink.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:23
# 859e6e18e1594619baccadf69947d1bf
msgid "Each of these callback types can be used in one of three ways:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:25
# e7541af20fa246cb9d5aa0455abea3b3
msgid "To pass a block of code, such as |ruby| or |python|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:26
# acd1fccbd9294873990c9adc8605eeb4
msgid "To specify a file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:27
# 70791e8231044c9a99dd1b688252f0e6
msgid "To do neither; |chef| will look for a callback file named after one of the callback types (``before_migrate.rb``, for example) and if the file exists, to evaluate it as if it were a specified file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:29
# b6de731ee4644d5b8542f07c7d68276e
msgid "Within a callback, there are two ways to get access to information about the deployment:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:31
# 99c244750f6940cd81411dd8c3ff54ba
msgid "``release_path`` can be used to get the path to the current release"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:32
# bafa69c4b8ba46a0a2950ffdfcd79fe4
msgid "``new_resource`` can be used to access the deploy resource, including environment variables that have been set there (using ``new_resource`` is a preferred approach over using the ``@configuration`` variable)"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:34
# 6e0e65c2f4c648488e198ef338c7d917
msgid "Both of these options must be available at the top-level within the callback, along with any assigned values that will be used later in the callback."
msgstr ""

#: ../source/resource_deploy.rst:62
# 11026fdd5f5a411e8c0b3f517b2cc343
msgid "**Callbacks and Capistrano**"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:5
# 0b2b9fcc84834d6e850caf1ae3130659
msgid "If you are familiar with |capistrano|, the following examples should help you know when to use the various callbacks that are available in |chef|. If you are not familiar with |capistrano|, then follow the semantic names of these callbacks to help you determine when to use each of the callbacks within a recipe that is built with the |resource deploy| resource."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:7
# ad80f0fab77f481c841a7febfdc3b9e9
msgid "The following example shows where callbacks in |chef| fit in relation to the steps taken by the ``deploy`` process in |capistrano|:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:11
# 599b777a451a452b83eff9f2ce444025
msgid "and the following example shows the same comparison, but with the ``deploy:migrations`` process:"
msgstr ""

#: ../source/resource_deploy.rst:67
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:10
# f42255328dda4a379cb1743d059bfde1
# a4d332e20b314248aa9df55cbb3111f3
msgid "Layout Modifiers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:4
# dfbf1614ce9d4ea687c75c44a119e6b7
msgid "The |resource deploy| resource expects an application to be structured like a |ruby on rails| application, but the layout can be modified to meet custom requirements as needed. Use the following attributes within a recipe to modify the layout of a recipe that is using the |resource deploy| resource:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:12
#: ../../includes_resources/includes_resource_deploy_attributes.rst:22
# a29c8849af4945d69fa61269e6947a14
# 24b8c5b8ce394b1da1e39383eda61379
msgid "``create_dirs_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:13
#: ../../includes_resources/includes_resource_deploy_attributes.rst:23
# 1fcf6e447ecd45b4b754fdd04df6417a
# d75f9a6122be421d9ac980645d90d538
msgid "|create_dirs_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:36
# 045f0f12bd7648bcbbb522b572e94db5
# 61eb6ad57e6d400792bc73638fc91733
msgid "``purge_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:15
#: ../../includes_resources/includes_resource_deploy_attributes.rst:37
# e237960687da44b8b1fc48b750dc883e
# 1abc1df628dd462db67c95fb58bff4a9
msgid "|purge_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:54
# c3e9d374ed88438586866edbf139284f
# faf4f43ecc6347b68d6f4308bb61110c
msgid "``symlink_before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:17
#: ../../includes_resources/includes_resource_deploy_attributes.rst:55
# 5c9dcf4c460446ce9136fe09dccee25f
# 302c627c54ec48dba3c7db6da6ce24a5
msgid "|symlink_before_migrate|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:52
# d8451a1039f945eb8daf89991da459f8
# 83d823f38ddb40d5bedb674de7e3803c
msgid "``symlinks``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:19
#: ../../includes_resources/includes_resource_deploy_attributes.rst:53
# c0ff69bcceda4b2b97851c4d91b4a4b3
# afc75ab8e34d4cdeac102445c3b0276c
msgid "|symlinks|"
msgstr ""

#: ../source/resource_deploy.rst:71
# d2cafb58ac6e4d439465cfa9900b490d
msgid "Actions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:4
# 00bd41d996b342eda8193df8468fea6d
msgid "This resource has the following actions:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:10
# 1669466c69bc4a5fbd1fa2819f46905e
msgid "Action"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:12
# 707a7de3dc00446f836b0bac2fa6a179
msgid "``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:13
# c7809dbe264644c680c08c8ccb187d63
msgid "Default. |resource action deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:14
# eb6c546f5029406f88e625718eb2c31c
msgid "``:force_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:15
# 55148c94ff50411dbff7e536b744da1f
msgid "|resource action force_deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:16
# 321eb2e70d384f94b85c0f48c6d3b61f
msgid "``:rollback``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:17
# 0d493375a86349529cce4babb8b64d6a
msgid "|resource action rollback deploy|"
msgstr ""

#: ../source/resource_deploy.rst:75
# 70c3b0b24a0646adb33d833f94870348
msgid "Attributes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:4
# ea50a3da45de42d6ab70fcc4b0ddc976
msgid "This resource has the following attributes:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:10
#: ../../includes_resources/includes_resource_deploy_attributes.rst:65
#: ../../includes_resources/includes_resource_deploy_attributes.rst:84
# eb083cce4fa24135a1882f65ff843230
# d7202d47f4ab410bb42f96d95bb921ec
# 42df10d23d154f1cbff058a5282eaeea
msgid "Attribute"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:20
# 7b646d595e624a198403c0089ea56eda
msgid "``branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:21
# 833d5b38c6a947579c7252f2d91e6e45
msgid "The alias for the revision."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:24
# ebed6f9dac3d4c93a63a903834e2222d
msgid "``deploy_to``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:25
# f489782296894f21964c2e6260af5fa0
msgid "|deploy_to|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:26
# 4a3027d6022441889c8c0d0029c76e91
msgid "``environment``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:27
# 656a360acf014e86a7099008fe406f6d
msgid "|environment resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:28
# fc1ff557a524426ab05c64f5b73a9fbc
msgid "``group``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:29
# 09ecc2a04ace4ef68cdb85fc85e531e5
msgid "|group resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:30
# 4f68750bde934b82983f6075a31ac070
msgid "``keep_releases``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:31
# 83183d99365a45c9a6262a0a25d0730d
msgid "|keep_releases resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:32
# 3d6cc9442b3c4f3c9ceb825db21aa0b5
msgid "``migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:33
# cdb0305f7f024ae3a0ca4d3639d2ea9b
msgid "|migrate resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:34
# 0ef329b920524d64a5aa2114710f7840
msgid "``migration_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:35
# c8a0260759ef4b32ab3bf62619142ac2
msgid "|migration_command resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:38
# 2709a701caf949b7af6f6d32e1b48927
msgid "``repo``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:39
# aed182f326d042b8aed790422d5024bf
msgid "|repo resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:40
# 7149c1d9f48e4b4780e8d67d51b4effb
msgid "``repository``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:41
# 65c61be97b334035b9b0e2a659110196
msgid "|repository resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:42
# 520f90980cd549edbc87bd27e2ea4c5a
msgid "``repository_cache``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:43
# efdab973afa3427f92224df855aa8a8d
msgid "|repository_cache resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:44
# ef7d9c4cb1d04ae88b35827326cebcb8
msgid "``restart_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:45
# 8cc37c6465824ed483978f2df035263e
msgid "|restart_command resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:46
# 51c6f39790394daf85ce26a8bb3e4f5e
msgid "``revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:47
# e00ded67ccdc47ac8d3005995ecf2f8d
msgid "|revision resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:48
# a24b8dc020de4f18a73fc584da479d72
msgid "``rollback_on_error``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:49
# 461e52c6d1944338ad6a205455bbf596
msgid "|rollback_on_error resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:50
# ea75348b990242a0a1cf61a7e1089c2a
msgid "``scm_provider``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:51
# 09d9565652224939a92b72764d587c72
msgid "|scm_provider resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:56
# c9076262175c438e8f6fd46894234e08
msgid "``user``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:57
# 6751497ccf2947398d3b30f0c73c07ef
msgid "|user resource deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:59
# 053661bd7f67402caa5b0659b8b4afe6
msgid "The following attributes are for use with |git| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:67
# b66712ecedfe42d3908997817f129107
msgid "``enable_submodules``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:68
# 7c0cac1fda1146698d2ca5ebb4599bf3
msgid "|enable_submodules resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:69
# fe817ee6e3bb49fc996dce593762469e
msgid "``git_ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:70
# 3df884e8779f4e0c96b917d522e4d8e8
msgid "|git_ssh_wrapper|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:71
# 0257000f63ad4da09a8e36b218709576
msgid "``remote``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:72
# 871c7b5c36284c7f9adac553e2ad56d7
msgid "|remote resource| Default value: ``origin``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:73
# 3e7187b78c3e4161b42b9b7df8269d53
msgid "``shallow_clone``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:74
# f7f1825dcc27495580da738f90afe4b3
msgid "|shallow_clone resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:75
# d72420d5f3be41209067a36d25b21108
msgid "``ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:76
# 1c4c6df7cc7d48e3836ab4c9c7c8d5ae
msgid "|ssh_wrapper resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:78
# 09a6c1164f01468996790b8c4470155f
msgid "The following attributes are for use with |svn| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:86
# 7c620bf713f9461a900e3d3105b667f7
msgid "``svn_arguments``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:87
# ea3fdb7649f64fabbf63f410781bf2e8
msgid "|svn_arguments resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:88
# 50304f52abca45cabebd7b46b717659d
msgid "``svn_password``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:89
# 592baeb83f894e728e8385483bb06ba5
msgid "|svn_password resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:90
# 891f6188094f4c2c854ce824e5a71474
msgid "``svn_username``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:91
# a9b865eba4ef4b80ad74c0d51ff1b973
msgid "|svn_username resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:93
# a6a5cf4930914ec8a9300e60100f202a
msgid "For example:"
msgstr ""

#: ../source/resource_deploy.rst:79
# 81b338c93be346b4b487f07b6ffb443d
msgid "Providers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:4
# 68fcbb6d237e45b3b55270608941935b
msgid "The |resource deploy| resource providers are used to determine whether to deploy based on whether the release directory in which the deployment is to be made actually exists. The following providers are available. Use the short name to call the provider from a recipe:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:10
# d5fe8b10aa224c0a93059682a36350e5
msgid "Long name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:11
# cc3eacab7df845b7b41a17e986d90b2d
msgid "Short name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:12
# 2c48d921568d42989cb6354090a5195d
msgid "Notes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:13
# e9a4c1d6331c4d6fbc787802d4302c20
msgid "``Chef::Provider::Deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:14
# aa643085d4e54bde9b630f593ba5c6a4
msgid "``deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:15
# 249ea7b97cff42a981e0e409cd2a5587
msgid "When this short name is used, |chef| will determine the correct provider during the |chef| run."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:16
#: ../../includes_resources/includes_resource_deploy_providers.rst:19
# a27bd187a5254f93b06c247cebe3b8a9
# 9181e71f796a4402a87d5c04d221b197
msgid "``Chef::Provider::Deploy::Revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:17
# dba90d42bf0d4261954a199b22678ae7
msgid "``deploy_branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:18
#: ../../includes_resources/includes_resource_deploy_providers.rst:21
# a04e77addc2f4f769ce03b467550a2f4
# 026fe832b6184f10b2bbe38a6b02ffab
msgid "See below for more information."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:20
# f6a680e3c07d45e2b467d5a28f3cea1d
msgid "``deploy_revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:22
# 813d7122e73b4ae5a15d67c80c234fdb
msgid "``Chef::Provider::Deploy::TimestampedDeploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:23
# 2a1503a317904edba80f1d5e9c7cac8a
msgid "``timestamped_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:24
# c5ac89a7df5f430c9144bdbf2e98d3ae
msgid "The default provider for all platforms. See below for more information."
msgstr ""

#: ../source/resource_deploy.rst:83
# 0543db15e34249b391dba03deaf825c4
msgid "deploy_branch"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_branch.rst:5
# 89a3b8da9fe44022a23831b88fdbfc5c
msgid "The ``deploy_branch`` resource is used in the same way as the ``deploy_resource`` resource. It uses the ``Deploy::Revision`` provider and has uses the same set of actions and attributes."
msgstr ""

#: ../source/resource_deploy.rst:87
# 37aa2269c346473080113f44164d21c5
msgid "deploy_revision"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:4
# 8e04097630384ac18723ee3e509db361
msgid "The ``deploy_revision`` provider is the recommended provider, even if it is not listed as the default. The ``deploy_revision`` provider is used to ensure that the name of a release sub-directory is based on a revision identifier. For users of |git|, this will be the familiar SHA checksum. For users of |svn|, it will be the integer revision number. If a name other than a revision identifier is provided---branch names, tags, and so on---|chef| will ignore the alternate names and will look up the revision identifier and use it to name the release sub-directory. When the ``deploy_revision`` provider is given an exact revision to deploy, it will behave in an idempotent manner."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:6
# b18d70fd90cb4919b6c94cd2d59434ef
msgid "The ``deploy_revision`` provider results in deployed components under the destination location that is owned by the user who runs the application. This is sometimes an issue for certain workflows. If issues arise, consider the following:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:8
# 3f2431e1202f4967b7cddbd86684e2b4
msgid "Incorporate changing permissions to the desired end state from within a recipe"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:9
# 8959c192fa82455db5764969a17fae78
msgid "Add a ``before_restart`` block to fix up the permissions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:10
# c7ad7de792a04f85961e2835eb11df16
msgid "Have an unprivileged user (for example: ``opscode``) be the owner of the ``deploy`` directory and another unprivileged user (for example: ``opscodeapp``) run the application. Most often, this is the solution that works best"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:12
# 3d4e8adf3fe1401ba35293688de49cef
msgid "When using the ``deploy_revision`` provider, and when the deploy fails for any reason, and when the same code is used to re-deploy, the action should be set manually to ``:force_deploy``. Forcing the re-deploy will remove the old release directory, after which the deploy can proceed as usual. (Forcing a re-deploy over the current release can cause some downtime.) Deployed revisions are stored in ``(file_cache_path)/revision-deploys/(deploy_path)``."
msgstr ""

#: ../source/resource_deploy.rst:91
# fe56cce135b9468fb3fb6d8080f7821a
msgid "timestamped_deploy"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_timestamped_deploy.rst:4
# 501064ca35f543cca469b7bcbe460ffb
msgid "The ``timestamped_deploy`` provider is the default |resource deploy| provider. It is used to name release directories with a timestamp in the form of ``YYYYMMDDHHMMSS``. For example: ``/my/deploy/dir/releases/20121120162342``. The |resource deploy| resource will determine whether or not to deploy code based on the existence of the release directory in which it is attempting to deploy. Because the timestamp is different for every |chef| run, the ``timestamped_deploy`` provider is not idempotent. When the ``timestamped_deploy`` provider is used, it requires that the action setting on a resource be managed manually in order to prevent unintended continuous deployment."
msgstr ""

#: ../source/resource_deploy.rst:95
# 71746ff3c9c14a098ddd222c123d74d2
msgid "Examples"
msgstr ""

#: ../source/resource_deploy.rst:96
# 721826380c854b3c959ab9ba2887fb5d
msgid "|generic resource statement|"
msgstr ""

#: ../source/resource_deploy.rst:98
# 33ab7a7e4a74430dbdef46c866bb09fe
msgid "**Modify the layout of a Ruby on Rails application**"
msgstr ""

#: ../../step_resource/step_resource_deploy_custom_application_layout.rst:3
# 946180341aa341de90adf2866f44b9d6
msgid "The layout of the application matches a Rails app by default, but you can customize it to fit your needs. To customize the application layout:"
msgstr ""

#: ../source/resource_deploy.rst:102
# c2063c81d9d2423383c3ab439ab7bcd5
msgid "**Use resources within callbacks**"
msgstr ""

#: ../../step_resource/step_resource_deploy_embedded_recipes_for_callbacks.rst:3
# 99c99d69ea04436d9be7790d5c1c51bc
msgid "Using resources from within your callbacks as blocks or within callback files distributed with your application's source code. To use embedded recipes for callbacks:"
msgstr ""

#: ../source/resource_deploy.rst:106
# ad316b0811574ed885fc251b3d035864
msgid "**Deploy from a private git repository without using the application cookbook**"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:3
# 5206a55593f44d9a8d2e8ce8fdba74e3
msgid "To deploy from a private |git| repository without using the application cookbook, first ensure that:"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:5
# a4123fbd95f0451a8a6f678e3c8064c2
msgid "the private key does not have a passphrase, as this will pause a |chef| run to wait for input"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:6
# 625195c8617b46bf844d9d1b186f6852
msgid "an |ssh| wrapper is being used"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:7
# 138eb158b8e24552a091775c6b9493a9
msgid "a private key has been added to the node"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:9
# 87f581ef15654e8dabefb7094d319d5c
msgid "and then use code like the following to remove a passphrase from a private key:"
msgstr ""

#: ../source/resource_deploy.rst:110
# 212377f3ebf04c9bb29fedec543210aa
msgid "**Use an SSH wrapper**"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:3
# 551ed164c6504410b19a68a5ccc844d6
msgid "To write a recipe that uses an |ssh| wrapper:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:5
# 848616ff221f4d3599db650301b2e7c5
msgid "Create a file in the ``cookbooks/COOKBOOK_NAME/files/default`` directory that is named ``wrap-ssh4git.sh`` and which contains the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:12
# 248b01841fa641338b0d862f3a1fcc3b
msgid "Set up the cookbook file."
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:13
# 3e8a15fe57754320b544660cc3638341
msgid "Add a recipe to the cookbook file similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:36
# 3132430154874ddaa9d3e27eff87452e
msgid "This will deploy the |git| repository at ``git@github.com:acctname/private-repo.git`` in the ``/tmp/private_code`` directory."
msgstr ""

#: ../source/resource_deploy.rst:114
# 0d837660da26409cb931ec54720148cb
msgid "**Use a callback to include a file that will be passed as a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:3
# 9baa3b159e414ddcadcb5d7d13990094
msgid "The code in a file that is included in a recipe using a callback is evaluated exactly as if the code had been put in the recipe as a block. Files are searched relative to the current release."
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:5
# 66681415c49e4427b2fa3bcfa96da6fa
msgid "To specify a file that contains code to be used as a block:"
msgstr ""

#: ../source/resource_deploy.rst:118
# 6cf7c80b8aec43659c4490aaa7a2ce75
msgid "**Use a callback to pass a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_pass_python.rst:3
# b2342e1e40114c029d8a9063d8f0319a
msgid "To pass a block of |python| code before a migration is run:"
msgstr ""

#: ../source/resource_deploy.rst:122
# d7dc340298ab4a7b909ed81aa8ee6d15
msgid "**Use the same API for all recipes using the same gem**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_same_api_as_gitdeploy_gems.rst:3
# bfbb3dec0ae549d4815f4fbc30081cd5
msgid "Any recipes using the ``git-deploy`` |gem| can continue using the same API. To include this behavior in a recipe, do something like the following:"
msgstr ""

#: ../source/resource_deploy.rst:126
# 228610ac4c814958b163823c0436ca46
msgid "**Deploy without creating symbolic links to a shared folder**"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:3
# 1811076b62c542f9aadeea2c30796dbc
msgid "To deploy without creating symbolic links to a shared folder:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:11
# d672ee22978347e49ecea9f6ac720af3
msgid "When deploying code that is not |ruby on rails| and symbolic links to a shared folder are not wanted, use parentheses () or ``Hash.new`` to avoid ambiguity. For example, using parentheses:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:19
# 1613188d75b444a0aed46be189fc0b8b
msgid "or using ``Hash.new``:"
msgstr ""

#: ../source/resource_deploy.rst:130
# 37d4350bace34730a6bcc81a9af1e59b
msgid "**Clear a layout modifier attribute**"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:3
# 3f56c4adae6c461d89d48255d2c7a99a
msgid "Using the default attribute values that |chef| provides is the recommended baseline when working with recipes. Then, depending on what each node requires, these default values can be overridden with node-, role-, environment-, and cookbook-specific values. The |resource deploy| resource has four layout modifiers: ``create_dirs_before_symlink``, ``purge_before_symlink``, ``symlink_before_migrate``, and ``symlinks``. These are |ruby| hashes that behave as attributes of the |resource deploy| resource. When these layout modifiers are used in a recipe, they appear similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:19
# 314e3db24c3a4afeb17a95a6d9d2fc96
msgid "and then what these layout modifiers look like if they were empty:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:32
# 2547b67ba7014a2ab1fed79cbf3a62ab
msgid "In most cases, using the empty values for the layout modifiers will prevent |chef| from passing symbolic linking information to a node during the |chef| run. However, in some cases, it may be preferable to ensure that one (or more) of these layout modifiers do not pass any symbolic linking information to a node during the |chef| run at all. Because each of these layout modifiers are a hash, the ``clear`` instance method can be used to clear out these values."
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:34
# 1da0131e784944fb8232920831ab2c97
msgid "To clear the default values for a layout modifier:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:47
# c2155c366fcb484db1c1c0cada7b29b9
msgid "In general, use this approach carefully and only after it is determined that nil or empty values won't provide the expected result."
msgstr ""

