# SOME DESCRIPTIVE TITLE.
# Copyright (C) This work is licensed under a Creative Commons Attribution 3.0 Unported License
# This file is distributed under the same license as the Chef Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Chef Docs \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2013-12-02 11:38\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../source/resource_deploy.rst:33
# 9d74881ced6b40dc909d4b618d8da026
msgid "deploy"
msgstr ""

#: ../../includes_resources/includes_resource_generic.rst:4
# dc43c066674745c1a66bfe171f99f823
msgid "A `resource <http://docs.opscode.com/resource.html>`_ is a key part of a `recipe <http://docs.opscode.com/essentials_cookbook_recipes.html>`_ that defines the actions that can be taken against a piece of the system. These actions are identified during each `chef-client run <http://docs.opscode.com/essentials_nodes_chef_run.html>`_ as the resource collection is compiled. Once identified, each resource (in turn) is mapped to a provider, which then configures each piece of the system."
msgstr ""

#: ../../includes_resources/includes_resource_deploy.rst:4
# f88a969909a04232b4eb8b91933ddd54
msgid "The |resource deploy| resource is used to manage and control deployments. This is a popular resource, but is also complex, having the most attributes, multiple providers, the added complexity of callbacks, plus four attributes that support layout modifications from within a recipe."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano.rst:4
# b744b74f73cf416eb890ba0c42c6534b
msgid "The |resource deploy| resource is modeled after |capistrano|, a utility and framework for executing commands in parallel on multiple remote machines via |ssh|. The |resource deploy| resource is designed to behave in a way that is similar to the ``deploy`` and ``deploy:migration`` tasks in |capistrano|."
msgstr ""

#: ../source/resource_deploy.rst:42
# 81f956030c84493c819e049fb18c6b86
msgid "Syntax"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:4
# a99d8c9325104c3f915793247a40d888
msgid "The syntax for using the |resource deploy| resource in a recipe is as follows:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:21
# 49689d9212b7415b9dc1bd4de2f6377e
msgid "where"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:23
# 5b4f4e2db82d40fe9c3f96ce6c6ce787
msgid "``deploy`` tells the |chef client| to use either the ``Chef::Provider::Deploy::Revision`` or ``Chef::Provider::Deploy::Timestamped`` provider during the |chef client| run. More specific short names---``timestamped_deploy``, ``deploy_revision``, or ``deploy_branch``---can be used instead of the ``deploy`` short name."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:24
# 68fa5131e1534b61892b56a93c6713c8
msgid "``name`` is the name of the resource block; when the ``deploy_to`` attribute is not specified as part of a recipe, ``name`` is also the location in which the deployment steps will occur"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:25
# 69f9752f8caa4bebac2623ff1aeb20fe
msgid "``attribute`` is zero (or more) of the attributes that are available for this resource"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:26
# 1de522b10f304140916a451903bcb774
msgid "``callback`` represents additional |ruby| code that is used to pass a block or to specify a file, and then provide additional information to the |chef client| at specific times during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:27
# 9e14cdb5263f443589e5f4f1d60c15d2
msgid "``purge_before_symlink``, ``create_dirs_before_symlink``, and ``symlink`` are attributes that are used to link configuration files, remove directories, create directories, or map files and directories during the deployment process"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:28
# f2cdab99595e4f17b6fafa4bc3e35323
msgid "``:action`` is the step that the resource will ask the provider to take during the |chef client| run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:30
# a195a81a89dd49ad94ae3b43c7bb0106
msgid "The following is an example of how the ``deploy_revision`` resource can work when used in a recipe. In this example, an application will be deployed to a folder named \"/path/to/application\":"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:51
# d00ffa13554c40fb8d8e3b9219b40f19
msgid "For the example shown above:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:53
# 12ec3cb13ebb4250928d2d5a2279bbe5
msgid "Because an action is not explicitly specified, the |chef client| will use the default action: ``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:54
# 7c647b66817447048ce13f4d3823d06f
msgid "The ``purge_before_symlink`` application layout is an array of paths that will be cleared before the ``symlinks`` attribute is run"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:55
# fc2b2879c5ca4a30aa14405697297088
msgid "The ``create_dirs_before_symlink`` attribute is empty, which is different from the default"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:56
# 0a5b777e4f684997ba54c0ddd9a0937e
msgid "The ``symlinks`` attribute is creating three symbolic links"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:57
# f7e73b8b0b5a4a3daf160a6be5a86d8b
msgid "The ``before_restart`` callback is being used to add custom actions that will occur at the end of the deployment process, but before any services have been notified"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_syntax.rst:58
# 18264230644f4d0ead77d00853357e43
msgid "At the end, the recipe is using the ``notifies`` attribute---a common attribute available to all resources---to alert two services (named \"foo\" and \"bar\") that they should restart."
msgstr ""

#: ../source/resource_deploy.rst:46
# a92375e11d7a4741b46bd281e9cc7a52
msgid "Deploy Strategies"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:4
# 89b4eac2c5794091b2534f01e0b97a9d
msgid "In the ``deploy`` directory, a sub-directory named ``shared`` must be created. This sub-directory is where configuration and temporary files will be kept. A typical |ruby on rails| application will have ``config``, ``log``, ``pids``, and ``system`` directories within the ``shared`` directory to keep the files stored there independent of the code in the source repository."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:6
# d395c17b10a848628e9fb943f2f52519
msgid "In addition to the ``shared`` sub-directory, the deploy process will create sub-directories named ``releases`` and ``current`` (also in the ``deploy`` directory). The ``release`` directory holds (up to) five most recently deployed versions of an application. The ``current`` directory holds the currently-released version."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy.rst:8
# 76078dc353a343bebc9f5841fc737ffb
msgid "For example::"
msgstr ""

#: ../source/resource_deploy.rst:50
# 7387d6db4c2d4982a231f5a8b2588976
msgid "Deploy Phases"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:4
# 4325be98274448fba973ea8e8b1f408b
msgid "A deployment happens in four phases:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:6
# 8935b8658dc24c389e15e4b89d2a383a
msgid "**Checkout**---the |chef client| uses the |resource scm| resource to get the specified application revision, placing a clone or checkout in the sub-directory of the ``deploy`` directory named ``cached-copy``. A copy of the application is then placed in a sub-directory under ``releases``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:7
# 1e1316bde9d1462fb6859ce58014cbc6
msgid "**Migrate**---If a migration is to be run, the |chef client| symlinks the database configuration file into the checkout (``config/database.yml`` by default) and runs the migration command. For a |ruby on rails| application, the ``migration_command`` is usually set to ``rake db:migrate``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:8
# f88f6ee996b84a9982786517c5217fc7
msgid "**Symlink**---Directories for shared and temporary files are removed from the checkout (``log``, ``tmp/pids``, and ``public/system`` by default). After this step, any needed directories (``tmp``, ``public``, and ``config`` by default) are created if they don't already exist. This step is completed by symlinking shared directories into the current ``release``, ``public/system``, ``tmp/pids``, and ``log`` directories, and then symlinking the ``release`` directory to ``current``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_phases.rst:9
# 6a337182063d4edd9ed1b3ad104d30c9
msgid "**Restart**---The application is restarted according to the restart command set in the recipe."
msgstr ""

#: ../source/resource_deploy.rst:54
# 80750f18973d4ac0961f3b1ec8ae19a0
msgid "Deploy Cache File"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_start_over.rst:4
# 8e37d3356688483faade46419fcb3991
msgid "The |chef client| uses a cache file to keep track of the order in which each revision of an application is deployed. By default, the cache file is located at |path chef deploy cache file|. To force a re-deploy, delete the deployment directory or delete the cache file."
msgstr ""

#: ../source/resource_deploy.rst:58
# 80bdba3f74474d5888e2303c20939ef2
msgid "Callbacks"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:4
# 30122421f3674f51a23b76e342269d42
msgid "In-between each step in a deployment process, callbacks can be run using arbitrary |ruby| code, including recipes. All callbacks support embedded recipes given in a block, but each callback assumes a shell command (instead of a deploy hook filename) when given a string."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:6
# 7912fd8237304298918df44ff8c43b02
msgid "The following callback types are available:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:12
# 62d9dee923364deca89fa4e9eabb7db1
msgid "Callback"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:13
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:11
#: ../../includes_resources/includes_resource_deploy_actions.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:11
#: ../../includes_resources/includes_resource_deploy_attributes.rst:68
#: ../../includes_resources/includes_resource_deploy_attributes.rst:87
# 8e512e8b1bfa49c5860776f116290e4a
# 484e972963b34a2b8d1f621b6c948cea
# 1d4c44001fdb422784d416855149e758
# b0a54c62fce3438f98483172933fc22f
# 24dd124221d44e98993058d2b5abcb76
# 50478f70b7d6449ab9d5e92f15bfa8e2
msgid "Description"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:12
# baff76e125714f54aca5e83ed18fa9de
# 730605a7aebb4f3caca7b8a767c82534
msgid "``after_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:15
#: ../../includes_resources/includes_resource_deploy_attributes.rst:13
# 6dd1bef526ac47fcb735ffb9c232243a
# f34fb57ce48043598b84b081550a6062
msgid "|after_restart| Default value: ``deploy/after_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:14
# 54a37d4bde374716af37a9102b385017
# 80698302a574451e827040714a88d8cf
msgid "``before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:17
#: ../../includes_resources/includes_resource_deploy_attributes.rst:15
# dcbdef1f9fe24f4e9e8487f87d4f86d5
# db65b24bde8a4dbeae57346b5d93d4ed
msgid "|before_migrate| Default value: ``deploy/before_migrate.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:16
# 9c6c124d654746918c5dfab2ab5c33eb
# 386e8bd0d0cf4cd9a112504d67ebe7d8
msgid "``before_restart``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:19
#: ../../includes_resources/includes_resource_deploy_attributes.rst:17
# ad1b5120a5054fa8890a0ade566aefd1
# 3bc0d07b3d994665bea1f051919a96b5
msgid "|before_restart| Default value: ``deploy/before_restart.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:20
#: ../../includes_resources/includes_resource_deploy_attributes.rst:18
# 5790f02dd34d4363bf711cbaa2edc691
# 2b6e11b8757a4f6b977118b8948ef337
msgid "``before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:21
#: ../../includes_resources/includes_resource_deploy_attributes.rst:19
# 28d0686024d0400caf5ed26cbcb945d5
# 3162023561d34cf39fb9079a81839bcf
msgid "|before_symlink| Default value: ``deploy/before_symlink.rb``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:23
# a1132111ae144d65a7bd30d7bec460a4
msgid "Each of these callback types can be used in one of three ways:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:25
# 4b299b93db094e01b665f5fa358dce53
msgid "To pass a block of code, such as |ruby| or |python|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:26
# c6c0947e9c9e4db2b46bd47f52e366b9
msgid "To specify a file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:27
# 5dd7fff487434bf3bd30cd8fed74fb19
msgid "To do neither; the |chef client| will look for a callback file named after one of the callback types (``before_migrate.rb``, for example) and if the file exists, to evaluate it as if it were a specified file"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:29
# fb9674351816442fb21fbc4941b8b4d4
msgid "Within a callback, there are two ways to get access to information about the deployment:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:31
# 4e524d69dc07483aa93e1b2e9164bcb0
msgid "``release_path`` can be used to get the path to the current release"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:32
# 169321d394844739a1f1f6401af4d8c0
msgid "``new_resource`` can be used to access the deploy resource, including environment variables that have been set there (using ``new_resource`` is a preferred approach over using the ``@configuration`` variable)"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_callbacks.rst:34
# c989820266d747eb8e33f42d2e4c2445
msgid "Both of these options must be available at the top-level within the callback, along with any assigned values that will be used later in the callback."
msgstr ""

#: ../source/resource_deploy.rst:61
# b49468e80f5246938019f4ab34c35391
msgid "**Callbacks and Capistrano**"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:5
# cf82402a8a954c16b1b47a2f4a72a2a2
msgid "If you are familiar with |capistrano|, the following examples should help you know when to use the various callbacks that are available. If you are not familiar with |capistrano|, then follow the semantic names of these callbacks to help you determine when to use each of the callbacks within a recipe that is built with the |resource deploy| resource."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:7
# a5836bd6268f444ea09aa9ad2ca24e63
msgid "The following example shows where callbacks fit in relation to the steps taken by the ``deploy`` process in |capistrano|:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_capistrano_callbacks.rst:11
# 693ac4862ff049e39e44081a121cbcde
msgid "and the following example shows the same comparison, but with the ``deploy:migrations`` process:"
msgstr ""

#: ../source/resource_deploy.rst:66
#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:10
# 2196b3722a7b4e5db991081f61dbcbc3
# 8e991c50922842439ec827e82067fd65
msgid "Layout Modifiers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:4
# 9540c2d67e39436ab11a1be4181d8966
msgid "The |resource deploy| resource expects an application to be structured like a |ruby on rails| application, but the layout can be modified to meet custom requirements as needed. Use the following attributes within a recipe to modify the layout of a recipe that is using the |resource deploy| resource:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:12
#: ../../includes_resources/includes_resource_deploy_attributes.rst:22
# 0ad8a8b2fc3f4e51950069e085892752
# af1668a6f0eb425aad4c3ac4683dee44
msgid "``create_dirs_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:13
# 122ca543511044e58605fa67ca1b691e
msgid "|create_dirs_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:14
#: ../../includes_resources/includes_resource_deploy_attributes.rst:38
# f6611c00f29645728eab5557021f5e6e
# f7424aaa7ce24160b7f1f21eab3e5ebd
msgid "``purge_before_symlink``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:15
# 15982bcb58d04f8ab825918200d52b10
msgid "|purge_before_symlink|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:16
#: ../../includes_resources/includes_resource_deploy_attributes.rst:56
# d9069c0d11884d6ab1784d9533d5369b
# 41c62db9b89340f2b6a7cc5871c81d06
msgid "``symlink_before_migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:17
# 20bc5b555149478db38fb37316206302
msgid "|symlink_before_migrate|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:18
#: ../../includes_resources/includes_resource_deploy_attributes.rst:54
# 8e58dea07c534adbbba56d73feeca64d
# 068f82a2672142388895f7ec92eccae4
msgid "``symlinks``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_strategy_layouts.rst:19
# 39f935e3f69c4b8990529add21800a0e
msgid "|symlinks|"
msgstr ""

#: ../source/resource_deploy.rst:70
# 62f34c34c9394859871de33ae963e11b
msgid "Actions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:4
# 6bf69dda9d2e4c889f786dbc0e6b89d5
msgid "This resource has the following actions:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:10
# 84df079916874f7f93ac1884a2c26b33
msgid "Action"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:12
# d4bc74c558384d2c9ed254ae9999e077
msgid "``:deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:13
# 823d26dee4094dcfb74cf8d792bf55ed
msgid "Default. |resource action deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:14
# 02ad3d5c059c4fe584aa14dbcc46f594
msgid "``:force_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:15
# ca9901f968794338bcdf58d969d7a051
msgid "|resource action force_deploy deploy|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:16
# 231e6ed46e064829ba5eb2a9c9d9c43c
msgid "``:rollback``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_actions.rst:17
# 7fb6d4af836548ee859e7181d162b6a0
msgid "|resource action rollback deploy|"
msgstr ""

#: ../source/resource_deploy.rst:74
# f82740344ca5431e881ef489da803b26
msgid "Attributes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:4
# 99da6a03233d4cbeaa33291adee01e6f
msgid "This resource has the following attributes:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:10
#: ../../includes_resources/includes_resource_deploy_attributes.rst:67
#: ../../includes_resources/includes_resource_deploy_attributes.rst:86
# 1bd983dee6db4781a716c03043e5aad6
# 5eb0bd674c924f7ab7660e7af30c2803
# d8d45d8eb9ef41358de434a42065a761
msgid "Attribute"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:20
# 9dcfbfedfff54733adb822018f387539
msgid "``branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:21
# d34b12017cec4a61a7bf39bfd6cb3571
msgid "The alias for the revision."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:23
# e77eef35c63540dba8b7fbf9369769fa
msgid "|create_dirs_before_symlink| Default value: ``%w{tmp public config}`` (or the same as ``[\"tmp\", \"public\", \"config\"]``)."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:24
# 9ba4691f59f2405c8fce464a6eaebdef
msgid "``deploy_to``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:25
# 18a6390cc2434d13b9d892f3ffc90777
msgid "|deploy_to| Default value: the ``name`` of the resource block (see Syntax section above)."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:26
# 18173345551f4dbd9830a648b83f5b60
msgid "``environment``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:27
# 697b9a8ba7954726b6981958191a09c3
msgid "|environment variables|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:28
# 16b4914f3554455a825e4d3d0fffc12a
msgid "``group``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:29
# 29f0faa42c7d4a4d8c02739137700308
msgid "|group deploy| Default value: ``nil``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:30
# 1c6f745634c144a486655d08f55178a3
msgid "``keep_releases``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:31
# 4d9296181b8b4bd5a1a311918109c36b
msgid "|keep_releases| Default value: ``5``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:32
# dcfe220d11444a6b82d91e975ac37b4c
msgid "``migrate``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:33
# 3f4ff917632944fbbb2c6389c17d9235
msgid "|migrate command_run| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:34
# 452eaaf007da4b9f970ecce443580544
msgid "``migration_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:35
# f74fbbfef2f84d9b91d9f4cbad188cfa
msgid "|migration command_string|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:36
# a61486400ed54a25a7b7a0f6e4445ce6
msgid "``provider``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:37
# 1905eb34d297424a87b5fc63d483ee7f
msgid "Optional. |provider resource_parameter|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:39
# 24d52eb3c57d40a99e34b60006ef8d25
msgid "|purge_before_symlink| Default value: ``%w{log tmp/pids public/system}`` (or the same as ``[\"log\", \"tmp/pids\", \"public/system\"]``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:40
# 4bb7682c144e419abbf45c36dcf8ee91
msgid "``repo``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:41
# d1bb6046895e4d2fb30d7be4cb82884c
msgid "|repository git_or_svn|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:42
# edd1d00b840843edaa16357630dc551e
msgid "``repository``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:43
# c3d6e5ba5fd841a481fa8fb0852c0bf9
msgid "|uri repository|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:44
# 72a308774a724579a6c8e597aa8e1a1e
msgid "``repository_cache``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:45
# f55975649a4a4c8eac30f43652053bf4
msgid "|repository_cache| Default value: ``cached-copy``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:46
# 660125ce44c94aa081c85d159384ae9b
msgid "``restart_command``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:47
# 0596eac43e9c48e3b01a0854df79104f
msgid "|restart shell_command| Default value: ``nil``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:48
# 25a611dc5cfa4fafb98013d404a9dc19
msgid "``revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:49
# f539db5295a646c88be5031be9463976
msgid "|revision| Default value: ``HEAD``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:50
# 5787b0c4836f4ebcbe1b712d822ea0a0
msgid "``rollback_on_error``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:51
# 058f9e5f93d54b68966cc3a7b365728c
msgid "|rollback_on_error| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:52
# 6158033e127c4150b2372f8fc50e71e8
msgid "``scm_provider``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:53
# dcfd2e12d01a45bab9ed9610d986e396
msgid "|name scm_provider| Default value: ``Chef::Provider::Git``. Optional values: ``Chef::Provider::Subversion``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:55
# b34350bb547b467c8c77fcff62f8e6eb
msgid "|symlinks| Default value: ``{\"system\" => \"public/system\", \"pids\" => \"tmp/pids\", \"log\" => \"log\"}``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:57
# 29bdb2b8d119405d895792a1c6bd706f
msgid "|symlink_before_migrate| Default value: ``{\"config/database.yml\" => \"config/database.yml\"}``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:58
# 7b3493e7c74d4ea286cf9e4f56454a61
msgid "``user``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:59
# 73aba160871c45c5921414e7e849d93f
msgid "|user checked_out_code| Default value: ``nil``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:61
# a7afbcbb9fcf424090ab210e40e75ddc
msgid "The following attributes are for use with |git| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:69
# 57fdaa469fa54b04bde8ea6c280e231a
msgid "``enable_submodules``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:70
# 607978cb291e495794effee45f123c02
msgid "|enable_submodules| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:71
# e164932711a04c92b8c45ff1fb956b03
msgid "``git_ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:72
# 705d2a91ed1c4ed1adcd9fee4ac33a7b
msgid "|git_ssh_wrapper|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:73
# 8d29ca59690c4cfeae7474c0b52be338
msgid "``remote``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:74
# fab63c5861c54267acc94558ce2cf8ed
msgid "|remote resource| Default value: ``origin``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:75
# 2849acfdf3304ee9ab3c54dbe5555cfc
msgid "``shallow_clone``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:76
# 9f0a1479337341459fc10f6927cd50cf
msgid "|shallow_clone| Default value: ``false``."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:77
# 13f49652cd8848daa12b87cd52feb79b
msgid "``ssh_wrapper``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:78
# d80deb25df0345a990993bf12f95c289
msgid "|ssh_wrapper resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:80
# f8b5c46869fa459ca7ad284394f65e21
msgid "The following attributes are for use with |svn| only:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:88
# 76789f2d6018478aa613c0ea10c6b5f4
msgid "``svn_arguments``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:89
# 2ae287c92017421ea4e7caad96c6d64f
msgid "|svn_arguments resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:90
# c59d34a9d4ef4ebaa0e373f340b83c62
msgid "``svn_password``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:91
# b87f6a34e96f451aa8ae62f1d1b5a128
msgid "|svn_password resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:92
# ccedf2aa157149b49a1da7ba3c664143
msgid "``svn_username``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:93
# 9831de6d997d4ea0a4e2b850e5f20873
msgid "|svn_username resource|"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_attributes.rst:95
# b8f3f31bb6694308bf5273d88b962612
msgid "For example:"
msgstr ""

#: ../source/resource_deploy.rst:78
# ed03a58329af4e6ab4ae90ff59c35c69
msgid "Providers"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:4
# 97a64421b93d440696e736dcc6fabc32
msgid "The |resource deploy| resource providers are used to determine whether to deploy based on whether the release directory in which the deployment is to be made actually exists. The following providers are available. Use the short name to call the provider from a recipe:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:10
# 288b9dbf76e146d98bfc620c76c30d65
msgid "Long name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:11
# a784b989c56d422aa3f811e13ab12f10
msgid "Short name"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:12
# c57cb124d4c14d17a6bb70a06dbbf3b2
msgid "Notes"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:13
# 3a49a853a2184ba1a5789685b31bd0eb
msgid "``Chef::Provider::Deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:14
# e0b7360b702847db9071e58126ca33cd
msgid "``deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:15
# b8a66fc44eda4ea8ae9677f263fc2153
msgid "When this short name is used, the |chef client| will determine the correct provider during the |chef client| run."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:16
# 4e936ad6eea94024a1d4c6d2e78e928e
msgid "``Chef::Provider::Deploy::Branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:17
# 78047f402bb84243bab9900bd1fe0bcc
msgid "``deploy_branch``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:18
#: ../../includes_resources/includes_resource_deploy_providers.rst:21
# dbeae88ae67d4dc98a26bb27439424b0
# 6e586061f526469dab429f74e204f99f
msgid "See below for more information."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:19
# 4ab330b027bc4d9cad4a41cafabbe661
msgid "``Chef::Provider::Deploy::Revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:20
# 08cf45341eae4565900c0f6a1be7f18b
msgid "``deploy_revision``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:22
# c2582e43cae84c5abd47b11049cd75d8
msgid "``Chef::Provider::Deploy::TimestampedDeploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:23
# f4e03f38ab754fe186deead1b21a7fd6
msgid "``timestamped_deploy``"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers.rst:24
# ab0adec66c784bc8aa7a7816f643cafe
msgid "The default provider for all platforms. See below for more information."
msgstr ""

#: ../source/resource_deploy.rst:82
# c6160fb8ea6e428d86b4689dca50329a
msgid "deploy_branch"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_branch.rst:5
# 8c5227df57ca4e4a97e27a764bc31271
msgid "The ``deploy_branch`` resource is used in the same way as the ``deploy_resource`` resource. It uses the ``Deploy::Revision`` provider and has uses the same set of actions and attributes."
msgstr ""

#: ../source/resource_deploy.rst:86
# 221ea4f4f1574333ad61504b3d4b38fb
msgid "deploy_revision"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:4
# 2ba98040fe584dbcaf44f752e575139d
msgid "The ``deploy_revision`` provider is the recommended provider, even if it is not listed as the default. The ``deploy_revision`` provider is used to ensure that the name of a release sub-directory is based on a revision identifier. For users of |git|, this will be the familiar SHA checksum. For users of |svn|, it will be the integer revision number. If a name other than a revision identifier is provided---branch names, tags, and so on---the |chef client| will ignore the alternate names and will look up the revision identifier and use it to name the release sub-directory. When the ``deploy_revision`` provider is given an exact revision to deploy, it will behave in an idempotent manner."
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:6
# a09ea4ab01c744289c19e075db303824
msgid "The ``deploy_revision`` provider results in deployed components under the destination location that is owned by the user who runs the application. This is sometimes an issue for certain workflows. If issues arise, consider the following:"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:8
# f33b457c2fd64ce38fabbf3c4619afcb
msgid "Incorporate changing permissions to the desired end state from within a recipe"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:9
# 0131493b71964435a492cdae946d4acf
msgid "Add a ``before_restart`` block to fix up the permissions"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:10
# 94a086a7a8574ff1b4c18c0ca20479a3
msgid "Have an unprivileged user (for example: ``opscode``) be the owner of the ``deploy`` directory and another unprivileged user (for example: ``opscodeapp``) run the application. Most often, this is the solution that works best"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_deploy_revision.rst:12
# fc11923a28ba4a9ea31e3ec5c43ff812
msgid "When using the ``deploy_revision`` provider, and when the deploy fails for any reason, and when the same code is used to re-deploy, the action should be set manually to ``:force_deploy``. Forcing the re-deploy will remove the old release directory, after which the deploy can proceed as usual. (Forcing a re-deploy over the current release can cause some downtime.) Deployed revisions are stored in ``(file_cache_path)/revision-deploys/(deploy_path)``."
msgstr ""

#: ../source/resource_deploy.rst:90
# 8b2b6331bf9447ab8d62708f39f04e3a
msgid "timestamped_deploy"
msgstr ""

#: ../../includes_resources/includes_resource_deploy_providers_timestamped_deploy.rst:4
# ddeb0fce614149679bd7b0bfba844075
msgid "The ``timestamped_deploy`` provider is the default |resource deploy| provider. It is used to name release directories with a timestamp in the form of ``YYYYMMDDHHMMSS``. For example: ``/my/deploy/dir/releases/20121120162342``. The |resource deploy| resource will determine whether or not to deploy code based on the existence of the release directory in which it is attempting to deploy. Because the timestamp is different for every |chef client| run, the ``timestamped_deploy`` provider is not idempotent. When the ``timestamped_deploy`` provider is used, it requires that the action setting on a resource be managed manually in order to prevent unintended continuous deployment."
msgstr ""

#: ../source/resource_deploy.rst:94
# fe1acafa361c4ec9a9f6fb5f433fc6e1
msgid "Examples"
msgstr ""

#: ../source/resource_deploy.rst:95
# 9ad104229e4c44cc918839921acb0a82
msgid "|generic resource statement|"
msgstr ""

#: ../source/resource_deploy.rst:97
# 62d3e1f25bf14fa38eb981d0d8945cdd
msgid "**Modify the layout of a Ruby on Rails application**"
msgstr ""

#: ../../step_resource/step_resource_deploy_custom_application_layout.rst:3
# b42b956cb69641f58e1339ebc470ef5d
msgid "The layout of the |resource deploy| resource matches a |ruby on rails| app by default, but this can be customized. To customize the layout, do something like the following:"
msgstr ""

#: ../source/resource_deploy.rst:101
# 035aa4d07fc0406aa21e995aa982dbf3
msgid "**Use resources within callbacks**"
msgstr ""

#: ../../step_resource/step_resource_deploy_embedded_recipes_for_callbacks.rst:3
# a271a1713fe049a9b559aaca2b25da19
msgid "Using resources from within your callbacks as blocks or within callback files distributed with your application's source code. To use embedded recipes for callbacks:"
msgstr ""

#: ../source/resource_deploy.rst:105
# ecf3738265e540bf8cfe62281b7e1b90
msgid "**Deploy from a private git repository without using the application cookbook**"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:3
# cfbfc638fd7b45ad8b99a2ec9d499c02
msgid "To deploy from a private |git| repository without using the |cookbook application| cookbook, first ensure that:"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:5
# c272ac579ecf4c06aa8972762ed0dbf5
msgid "the private key does not have a passphrase, as this will pause a |chef client| run to wait for input"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:6
# 7186f54a22f147368c45365f9868740f
msgid "an |ssh| wrapper is being used"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:7
# e1aa574694b1402885c1005d738a35a3
msgid "a private key has been added to the node"
msgstr ""

#: ../../step_resource/step_resource_deploy_private_git_repo_using_application_cookbook.rst:9
# b0ed79bb842b463eb907a1689b092e33
msgid "and then use code like the following to remove a passphrase from a private key:"
msgstr ""

#: ../source/resource_deploy.rst:109
# 2acc56a17d3f4659a5931ccae42e72d0
msgid "**Use an SSH wrapper**"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:3
# ecb04956a4064100958703e05ad5a8e6
msgid "To write a recipe that uses an |ssh| wrapper:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:5
# 526c48fe7de840f5b70f39d17342f397
msgid "Create a file in the ``cookbooks/COOKBOOK_NAME/files/default`` directory that is named ``wrap-ssh4git.sh`` and which contains the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:12
# 9045582b21fe4b76afdc3182e26e6bd8
msgid "Set up the cookbook file."
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:13
# f8ca1879f992433faa75a4128965fe2c
msgid "Add a recipe to the cookbook file similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_recipe_uses_ssh_wrapper.rst:36
# e9ba2c482a5543efa157b5ca44fc4933
msgid "This will deploy the |git| repository at ``git@github.com:acctname/private-repo.git`` in the ``/tmp/private_code`` directory."
msgstr ""

#: ../source/resource_deploy.rst:113
# 6596dbea573342fd8f1ff6401449d1be
msgid "**Use a callback to include a file that will be passed as a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:3
# 95157e484b064e9ca65d14c59a926931
msgid "The code in a file that is included in a recipe using a callback is evaluated exactly as if the code had been put in the recipe as a block. Files are searched relative to the current release."
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_include_code_from_file.rst:5
# 5253c604de4f4dfa86b239ecb6cb617d
msgid "To specify a file that contains code to be used as a block:"
msgstr ""

#: ../source/resource_deploy.rst:117
# 714a2bf0799e4034a0dc24c4fcc95a0f
msgid "**Use a callback to pass a code block**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_callback_to_pass_python.rst:3
# 974b7832fe6b44f098ecf0d2f3eb801a
msgid "To pass a block of |python| code before a migration is run:"
msgstr ""

#: ../source/resource_deploy.rst:121
# d26dbf030e5c4dc0a1ad752bd9494e89
msgid "**Use the same API for all recipes using the same gem**"
msgstr ""

#: ../../step_resource/step_resource_deploy_use_same_api_as_gitdeploy_gems.rst:3
# 8d6f48ee13604143a91ad0372dd8efbe
msgid "Any recipes using the ``git-deploy`` |gem| can continue using the same API. To include this behavior in a recipe, do something like the following:"
msgstr ""

#: ../source/resource_deploy.rst:125
# 641b6ae4a45b4085be65b27f163da18b
msgid "**Deploy without creating symbolic links to a shared folder**"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:3
# f0a0027490b94481af10236da048f2d4
msgid "To deploy without creating symbolic links to a shared folder:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:11
# 94f85cdce8d9442383539667f7b315a4
msgid "When deploying code that is not |ruby on rails| and symbolic links to a shared folder are not wanted, use parentheses ``()`` or ``Hash.new`` to avoid ambiguity. For example, using parentheses:"
msgstr ""

#: ../../step_resource/step_resource_deploy_without_symlink_to_shared.rst:19
# 6c90fe1f8d74426594382dc9d9d9389c
msgid "or using ``Hash.new``:"
msgstr ""

#: ../source/resource_deploy.rst:129
# f648e711f5794ccdb747ff95508550f1
msgid "**Clear a layout modifier attribute**"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:3
# 700a1b47bccf4514ac7b1dc851529bad
msgid "Using the default attribute values for the various resources is the recommended starting point when working with recipes. Then, depending on what each node requires, these default values can be overridden with node-, role-, environment-, and cookbook-specific values. The |resource deploy| resource has four layout modifiers: ``create_dirs_before_symlink``, ``purge_before_symlink``, ``symlink_before_migrate``, and ``symlinks``. Each of these is a |ruby| |hash| that behaves as an attribute of the |resource deploy| resource. When these layout modifiers are used in a recipe, they appear similar to the following:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:19
# d950faa13ef2452193d8df34fcb9a7e3
msgid "and then what these layout modifiers look like if they were empty:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:32
# 41497728b2b9420a9e3bda3501a5dafa
msgid "In most cases, using the empty values for the layout modifiers will prevent the |chef client| from passing symbolic linking information to a node during the |chef client| run. However, in some cases, it may be preferable to ensure that one (or more) of these layout modifiers do not pass any symbolic linking information to a node during the |chef client| run at all. Because each of these layout modifiers are a hash, the ``clear`` instance method can be used to clear out these values."
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:34
# b77d8e76ec444261a148952ed0ecb72e
msgid "To clear the default values for a layout modifier:"
msgstr ""

#: ../../step_resource/step_resource_deploy_clear_layout_modifiers.rst:47
# 15209b39cf1749cd93e437b6234267aa
msgid "In general, use this approach carefully and only after it is determined that nil or empty values won't provide the expected result."
msgstr ""

