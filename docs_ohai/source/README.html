

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Ohai &mdash; Essentials :: Ohai</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.1-1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Essentials :: Ohai" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="#">Essentials :: Ohai</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="#">
              <img class="logo" src="_static/opscode_html_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Ohai</a><ul>
<li><a class="reference internal" href="#automatic-attributes">Automatic Attributes</a></li>
<li><a class="reference internal" href="#ohai-attribute-list">Ohai Attribute List</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/ohai.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="ohai">
<h1>Ohai<a class="headerlink" href="#ohai" title="Permalink to this headline">¶</a></h1>
<p>Ohai is a tool that is used to detect certain properties about a node&#8217;s environment and provide them to the chef-client during every Chef run. The types of properties Ohai reports on include:</p>
<ul class="simple">
<li>Platform details</li>
<li>Networking usage</li>
<li>Memory usage</li>
<li>Processor usage</li>
<li>Kernel data</li>
<li>Host names</li>
<li>Fully qualified domain names</li>
<li>and other configuration details</li>
</ul>
<p>Later, while Chef configures the node object during each Chef run, these attributes are used by the chef-client to ensure that certain properties remain unchanged. (These properties are also referred to as <tt class="docutils literal"><span class="pre">automatic</span></tt> attributes.) Ohai is part of the required configuration on each node that is registered with the Chef server.</p>
<div class="section" id="automatic-attributes">
<h2>Automatic Attributes<a class="headerlink" href="#automatic-attributes" title="Permalink to this headline">¶</a></h2>
<p>An automatic attribute is a specific detail about a node, such as an IP address, a host name, a list of loaded kernel modules, the version(s) of available programming languages that are available, and so on. Automatic attributes are detected by Ohai and are then used by Chef to ensure that these attribute are handled properly during every Chef run. The most commonly accessed automatic attributes are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">node['platform']</span></tt></td>
<td>The platform on which a node is running. This attribute helps determine which providers will be used.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">node['platform_version']</span></tt></td>
<td>The version of the platform. This attribute helps determine which providers will be used.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">node['ipaddress']</span></tt></td>
<td>The IP address for a node. If the node has a default route, this is the IPV4 address for the interface. If the node does not have a default route, the value for this attribute should be <tt class="docutils literal"><span class="pre">nil</span></tt>. The IP address for default route is the recommended default value.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">node['macaddress']</span></tt></td>
<td>The MAC address for a node, determined by the same interface that detects the <tt class="docutils literal"><span class="pre">node['ipaddress']</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">node['fqdn']</span></tt></td>
<td>The fully qualified domain name for a node. This is used as the name of a node unless otherwise set.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">node['hostname']</span></tt></td>
<td>The host name for the node.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">node['domain']</span></tt></td>
<td>The domain for the node.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">node['recipes']</span></tt></td>
<td>A list of recipes associated with a node (and part of that node&#8217;s run-list).</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">node['roles']</span></tt></td>
<td>A list of roles associated with a node (and part of that node&#8217;s run-list).</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">node['ohai_time']</span></tt></td>
<td>The time at which Ohai was last run. This attribute is not commonly used in recipes, but it is saved to the Chef server and can be accessed using the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">status</span></tt> sub-command.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ohai-attribute-list">
<h2>Ohai Attribute List<a class="headerlink" href="#ohai-attribute-list" title="Permalink to this headline">¶</a></h2>
<p>The following attributes are those which are re-written with each Ohai run, so they should be recognized as being unmodifiable when considering the use of attributes:</p>
<div class="highlight-bash"><div class="highlight"><pre>ohai<span class="nv">$ </span>grep -R <span class="s2">&quot;provides&quot;</span> -h lib/ohai/plugins|sed <span class="s1">&#39;s/^\s*//g&#39;</span>|sed <span class="s2">&quot;s/\\\&quot;/\&#39;/g&quot;</span>|sort|uniq|grep ^provides
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="#">Essentials :: Ohai</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Opscode, Inc..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>