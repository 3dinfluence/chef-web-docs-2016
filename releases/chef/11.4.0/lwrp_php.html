

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>php Lightweight Resource &mdash; Chef Docs</title>
    
    <link rel="stylesheet" href="_static/opscode.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.1-1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/opscode.ico"/>
    <link rel="top" title="Chef Docs" href="index.html" />
    <link rel="up" title="About LWRPs" href="lwrp.html" />
    <link rel="next" title="powershell Lightweight Resource" href="lwrp_powershell.html" />
    <link rel="prev" title="pacman Lightweight Resource" href="lwrp_pacman.html" /> 
  </head>
  <body>
<div style="background-color: #212c35; text-align: left; padding: 0px 0px 0px 0px">
<a href="http://docs.opscode.com/"><img src="_static/opscode_html_logo.png" border="0" alt="Opscode"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="lwrp_powershell.html" title="powershell Lightweight Resource"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="lwrp_pacman.html" title="pacman Lightweight Resource"
             accesskey="P">previous</a> |</li>
        <li><a href="http://docs.opscode.com/chef/knife.html" target="_products">Knife</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/resources.html" target="_products">Resources</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/dsl_recipe.html" target="_products">Recipe DSL</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/lwrps_custom.html" target="_products">LWRPs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/search.html">Search the Docs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/">Home</a> &raquo;</li>

          <li><a href="lwrp.html" accesskey="U">About LWRPs</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/opscode_chef_html_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">php Lightweight Resource</a><ul>
<li><a class="reference internal" href="#php-pear">php_pear</a><ul>
<li><a class="reference internal" href="#actions">Actions</a></li>
<li><a class="reference internal" href="#attributes">Attributes</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#php-pear-channel">php_pear_channel</a><ul>
<li><a class="reference internal" href="#id1">Actions</a></li>
<li><a class="reference internal" href="#id2">Attributes</a></li>
<li><a class="reference internal" href="#id3">Examples</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="php-lightweight-resource">
<h1>php Lightweight Resource<a class="headerlink" href="#php-lightweight-resource" title="Permalink to this headline">¶</a></h1>
<p>The <strong>php</strong> cookbook is used to install and configure PHP and PHP modules.</p>
<p>The <strong>php</strong> cookbook contains the following lightweight resources: <tt class="docutils literal"><span class="pre">php_pear</span></tt> and <tt class="docutils literal"><span class="pre">php_pear_channel</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These lightweight resources are part of the <strong>php</strong> cookbook (<a class="reference external" href="http://community.opscode.com/cookbooks/php">http://community.opscode.com/cookbooks/php</a>).</p>
</div>
<div class="section" id="php-pear">
<h2>php_pear<a class="headerlink" href="#php-pear" title="Permalink to this headline">¶</a></h2>
<p>The <strong>php_pear</strong> lightweight resource is used to to integrate reusable PHP components into recipes. PEAR is a framework and distribution system for reusable PHP components. PECL is a repository for PHP Extensions. PECL contains C extensions for compiling into PHP. As C programs, PECL extensions run more efficiently than PEAR packages. Both PEAR and PECL use the same packaging and distribution system. As such this lightweight resource is clever enough to abstract away the small differences and can be used for managing both PEAR and PECL. This lightweight resource also creates the proper module .ini file for each PECL extension at the correct location for each supported platform.</p>
<div class="section" id="actions">
<h3>Actions<a class="headerlink" href="#actions" title="Permalink to this headline">¶</a></h3>
<p>This lightweight resource provider has the following actions:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Action</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">:install</span></tt></td>
<td>Use to install a PEAR package. If a version is provided, use to install that version.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">:upgrade</span></tt></td>
<td>Use to upgrade a PEAR package. If a version is provided, use to upgrade to that version.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">:remove</span></tt></td>
<td>Use to remove a PEAR package.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">:purge</span></tt></td>
<td>Use to purge a PEAR package. This is identical in behavior to the <tt class="docutils literal"><span class="pre">:remove</span></tt> action.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h3>
<p>This lightweight resource provider has the following attributes:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">directives</span></tt></td>
<td>Extra extension directives (or settings) for a PECL. On most platforms, these directives are rendered into the extension&#8217;s .ini file.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">options</span></tt></td>
<td>One (or more) additional options that are passed to the command.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">package_name</span></tt></td>
<td>The name of the package.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">preferred_state</span></tt></td>
<td>By default, PEAR only installs stable packages. Packages can be installed in various non-stable states: <tt class="docutils literal"><span class="pre">devel</span></tt>, <tt class="docutils literal"><span class="pre">alpha</span></tt> or <tt class="docutils literal"><span class="pre">beta</span></tt>. Default value: <tt class="docutils literal"><span class="pre">stable</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">version</span></tt></td>
<td>The version of a package to be installed or upgraded.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>To install the PHP Extensions for Alternative PHP Cache (with directives) that are available in the PECL repository:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="n">php_pear</span> <span class="s2">&quot;apc&quot;</span> <span class="k">do</span>
  <span class="n">action</span> <span class="ss">:install</span>
  <span class="n">directives</span><span class="p">(</span><span class="ss">:shm_size</span> <span class="o">=&gt;</span> <span class="mi">128</span><span class="p">,</span> <span class="ss">:enable_cli</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
</div>
<p>To install the beta version of <tt class="docutils literal"><span class="pre">Horde_Url</span></tt> from the Horde channel (pear.horde.org):</p>
<div class="highlight-ruby"><div class="highlight"><pre> <span class="n">hc</span> <span class="o">=</span> <span class="n">php_pear_channel</span> <span class="s2">&quot;pear.horde.org&quot;</span> <span class="k">do</span>
   <span class="n">action</span> <span class="ss">:discover</span>
 <span class="k">end</span>
 <span class="n">php_pear</span> <span class="s2">&quot;Horde_Url&quot;</span> <span class="k">do</span>
   <span class="n">preferred_state</span> <span class="s2">&quot;beta&quot;</span>
   <span class="n">channel</span> <span class="n">hc</span><span class="o">.</span><span class="n">channel_name</span>
   <span class="n">action</span> <span class="ss">:install</span>
<span class="k">end</span>
</pre></div>
</div>
<p>To install the PHP Extensions for MongoDB that are available in the PECL repository:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="n">php_pear</span> <span class="s2">&quot;mongo&quot;</span> <span class="k">do</span>
  <span class="n">action</span> <span class="ss">:install</span>
<span class="k">end</span>
</pre></div>
</div>
<p>To install a specific version:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="n">php_pear</span> <span class="s2">&quot;XML_RPC&quot;</span> <span class="k">do</span>
  <span class="n">version</span> <span class="s2">&quot;1.5.4&quot;</span>
  <span class="n">action</span> <span class="ss">:install</span>
<span class="k">end</span>
</pre></div>
</div>
<p>To install the YAML PEAR from the symfony project:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="n">sc</span> <span class="o">=</span> <span class="n">php_pear_channel</span> <span class="s2">&quot;pear.symfony-project.com&quot;</span> <span class="k">do</span>
  <span class="n">action</span> <span class="ss">:discover</span>
<span class="k">end</span>
<span class="n">php_pear</span> <span class="s2">&quot;YAML&quot;</span> <span class="k">do</span>
  <span class="n">channel</span> <span class="n">sc</span><span class="o">.</span><span class="n">channel_name</span>
  <span class="n">action</span> <span class="ss">:install</span>
<span class="k">end</span>
</pre></div>
</div>
<p>To upgrade a PEAR:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="n">php_pear</span> <span class="s2">&quot;XML_RPC&quot;</span> <span class="k">do</span>
  <span class="n">action</span> <span class="ss">:upgrade</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="php-pear-channel">
<h2>php_pear_channel<a class="headerlink" href="#php-pear-channel" title="Permalink to this headline">¶</a></h2>
<p>The <strong>php_pear_channel</strong> lightweight resource is used to use PEAR Channels as an alternate source for PEAR packages.</p>
<div class="section" id="id1">
<h3>Actions<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>This lightweight resource provider has the following actions:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Action</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">:discover</span></tt></td>
<td>Use to initialize a channel from its server.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">:add</span></tt></td>
<td>Use to add a channel to the channel list. Typically, this is used only for private channels. Public channels should be added using the <tt class="docutils literal"><span class="pre">:discover</span></tt> action.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">:update</span></tt></td>
<td>Use to update an existing channel.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">:remove</span></tt></td>
<td>Use to remove a channel from the channel list.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id2">
<h3>Attributes<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>This lightweight resource provider has the following attributes:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">channel_name</span></tt></td>
<td>The name of a channel that a PEAR installation needs to know about (i.e. &#8220;channel discovery&#8221;).</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">channel_xml</span></tt></td>
<td>The definition file for a PEAR channel.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id3">
<h3>Examples<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>To discover a channel named &#8220;pear.horde.org&#8221;:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="n">php_pear_channel</span> <span class="s2">&quot;pear.horde.org&quot;</span> <span class="k">do</span>
  <span class="n">action</span> <span class="ss">:discover</span>
<span class="k">end</span>
</pre></div>
</div>
<p>To download an XML file and then add the &#8220;symfony&#8221; channel:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="n">remote_file</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="no">Chef</span><span class="o">::</span><span class="no">Config</span><span class="o">[</span><span class="ss">:file_cache_path</span><span class="o">]</span><span class="si">}</span><span class="s2">/symfony-channel.xml&quot;</span> <span class="k">do</span>
  <span class="n">source</span> <span class="s2">&quot;http://pear.symfony-project.com/channel.xml&quot;</span>
  <span class="n">mode</span> <span class="mo">0644</span>
<span class="k">end</span>

<span class="n">php_pear_channel</span> <span class="s2">&quot;symfony&quot;</span> <span class="k">do</span>
  <span class="n">channel_xml</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="no">Chef</span><span class="o">::</span><span class="no">Config</span><span class="o">[</span><span class="ss">:file_cache_path</span><span class="o">]</span><span class="si">}</span><span class="s2">/symfony-channel.xml&quot;</span>
  <span class="n">action</span> <span class="ss">:add</span>
<span class="k">end</span>
</pre></div>
</div>
<p>To update the main channels:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="n">php_pear_channel</span> <span class="s1">&#39;pear.php.net&#39;</span> <span class="k">do</span>
  <span class="n">action</span> <span class="ss">:update</span>
<span class="k">end</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="n">php_pear_channel</span> <span class="s1">&#39;pecl.php.net&#39;</span> <span class="k">do</span>
  <span class="n">action</span> <span class="ss">:update</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="lwrp_powershell.html" title="powershell Lightweight Resource"
             >next</a></li>
        <li class="right" >
          <a href="lwrp_pacman.html" title="pacman Lightweight Resource"
             >previous</a> |</li>
        <li><a href="http://docs.opscode.com/chef/knife.html" target="_products">Knife</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/resources.html" target="_products">Resources</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/dsl_recipe.html" target="_products">Recipe DSL</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/lwrps_custom.html" target="_products">LWRPs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/search.html">Search the Docs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/">Home</a> &raquo;</li>

          <li><a href="lwrp.html" >About LWRPs</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
    This work is licensed under a Creative Commons Attribution 3.0 Unported License.
    </div>


    <div class="footer">
        &copy; Copyright This work is licensed under a Creative Commons Attribution 3.0 Unported License.
    </div>

<!-- Start of Async Google Analytics Code -->
<script type="text/javascript">
var _gaq = _gaq || [];
var pluginUrl = (('https:' == document.location.protocol) ? 'https://ssl.' : 'http://www.') + 'google-analytics.com/plugins/ga/inpage_linkid.js';
_gaq.push(['_setAccount', 'UA-6369228-7']);
_gaq.push(['_setDomainName', '.opscode.com']);
_gaq.push(['_setAllowHash', false]);
_gaq.push(['_setAllowLinker', true]);
_gaq.push(['_addIgnoredRef','opscode.com']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript';
  ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(ga, s); })();
</script>
<!-- End of Async HubSpot Analytics Code -->

<!-- Start of Async HubSpot Analytics Code -->
<script type="text/javascript">
(function(d,s,i,r) {
            if (d.getElementById(i)){return;}
            var n=d.createElement(s),e=d.getElementsByTagName(s)[0];
            n.id=i;n.src='//js.hubspot.com/analytics/'+(Math.ceil(new Date()/r)*r)+'/57718.js';
            e.parentNode.insertBefore(n, e);
        })(document,"script","hs-analytics",300000);
    </script>
<!-- End of Async HubSpot Analytics Code -->

<!-- Start of Contact Analytics Code -->
<script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('255-VFB-268');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
<!-- End of Contact Analytics Code -->


  </body>
</html>