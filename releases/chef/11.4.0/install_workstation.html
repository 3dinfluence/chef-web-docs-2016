

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Install Chef 11.x on a Workstation &mdash; Chef Docs</title>
    
    <link rel="stylesheet" href="_static/opscode.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.1-1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/opscode.ico"/>
    <link rel="top" title="Chef Docs" href="index.html" />
    <link rel="up" title="Install Chef" href="install.html" />
    <link rel="next" title="Bootstrap a Node" href="install_bootstrap.html" />
    <link rel="prev" title="Install the Chef Server on a Virtual Machine" href="install_server_scenario_vm.html" /> 
  </head>
  <body>
<div style="background-color: #212c35; text-align: left; padding: 0px 0px 0px 0px">
<a href="http://docs.opscode.com/"><img src="_static/opscode_html_logo.png" border="0" alt="Opscode"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="install_bootstrap.html" title="Bootstrap a Node"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="install_server_scenario_vm.html" title="Install the Chef Server on a Virtual Machine"
             accesskey="P">previous</a> |</li>
        <li><a href="http://docs.opscode.com/chef/knife.html" target="_products">Knife</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/resources.html" target="_products">Resources</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/dsl_recipe.html" target="_products">Recipe DSL</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/lwrps_custom.html" target="_products">LWRPs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/search.html">Search the Docs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/">Home</a> &raquo;</li>

          <li><a href="install.html" accesskey="U">Install Chef</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/opscode_chef_html_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Install Chef 11.x on a Workstation</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#steps">Steps</a><ul>
<li><a class="reference internal" href="#identify-the-chef-server">Identify the Chef Server</a></li>
<li><a class="reference internal" href="#review-prerequisites">Review prerequisites</a></li>
<li><a class="reference internal" href="#select-the-omnibus-installer">Select the omnibus installer</a></li>
<li><a class="reference internal" href="#run-the-omnibus-installer">Run the omnibus installer</a></li>
<li><a class="reference internal" href="#get-the-pem-files-and-knife-rb-files">Get the .pem files and knife.rb files</a></li>
<li><a class="reference internal" href="#install-git">Install git</a></li>
<li><a class="reference internal" href="#clone-the-chef-repository">Clone the Chef repository</a></li>
<li><a class="reference internal" href="#create-the-chef-directory">Create the .chef directory</a></li>
<li><a class="reference internal" href="#move-files-to-chef-directory">Move files to .chef directory</a></li>
<li><a class="reference internal" href="#verify-the-chef-install">Verify the Chef install</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="install-chef-11-x-on-a-workstation">
<h1>Install Chef 11.x on a Workstation<a class="headerlink" href="#install-chef-11-x-on-a-workstation" title="Permalink to this headline">¶</a></h1>
<p>Chef is a systems and cloud infrastructure automation framework that makes it easy to deploy servers and applications to any physical, virtual, or cloud location, no matter the size of the infrastructure. Chef relies on abstract definitions (known as cookbooks and recipes) that are written in Ruby and are managed like source code. Each definition describes how a specific part of your infrastructure should be built and managed. Chef then applies those definitions to servers and applications, as specified, resulting in a fully automated infrastructure. When a new node is brought online, the only thing that Chef needs to know is which cookbooks and recipes to apply.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>The following items are prerequisites for installing Chef on a workstation:</p>
<ul class="simple">
<li>A computer running UNIX, Linux, or Mac OS X; Microsoft Windows machines are supported, but they are not described as part of the current install documentation</li>
<li>Apple XCode is installed on machines running Mac OS X; this application can be downloaded from Apple for free</li>
<li>A github account; the Chef repository must be downloaded and/or cloned from github</li>
<li>Access to a Chef Server, typically a Hosted Chef account or the open source Chef Server; the open source Chef Server may be installed on a virtual machine for demo purposes</li>
<li>Access to a machine (physical or virtual) that can be used as the first node; the FQDN or IP address for a machine is required by the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">bootstrap</span></tt> command during a bootstrap operation</li>
</ul>
</div>
<div class="section" id="steps">
<h2>Steps<a class="headerlink" href="#steps" title="Permalink to this headline">¶</a></h2>
<p>The following steps describe how to install Chef on a workstation.</p>
<p>The steps for installing Chef on a machine that runs Linux, UNIX, or Mac OS X are identical:</p>
<ol class="arabic simple">
<li>Identify the Chef Server</li>
<li>Review the prequisites</li>
<li>Select the omnibus installer</li>
<li>Run the omnibus installer</li>
<li>Get the .pem files and knife.rb files</li>
<li>Install git</li>
<li>Clone the Chef repository</li>
<li>Create the .chef directory</li>
<li>Move files to the .chef directory</li>
<li>Verify the Chef install</li>
</ol>
<p>See the following sections for more information about each step.</p>
<div class="section" id="identify-the-chef-server">
<h3>Identify the Chef Server<a class="headerlink" href="#identify-the-chef-server" title="Permalink to this headline">¶</a></h3>
<p>Sign up for Hosted Chef or install the open source Chef Server.</p>
</div>
<div class="section" id="review-prerequisites">
<h3>Review prerequisites<a class="headerlink" href="#review-prerequisites" title="Permalink to this headline">¶</a></h3>
<p>Ensure that the workstation meets all of the software prerequisites and that it has access to a Chef Server and to a machine that can host a node.</p>
</div>
<div class="section" id="select-the-omnibus-installer">
<h3>Select the omnibus installer<a class="headerlink" href="#select-the-omnibus-installer" title="Permalink to this headline">¶</a></h3>
<p>The bits for the Chef omnibus installer are available as a download from Opscode.</p>
<p>To download the omnibus installer for Chef:</p>
<ol class="arabic simple">
<li>Go to: <a class="reference external" href="http://www.opscode.com/chef/install/">http://www.opscode.com/chef/install/</a>.</li>
<li>Select the operating system, version, and architecture appropriate for your environment.</li>
<li>Identify the URL that will be used to download the package or download the package directly.</li>
</ol>
</div>
<div class="section" id="run-the-omnibus-installer">
<h3>Run the omnibus installer<a class="headerlink" href="#run-the-omnibus-installer" title="Permalink to this headline">¶</a></h3>
<p>To install Chef on a workstation, you must run the omnibus installer.</p>
<p>To run the omnibus installer:</p>
<ol class="arabic">
<li><p class="first">Run the command that appears (for UNIX and Linux environments) or download the installer (for Microsoft Windows environments). For example, for the Mac OS X:</p>
<div class="highlight-bash"><div class="highlight"><pre>curl -L http://www.opscode.com/chef/install.sh | sudo bash
</pre></div>
</div>
<p>and then enter the password for the local machine.</p>
</li>
<li><p class="first">As Chef is being installed, the command window will show something like the following:</p>
<div class="highlight-bash"><div class="highlight"><pre>Downloading Chef <span class="k">for </span>mac_os_x...
  % Total    % Received  % Xferd   Average  Speed    Time     Time      Time   Current
                                   Dload   Upload    Total    Spent     Left   Speed
100 23.9M  100 23.9M     0     0    944k       0   0:00:26  0:00:26  --:--:--   838k
Installing Chef
</pre></div>
</div>
</li>
<li><p class="first">During the installation, a small window will open. When the installation is finished, close that window and then enter the following to verify that Chef was installed:</p>
<div class="highlight-bash"><div class="highlight"><pre>chef-client -v
</pre></div>
</div>
<p>When Chef is installed correctly, the command shell will return a note that says the version of Chef that was installed. For example:</p>
<div class="highlight-bash"><div class="highlight"><pre>Chef: 10.12.0
</pre></div>
</div>
</li>
<li><p class="first">After Chef has been installed, the following folder structure will be present on the local machine:</p>
<div class="highlight-python"><pre>/opt
   /chef
      /bin
      /embedded
         /bin
         /include
         /lib
         /share
         /ssl</pre>
</div>
</li>
</ol>
</div>
<div class="section" id="get-the-pem-files-and-knife-rb-files">
<h3>Get the .pem files and knife.rb files<a class="headerlink" href="#get-the-pem-files-and-knife-rb-files" title="Permalink to this headline">¶</a></h3>
<p>The Chef Server provides three files that must be in the Chef repository and are required when connecting to the Chef Server.</p>
<p>For a workstation that will interact with either Hosted Chef and Private Chef, log on and download the following files:</p>
<ul class="simple">
<li>knife.rb. This configuration file can be downloaded from the <strong>Organizations</strong> page.</li>
<li>ORGANIZATION-validator.pem. This private key can be downloaded from the <strong>Organizations</strong> page.</li>
<li>USER.pem. This private key an be downloaded from the <strong>Change Password</strong> section of the <strong>Account Management</strong> page.</li>
</ul>
<p>For a workstation that will interact with the open source Chef Server, do the following:</p>
<ul class="simple">
<li>knife.rb. This <a class="reference external" href="http://docs.opscode.com/config_rb_knife.html/">configuration file</a> must be created by running the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">configure</span> <span class="pre">--initial</span></tt> command from the server on which the open source Chef Server is installed. The <tt class="docutils literal"><span class="pre">validation_key</span></tt> attribute in the knife.rb file must specify the path to the validation key. The <tt class="docutils literal"><span class="pre">validation_client_name</span></tt> attribute defaults to <tt class="docutils literal"><span class="pre">chef-validator</span></tt> (which is the chef-validator.pem private key created by the open source Chef Server on startup).</li>
<li>chef-validator.pem. This private key is created by the open source Chef Server on startup and is located in the <tt class="docutils literal"><span class="pre">/etc/chef-server</span></tt> folder on the server after it is created.</li>
<li>USER.pem. This private key is created by running the <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">configure</span> <span class="pre">--initial</span></tt> command.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">By default, the Chef Server API is served over HTTPS. Ensure that <tt class="docutils literal"><span class="pre">https</span></tt> is used as the protocol for the <tt class="docutils literal"><span class="pre">chef_server_url</span></tt> setting in the knife.rb file.</p>
</div>
</div>
<div class="section" id="install-git">
<h3>Install git<a class="headerlink" href="#install-git" title="Permalink to this headline">¶</a></h3>
<p>An open source distributed version control system called git must be installed before the Chef repository can be cloned to the workstation from github.</p>
<p>To install git:</p>
<ol class="arabic simple">
<li>Go to the following URL: <a class="reference external" href="https://help.github.com/articles/set-up-git">https://help.github.com/articles/set-up-git</a>.</li>
<li>Follow the directions, install git (<a class="reference external" href="http://git-scm.com/downloads">http://git-scm.com/downloads</a>), and then complete the remaining configuration steps on that page.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is not necessary to create or fork a repository in order to clone the Chef repository from github.</p>
</div>
</div>
<div class="section" id="clone-the-chef-repository">
<h3>Clone the Chef repository<a class="headerlink" href="#clone-the-chef-repository" title="Permalink to this headline">¶</a></h3>
<p>The Chef repository on github must be cloned to every workstation that will interact with a Chef Server.</p>
<p>To clone the Chef repository:</p>
<ol class="arabic">
<li><p class="first">In a command window, enter the following:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>git clone git://github.com/opscode/chef-repo.git
</pre></div>
</div>
</li>
<li><p class="first">While the Chef repository is being cloned on the local machine, the command window will show something like the following:</p>
<div class="highlight-bash"><div class="highlight"><pre>Cloning into <span class="s1">&#39;chef-repo&#39;</span>...
remote: Counting objects: 199, <span class="k">done</span>.
remote: Compressing objects: 100% <span class="o">(</span>119/119<span class="o">)</span>, <span class="k">done</span>.
remote: Total 199 <span class="o">(</span>delta 71<span class="o">)</span>, reused 160 <span class="o">(</span>delta 47<span class="o">)</span>
Receiving objects: 100% <span class="o">(</span>199/199<span class="o">)</span>, 30.45 KiB, <span class="k">done</span>.
Resolving deltas: 100% <span class="o">(</span>71/71<span class="o">)</span>, <span class="k">done</span>.
</pre></div>
</div>
</li>
<li><p class="first">After the Chef repository has been cloned, the following folder structure will be present on the local machine:</p>
<div class="highlight-python"><pre>chef-repo/
   certificates/
   config/
   cookbooks/
   data_bags
   environments/
   roles/</pre>
</div>
</li>
</ol>
</div>
<div class="section" id="create-the-chef-directory">
<h3>Create the .chef directory<a class="headerlink" href="#create-the-chef-directory" title="Permalink to this headline">¶</a></h3>
<p>The .chef directory is used to store three files that are downloaded from the Chef Server:</p>
<ul class="simple">
<li>knife.rb</li>
<li>ORGANIZATION-validator.pem</li>
<li>USER.pem</li>
</ul>
<p>Where <tt class="docutils literal"><span class="pre">ORGANIZATION</span></tt> and <tt class="docutils literal"><span class="pre">USER</span></tt> represent strings that are unique to each Chef organization. These files must be present in the .chef directory in order for a workstation to be able to connect to a Chef Server.</p>
<p>To create the .chef directory:</p>
<ol class="arabic">
<li><p class="first">In a command window, enter the following:</p>
<div class="highlight-bash"><div class="highlight"><pre>sudo mkdir -p ~/chef-repo/.chef
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">sudo</span></tt> is not always required, but it often is.</p>
</div>
</li>
<li><p class="first">After the .chef directory has been created, the following folder structure will be present on the local machine:</p>
<div class="highlight-python"><pre>chef-repo/
   .chef/        &lt;&lt; the hidden directory
   certificates/
   config/
   cookbooks/
   data_bags
   environments/
   roles/</pre>
</div>
</li>
<li><p class="first">Add <tt class="docutils literal"><span class="pre">.chef</span></tt> to the <tt class="docutils literal"><span class="pre">.gitignore</span></tt> file to prevent uploading the contents of the <tt class="docutils literal"><span class="pre">.chef</span></tt> folder to github.</p>
</li>
</ol>
</div>
<div class="section" id="move-files-to-chef-directory">
<h3>Move files to .chef directory<a class="headerlink" href="#move-files-to-chef-directory" title="Permalink to this headline">¶</a></h3>
<p>The knife.rb, ORGANIZATION-validator.pem, and USER.pem files must be moved to the .chef directory after they are downloaded from the Chef Server.</p>
<p>To move files to the .chef directory:</p>
<ol class="arabic">
<li><p class="first">In a command window, enter each of the following:</p>
<div class="highlight-bash"><div class="highlight"><pre>cp /path/to/knife.rb ~/chef-repo/.chef
</pre></div>
</div>
<p>and:</p>
<div class="highlight-bash"><div class="highlight"><pre>cp /path/to/ORGANIZATION-validator.pem ~/chef-repo/.chef
</pre></div>
</div>
<p>and</p>
<div class="highlight-bash"><div class="highlight"><pre>cp /path/to/USERNAME.pem ~/chef-repo/.chef
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">/path/to/</span></tt> represents the path to the location in which these three files were placed after they were downloaded.</p>
</li>
<li><p class="first">Verify that the files are in the .chef folder.</p>
</li>
</ol>
</div>
<div class="section" id="verify-the-chef-install">
<h3>Verify the Chef install<a class="headerlink" href="#verify-the-chef-install" title="Permalink to this headline">¶</a></h3>
<p>A Chef workstation is installed correctly when it is able to use Knife to communicate with the Chef Server.</p>
<p>To verify that a workstation can connect to the Chef Server:</p>
<ol class="arabic">
<li><p class="first">In a command window, navigate to the chef-repo:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span> ~/chef-repo
</pre></div>
</div>
</li>
<li><p class="first">In a command window, enter the following:</p>
<div class="highlight-bash"><div class="highlight"><pre>knife client list
</pre></div>
</div>
<p>to return a list of clients (registered nodes and workstations) that have access to the Chef Server. For example:</p>
<div class="highlight-bash"><div class="highlight"><pre>workstation
registered_node
</pre></div>
</div>
</li>
</ol>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="install_bootstrap.html" title="Bootstrap a Node"
             >next</a></li>
        <li class="right" >
          <a href="install_server_scenario_vm.html" title="Install the Chef Server on a Virtual Machine"
             >previous</a> |</li>
        <li><a href="http://docs.opscode.com/chef/knife.html" target="_products">Knife</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/resources.html" target="_products">Resources</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/dsl_recipe.html" target="_products">Recipe DSL</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/lwrps_custom.html" target="_products">LWRPs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/search.html">Search the Docs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/">Home</a> &raquo;</li>

          <li><a href="install.html" >Install Chef</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
    This work is licensed under a Creative Commons Attribution 3.0 Unported License.
    </div>


    <div class="footer">
        &copy; Copyright This work is licensed under a Creative Commons Attribution 3.0 Unported License.
    </div>

<!-- Start of Async Google Analytics Code -->
<script type="text/javascript">
var _gaq = _gaq || [];
var pluginUrl = (('https:' == document.location.protocol) ? 'https://ssl.' : 'http://www.') + 'google-analytics.com/plugins/ga/inpage_linkid.js';
_gaq.push(['_setAccount', 'UA-6369228-7']);
_gaq.push(['_setDomainName', '.opscode.com']);
_gaq.push(['_setAllowHash', false]);
_gaq.push(['_setAllowLinker', true]);
_gaq.push(['_addIgnoredRef','opscode.com']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript';
  ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(ga, s); })();
</script>
<!-- End of Async HubSpot Analytics Code -->

<!-- Start of Async HubSpot Analytics Code -->
<script type="text/javascript">
(function(d,s,i,r) {
            if (d.getElementById(i)){return;}
            var n=d.createElement(s),e=d.getElementsByTagName(s)[0];
            n.id=i;n.src='//js.hubspot.com/analytics/'+(Math.ceil(new Date()/r)*r)+'/57718.js';
            e.parentNode.insertBefore(n, e);
        })(document,"script","hs-analytics",300000);
    </script>
<!-- End of Async HubSpot Analytics Code -->

<!-- Start of Contact Analytics Code -->
<script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('255-VFB-268');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
<!-- End of Contact Analytics Code -->


  </body>
</html>