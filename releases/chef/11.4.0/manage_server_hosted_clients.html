

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Manage Clients in Hosted Chef &mdash; Chef Docs</title>
    
    <link rel="stylesheet" href="_static/opscode.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.1-1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/opscode.ico"/>
    <link rel="top" title="Chef Docs" href="index.html" />
    <link rel="up" title="Manage the Hosted Chef Server" href="manage_server_hosted.html" />
    <link rel="next" title="Manage Cookbooks in Hosted Chef" href="manage_server_hosted_cookbooks.html" />
    <link rel="prev" title="Manage Accounts in Hosted Chef" href="manage_server_hosted_accounts.html" /> 
  </head>
  <body>
<div style="background-color: #212c35; text-align: left; padding: 0px 0px 0px 0px">
<a href="http://docs.opscode.com/"><img src="_static/opscode_html_logo.png" border="0" alt="Opscode"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="manage_server_hosted_cookbooks.html" title="Manage Cookbooks in Hosted Chef"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="manage_server_hosted_accounts.html" title="Manage Accounts in Hosted Chef"
             accesskey="P">previous</a> |</li>
        <li><a href="http://docs.opscode.com/chef/knife.html" target="_products">Knife</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/resources.html" target="_products">Resources</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/dsl_recipe.html" target="_products">Recipe DSL</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/lwrps_custom.html" target="_products">LWRPs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/search.html">Search the Docs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/">Home</a> &raquo;</li>

          <li><a href="manage_server_hosted.html" accesskey="U">Manage the Hosted Chef Server</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/opscode_chef_html_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Manage Clients in Hosted Chef</a><ul>
<li><a class="reference internal" href="#create">Create</a></li>
<li><a class="reference internal" href="#delete">Delete</a></li>
<li><a class="reference internal" href="#list">List</a></li>
<li><a class="reference internal" href="#regenerate-private-key">Regenerate Private Key</a></li>
<li><a class="reference internal" href="#from-the-management-console">from the Management Console</a></li>
<li><a class="reference internal" href="#with-knife">with Knife</a></li>
</ul>
</li>
</ul>

        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="manage-clients-in-hosted-chef">
<h1>Manage Clients in Hosted Chef<a class="headerlink" href="#manage-clients-in-hosted-chef" title="Permalink to this headline">¶</a></h1>
<p>A chef-client is an agent that runs locally on every node that is registered with the Chef Server. When a chef-client is run, it will perform all of the steps that are required to bring the node into the expected state, including:</p>
<ul class="simple">
<li>Registering and authenticating the node with the Chef Server</li>
<li>Building the node object</li>
<li>Synchronizing cookbooks</li>
<li>Compiling the resource collection by loading each of the required cookbooks, including recipes, attributes, and all other dependencies</li>
<li>Taking the appropriate and required actions to configure the node</li>
<li>Looking for exceptions and notifications, handling each as required</li>
</ul>
<p>The <strong>Management Console</strong> allows users to create, read, edit, and delete API clients.</p>
<p>On Hosted Chef, &#8220;API Clients&#8221; are entities that are similar to Users, except that clients are always scoped to your organization and only have access to the Hosted Chef API. API Clients are used by chef-client to authenticate when connecting to Hosted Chef. Typically, there is one client for each node under management.</p>
<p>When you first sign up, a &#8220;validator&#8221; client is created for your organization named ORGANIZATION-validator.pem. This &#8220;validator&#8221; client can be used to create new clients for your organization via the Hosted Chef API. If the &#8220;validator&#8221; client is deleted for any reason, you will need to recreate it to authenticate new nodes. Be careful not to let this happen, if it does, following directions on the Common Errors page will to recreate it.</p>
<p>Anyone in possession of a client&#8217;s private key can do anything on your Hosted Chef account that the client is authorized to do, so be sure to protect you clients&#8217; private keys. These keys are typically created the first time a given chef-client connects to Hosted Chef, and stored locally on the node.</p>
<p>You can also manage clients with the command line tool Knife.</p>
<div class="section" id="create">
<h2>Create<a class="headerlink" href="#create" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You need create permissions on the global clients level to create a client.</p>
</div>
<p>New clients are typically created by the chef-client when it first connects to Hosted Chef, so there is no need in that case to manually create a new client.</p>
<p>If you need to manually create one, you can follow these steps:</p>
<ol class="arabic">
<li><p class="first">Log in to the <strong>Management Console</strong> and select an organization to use if you are associated with multiple organizations.</p>
</li>
<li><p class="first">Select the <strong>Clients</strong> tab</p>
</li>
<li><p class="first">Click on the <strong>Create</strong> sub-menu</p>
<img alt="_images/step_manage_server_hosted_client_add_1.png" src="_images/step_manage_server_hosted_client_add_1.png" />
</li>
<li><p class="first">Enter a name for the client and press <strong>Create Client</strong>. A link to your client&#8217;s private key will be shown. Opscode does not store your private keys, so be sure to download and save the private key. You can generate a new private key if you lose it, however.</p>
<img alt="_images/step_manage_server_hosted_client_add_2.png" src="_images/step_manage_server_hosted_client_add_2.png" />
</li>
</ol>
</div>
<div class="section" id="delete">
<h2>Delete<a class="headerlink" href="#delete" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You need delete permissions on the client to delete it.</p>
</div>
<p>To delete a client:</p>
<ol class="arabic">
<li><p class="first">Log in to the <strong>Management Console</strong> and select an organization to use if you are associated with multiple organizations.</p>
</li>
<li><p class="first">Select the <strong>Clients</strong> tab</p>
</li>
<li><p class="first">Click on the delete link next to the client you want to delete. Do not delete the validator client, which will be named ORGANIZATION-validator or you will be unable to authenticate new nodes until you recreate the validator key.</p>
<img alt="_images/step_manage_server_hosted_client_delete.png" src="_images/step_manage_server_hosted_client_delete.png" />
<p>This will prevent that client from authenticating to Hosted Chef.</p>
</li>
</ol>
</div>
<div class="section" id="list">
<h2>List<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You need list permissions on the global clients level to list the clients.</p>
</div>
<p>To see a list of the clients in the organization:</p>
<ol class="arabic">
<li><p class="first">Log in to the <strong>Management Console</strong> and select an organization to use if you are associated with multiple organizations.</p>
</li>
<li><p class="first">Select the <strong>Clients</strong> tab and you will see a list similar to this:</p>
<img alt="_images/step_manage_server_hosted_client_list.png" src="_images/step_manage_server_hosted_client_list.png" />
</li>
</ol>
</div>
<div class="section" id="regenerate-private-key">
<h2>Regenerate Private Key<a class="headerlink" href="#regenerate-private-key" title="Permalink to this headline">¶</a></h2>
<p>Regenerating a client&#8217;s private key invalidates the client&#8217;s old private key and replaces it with a new one. Regenerating the key will be useful if you have lost the client&#8217;s private key, if the client&#8217;s private key has been exposed to someone you don&#8217;t want to have access to your Hosted Chef account, or if you wish to regularly rotate keys for security purposes.</p>
</div>
<div class="section" id="from-the-management-console">
<h2>from the Management Console<a class="headerlink" href="#from-the-management-console" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You need update permissions on the client to recreate this key.</p>
</div>
<p>To regenerate a client&#8217;s private key:</p>
<ol class="arabic">
<li><p class="first">Log in to the <strong>Management Console</strong> and select an organization to use if you are associated with multiple organizations.</p>
</li>
<li><p class="first">Select the <strong>Clients</strong> tab</p>
</li>
<li><p class="first">Click on the regenerate private key link next to the client whose key you want to regenerate:</p>
<img alt="_images/step_manage_server_hosted_client_private_key_regenerate_hosted.png" src="_images/step_manage_server_hosted_client_private_key_regenerate_hosted.png" />
<p>Your new private key will start downloading. Save this key! There is no way for Opscode to recover the key if you lose it, though you can generate a new key again.</p>
</li>
</ol>
</div>
<div class="section" id="with-knife">
<h2>with Knife<a class="headerlink" href="#with-knife" title="Permalink to this headline">¶</a></h2>
<p>To regenerate a client&#8217;s key with knife, use <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">client</span> <span class="pre">reregister</span> <span class="pre">CLIENT</span></tt>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="manage_server_hosted_cookbooks.html" title="Manage Cookbooks in Hosted Chef"
             >next</a></li>
        <li class="right" >
          <a href="manage_server_hosted_accounts.html" title="Manage Accounts in Hosted Chef"
             >previous</a> |</li>
        <li><a href="http://docs.opscode.com/chef/knife.html" target="_products">Knife</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/resources.html" target="_products">Resources</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/dsl_recipe.html" target="_products">Recipe DSL</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/lwrps_custom.html" target="_products">LWRPs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/search.html">Search the Docs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/">Home</a> &raquo;</li>

          <li><a href="manage_server_hosted.html" >Manage the Hosted Chef Server</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
    This work is licensed under a Creative Commons Attribution 3.0 Unported License.
    </div>


    <div class="footer">
        &copy; Copyright This work is licensed under a Creative Commons Attribution 3.0 Unported License.
    </div>

<!-- Start of Async Google Analytics Code -->
<script type="text/javascript">
var _gaq = _gaq || [];
var pluginUrl = (('https:' == document.location.protocol) ? 'https://ssl.' : 'http://www.') + 'google-analytics.com/plugins/ga/inpage_linkid.js';
_gaq.push(['_setAccount', 'UA-6369228-7']);
_gaq.push(['_setDomainName', '.opscode.com']);
_gaq.push(['_setAllowHash', false]);
_gaq.push(['_setAllowLinker', true]);
_gaq.push(['_addIgnoredRef','opscode.com']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript';
  ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(ga, s); })();
</script>
<!-- End of Async HubSpot Analytics Code -->

<!-- Start of Async HubSpot Analytics Code -->
<script type="text/javascript">
(function(d,s,i,r) {
            if (d.getElementById(i)){return;}
            var n=d.createElement(s),e=d.getElementsByTagName(s)[0];
            n.id=i;n.src='//js.hubspot.com/analytics/'+(Math.ceil(new Date()/r)*r)+'/57718.js';
            e.parentNode.insertBefore(n, e);
        })(document,"script","hs-analytics",300000);
    </script>
<!-- End of Async HubSpot Analytics Code -->

<!-- Start of Contact Analytics Code -->
<script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('255-VFB-268');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
<!-- End of Contact Analytics Code -->


  </body>
</html>