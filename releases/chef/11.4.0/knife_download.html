

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>knife download &mdash; Chef Docs</title>
    
    <link rel="stylesheet" href="_static/opscode.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.1-1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/opscode.ico"/>
    <link rel="top" title="Chef Docs" href="index.html" />
    <link rel="up" title="About Knife" href="knife.html" />
    <link rel="next" title="knife environment" href="knife_environment.html" />
    <link rel="prev" title="knife diff" href="knife_diff.html" /> 
  </head>
  <body>
<div style="background-color: #212c35; text-align: left; padding: 0px 0px 0px 0px">
<a href="http://docs.opscode.com/"><img src="_static/opscode_html_logo.png" border="0" alt="Opscode"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="knife_environment.html" title="knife environment"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="knife_diff.html" title="knife diff"
             accesskey="P">previous</a> |</li>
        <li><a href="http://docs.opscode.com/chef/knife.html" target="_products">Knife</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/resources.html" target="_products">Resources</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/dsl_recipe.html" target="_products">Recipe DSL</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/lwrps_custom.html" target="_products">LWRPs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/search.html">Search the Docs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/">Home</a> &raquo;</li>

          <li><a href="knife.html" accesskey="U">About Knife</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/opscode_chef_html_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">knife download</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#options">Options</a><ul>
<li><a class="reference internal" href="#knife-rb-settings">knife.rb Settings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>

        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="knife-download">
<h1>knife download<a class="headerlink" href="#knife-download" title="Permalink to this headline">¶</a></h1>
<p>The <strong>knife download</strong> subcommand is used to download roles, cookbooks, environments, nodes, and data bags from the Chef Server to the current working directory.. It can be used to back up data on the Chef Server, inspect the state of one or more files, or to extract out-of-process changes users may have made to files on the Chef Server, such as if a user made a change that bypassed version source control. This subcommand is often used in conjunction with <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">diff</span></tt>, which can be used to see exactly what changes will be downloaded, and then <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">upload</span></tt>, which does the opposite of <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">download</span></tt>.</p>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<p>This argument has the following syntax:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife download <span class="o">[</span>PATTERN...<span class="o">]</span> <span class="o">(</span>options<span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Review the list of <a class="reference internal" href="knife_common_options.html"><em>common options</em></a> available to this (and all) Knife subcommands and plugins.</p>
</div>
<p>This subcommand has the following options:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-n</span></tt>, <tt class="docutils literal"><span class="pre">--dry-run</span></tt></dt>
<dd>Indicates that no action is taken and that results are only printed out.</dd>
<dt><tt class="docutils literal"><span class="pre">--purge</span></tt></dt>
<dd>Use <tt class="docutils literal"><span class="pre">--purge</span></tt> to delete local files and directories that do not exist on the Chef Server.  By default, if a role, cookbook, etc. does not exist on the Chef server, the local file for said role will be left alone and NOT deleted.  Default: <tt class="docutils literal"><span class="pre">--no-purge</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">--no-recurse</span></tt></dt>
<dd>Use <tt class="docutils literal"><span class="pre">--no-recurse</span></tt> to disable downloading a directory recursively. Default: <tt class="docutils literal"><span class="pre">--recurse</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">--force</span></tt></dt>
<dd>Use <tt class="docutils literal"><span class="pre">--force</span></tt> to download files even when the file on the hard drive is identical to the object on the server (role, cookbook, etc.).  By default, files are compared to see if they have equivalent content, and local files are only overwritten if they are different.  Default: <tt class="docutils literal"><span class="pre">--no-force</span></tt>.</dd>
</dl>
<div class="section" id="knife-rb-settings">
<h3>knife.rb Settings<a class="headerlink" href="#knife-rb-settings" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">See <a class="reference internal" href="config_rb_knife.html"><em>knife.rb</em></a> for more information about how to add optional settings to the knife.rb file.</p>
</div>
<p>The following <tt class="docutils literal"><span class="pre">knife</span> <span class="pre">client</span> <span class="pre">create</span></tt> settings can be added to the knife.rb file:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">knife[:admin]</span></tt></dt>
<dd>Use to add the <tt class="docutils literal"><span class="pre">--admin</span></tt> option.</dd>
<dt><tt class="docutils literal"><span class="pre">knife[:file]</span></tt></dt>
<dd>Use to add the <tt class="docutils literal"><span class="pre">--file</span></tt> option.</dd>
</dl>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>To download the entire Chef repository from the Chef Server, browse to the top level of the Chef repository and enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife download
</pre></div>
</div>
<p>or from anywhere in the Chef repository, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife download /
</pre></div>
</div>
<p>To download the <tt class="docutils literal"><span class="pre">cookbooks/</span></tt> directory from the Chef Server, browse to the top level of the Chef repository and enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife download cookbooks
</pre></div>
</div>
<p>or from anywhere in the Chef repository, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife download /cookbooks
</pre></div>
</div>
<p>To download the <tt class="docutils literal"><span class="pre">environments/</span></tt> directory from the Chef Server, browse to the top level of the Chef repository and enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife download environments
</pre></div>
</div>
<p>or from anywhere in the Chef repository, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife download /environments
</pre></div>
</div>
<p>To download an environment named &#8220;production&#8221; from the Chef Server, browse to the top level of the Chef repository and enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife download environments/production.json
</pre></div>
</div>
<p>or from the <tt class="docutils literal"><span class="pre">environments/</span></tt> directory, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife download production.json
</pre></div>
</div>
<p>To download the <tt class="docutils literal"><span class="pre">roles/</span></tt> directory from the Chef Server, browse to the top level of the Chef repository and enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife download roles
</pre></div>
</div>
<p>or from anywhere in the Chef repository, enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>knife download /roles
</pre></div>
</div>
<p>To download all cookbooks that start with &#8220;apache&#8221; and belong to the &#8220;webserver&#8221; role, browse to the top level of the Chef repository and enter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span> knife download cookbooks/apache<span class="se">\*</span> roles/webserver.json
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="knife_environment.html" title="knife environment"
             >next</a></li>
        <li class="right" >
          <a href="knife_diff.html" title="knife diff"
             >previous</a> |</li>
        <li><a href="http://docs.opscode.com/chef/knife.html" target="_products">Knife</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/resources.html" target="_products">Resources</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/dsl_recipe.html" target="_products">Recipe DSL</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/lwrps_custom.html" target="_products">LWRPs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/search.html">Search the Docs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/">Home</a> &raquo;</li>

          <li><a href="knife.html" >About Knife</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
    This work is licensed under a Creative Commons Attribution 3.0 Unported License.
    </div>


    <div class="footer">
        &copy; Copyright This work is licensed under a Creative Commons Attribution 3.0 Unported License.
    </div>

<!-- Start of Async Google Analytics Code -->
<script type="text/javascript">
var _gaq = _gaq || [];
var pluginUrl = (('https:' == document.location.protocol) ? 'https://ssl.' : 'http://www.') + 'google-analytics.com/plugins/ga/inpage_linkid.js';
_gaq.push(['_setAccount', 'UA-6369228-7']);
_gaq.push(['_setDomainName', '.opscode.com']);
_gaq.push(['_setAllowHash', false]);
_gaq.push(['_setAllowLinker', true]);
_gaq.push(['_addIgnoredRef','opscode.com']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript';
  ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(ga, s); })();
</script>
<!-- End of Async HubSpot Analytics Code -->

<!-- Start of Async HubSpot Analytics Code -->
<script type="text/javascript">
(function(d,s,i,r) {
            if (d.getElementById(i)){return;}
            var n=d.createElement(s),e=d.getElementsByTagName(s)[0];
            n.id=i;n.src='//js.hubspot.com/analytics/'+(Math.ceil(new Date()/r)*r)+'/57718.js';
            e.parentNode.insertBefore(n, e);
        })(document,"script","hs-analytics",300000);
    </script>
<!-- End of Async HubSpot Analytics Code -->

<!-- Start of Contact Analytics Code -->
<script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('255-VFB-268');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
<!-- End of Contact Analytics Code -->


  </body>
</html>