

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Install the Chef Server on a Virtual Machine &mdash; Chef Docs</title>
    
    <link rel="stylesheet" href="_static/opscode.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.1-1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/opscode.ico"/>
    <link rel="top" title="Chef Docs" href="index.html" />
    <link rel="next" title="About Knife" href="knife.html" />
    <link rel="prev" title="Install Chef Server 11.x" href="install_server.html" /> 
  </head>
  <body>
<div style="background-color: #212c35; text-align: left; padding: 0px 0px 0px 0px">
<a href="http://docs.opscode.com/"><img src="_static/opscode_html_logo.png" border="0" alt="Opscode"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="knife.html" title="About Knife"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="install_server.html" title="Install Chef Server 11.x"
             accesskey="P">previous</a> |</li>
        <li><a href="http://docs.opscode.com/chef/knife.html" target="_products">Knife</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/resources.html" target="_products">Resources</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/dsl_recipe.html" target="_products">Recipe DSL</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/lwrps_custom.html" target="_products">LWRPs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/search.html">Search the Docs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/">Home</a> &raquo;</li>
 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/opscode_chef_html_logo.png" alt="Logo"/>
            </a></p>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="install-the-chef-server-on-a-virtual-machine">
<h1>Install the Chef Server on a Virtual Machine<a class="headerlink" href="#install-the-chef-server-on-a-virtual-machine" title="Permalink to this headline">Â¶</a></h1>
<p>The following example walks through the process of setting up the open source version of Chef Server 11.x in a virtual machine for the purpose of demoing Chef. Any type virtual machine software can be used to run the Chef Server; however, this example is based on the following assumptions:</p>
<ul class="simple">
<li>A computer is running VMware Fusion 5x</li>
<li>A virtual machine is configured in VMware Fusion 5x in which a 64-bit version of Ubuntu 12.04 is installed</li>
<li>Ubuntu is installed with the default configuration (so that it has a very smal footprint in the virtual machine)</li>
<li>The browser used to access the Chef Server is located on the same computer as the virtual machine</li>
<li>The URL used to access the Chef Server will include the IP address or FQDN of the virtual machine, e.g. <tt class="docutils literal"><span class="pre">https://123.45.6.789</span></tt></li>
<li>A bridged network adapter is all that is required</li>
<li>The Chef Server is the only application installed on the virtual machine, other than the operating system</li>
</ul>
<p>The steps below will start with downloading the package for Chef Server 11.x to the virtual machine. These steps are nearly identical for any installation of Chef Server 11.x no matter the type of software used to host the virtual machine.</p>
<p>To install Chef Server 11.x on a virtual machine:</p>
<ol class="arabic">
<li><p class="first">Go to <a class="reference external" href="http://www.opscode.com/chef/install">http://www.opscode.com/chef/install</a>. Select a platform, version, and architecture, and then choose the version of the Chef Server to be downloaded. The name of the package will be displayed after the version is selected. Right-click the name of the package and copy the link location.</p>
<img alt="_images/step_install_server_open_download_page.png" src="_images/step_install_server_open_download_page.png" />
</li>
<li><p class="first">Download the Chef Server package to the virtual machine using the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>wget https://opscode-omnitruck-release.s3.amazonaws.com/ubuntu/12.04/x86_64/chef-server_11.0.6-1.ubuntu.12.04_amd64.deb
</pre></div>
</div>
<p>where the URL is the copied link location from the previous step. As the download progresses, the command window will appear similar to the following:</p>
<img alt="_images/step_install_server_open_download_chef_server.png" src="_images/step_install_server_open_download_chef_server.png" />
</li>
<li><p class="first">When the download is finished, install the Chef Server using the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo dpkg -i chef-server_11.0.6-1.ubuntu.12.04_amd64.deb
</pre></div>
</div>
<img alt="_images/step_install_server_open_install_chef_server.png" src="_images/step_install_server_open_install_chef_server.png" />
</li>
<li><p class="first">After the Chef Server is installed, run the <tt class="docutils literal"><span class="pre">reconfigure</span></tt> command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo chef-server-ctl reconfigure
</pre></div>
</div>
<p>This action will take steps to ensure that the Chef Server is installed and configured correctly. Many of these actions are actual Chef recipes being run by an instance of chef-solo. While these actions are being taken, the command window will appear similar to the following:</p>
<img alt="_images/step_install_server_open_pedant_recipes.png" src="_images/step_install_server_open_pedant_recipes.png" />
</li>
<li><p class="first">After the Chef Server is reconfigured, verify that the network adapter in the virtual machine is set to &#8220;bridge mode&#8221;.</p>
<img alt="_images/step_install_server_open_set_bridge_mode.png" src="_images/step_install_server_open_set_bridge_mode.png" />
</li>
<li><p class="first">Shut down, and then restart the network adapter using the following commands:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo ifdown eth0
</pre></div>
</div>
<p>and then:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo ifup eth0
</pre></div>
</div>
</li>
<li><p class="first">Get the IP address for the Chef Server by running the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>ifconfig
</pre></div>
</div>
<p>(The IP address is identified by the <tt class="docutils literal"><span class="pre">inet</span> <span class="pre">addr</span></tt> field.)</p>
</li>
<li><p class="first">Open a browser and then enter the IP address as the URL for the Chef Server. The Chef Server requires HTTPS, so the URL would be something similar to the following: <tt class="docutils literal"><span class="pre">https://123.45.6.789</span></tt>.</p>
</li>
<li><p class="first">In the initial logon page for the Chef Server, use the default user name (<tt class="docutils literal"><span class="pre">admin</span></tt>) and password (<tt class="docutils literal"><span class="pre">p&#64;ssw0rd1</span></tt>) to log on.</p>
<img alt="_images/step_install_server_open_login.png" src="_images/step_install_server_open_login.png" />
</li>
<li><p class="first">Change the default password.</p>
</li>
</ol>
<p>At this point, the Chef Server is installed and configured. The next steps are to <a class="reference external" href="http://docs.opscode.com/install.html">install Chef on a workstation</a>, and then <a class="reference external" href="http://docs.opscode.com/install_step_bootstrap.html">bootstrap Chef</a> on to each of the machines that will be managed and configured by Chef.</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="knife.html" title="About Knife"
             >next</a></li>
        <li class="right" >
          <a href="install_server.html" title="Install Chef Server 11.x"
             >previous</a> |</li>
        <li><a href="http://docs.opscode.com/chef/knife.html" target="_products">Knife</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/resources.html" target="_products">Resources</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/dsl_recipe.html" target="_products">Recipe DSL</a>&#149;</li>
        <li><a href="http://docs.opscode.com/chef/lwrps_custom.html" target="_products">LWRPs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/search.html">Search the Docs</a>&#149;</li>
        <li><a href="http://docs.opscode.com/">Home</a> &raquo;</li>
 
      </ul>
    </div>

    <div class="footer">
    This work is licensed under a Creative Commons Attribution 3.0 Unported License.
    </div>


    <div class="footer">
        &copy; Copyright This work is licensed under a Creative Commons Attribution 3.0 Unported License.
    </div>

<!-- Start of Async Google Analytics Code -->
<script type="text/javascript">
var _gaq = _gaq || [];
var pluginUrl = (('https:' == document.location.protocol) ? 'https://ssl.' : 'http://www.') + 'google-analytics.com/plugins/ga/inpage_linkid.js';
_gaq.push(['_setAccount', 'UA-6369228-7']);
_gaq.push(['_setDomainName', '.opscode.com']);
_gaq.push(['_setAllowHash', false]);
_gaq.push(['_setAllowLinker', true]);
_gaq.push(['_addIgnoredRef','opscode.com']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript';
  ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(ga, s); })();
</script>
<!-- End of Async HubSpot Analytics Code -->

<!-- Start of Async HubSpot Analytics Code -->
<script type="text/javascript">
(function(d,s,i,r) {
            if (d.getElementById(i)){return;}
            var n=d.createElement(s),e=d.getElementsByTagName(s)[0];
            n.id=i;n.src='//js.hubspot.com/analytics/'+(Math.ceil(new Date()/r)*r)+'/57718.js';
            e.parentNode.insertBefore(n, e);
        })(document,"script","hs-analytics",300000);
    </script>
<!-- End of Async HubSpot Analytics Code -->

<!-- Start of Contact Analytics Code -->
<script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('255-VFB-268');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
<!-- End of Contact Analytics Code -->


  </body>
</html>